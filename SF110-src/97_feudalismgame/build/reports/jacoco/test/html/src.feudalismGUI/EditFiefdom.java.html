<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>EditFiefdom.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">97_feudalismgame</a> &gt; <a href="index.source.html" class="el_package">src.feudalismGUI</a> &gt; <span class="el_source">EditFiefdom.java</span></div><h1>EditFiefdom.java</h1><pre class="source lang-java linenums">package src.feudalismGUI;

import java.awt.GridBagConstraints;
import java.awt.GridBagLayout;
import java.awt.GridLayout;
import java.awt.event.MouseEvent;
import java.awt.event.MouseListener;
import java.util.HashMap;

import javax.swing.DefaultListModel;
import javax.swing.DefaultListSelectionModel;
import javax.swing.JLabel;
import javax.swing.JList;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JSeparator;
import javax.swing.JTextArea;
import javax.swing.JTextField;
import javax.swing.ListSelectionModel;
import javax.swing.SwingConstants;

import src.Fiefdoms;
import src.Map;


public class EditFiefdom extends JPanel
{
//	private JPanel content = new JPanel(new FlowLayout());
<span class="nc" id="L29">	private JPanel leftPanel = new JPanel(new GridBagLayout());</span>
<span class="nc" id="L30">	private JPanel rightPanel = new JPanel(new GridLayout(9, 2));</span>
	private JLabel lFiefdoms;
	private JLabel lLoyal;
	private JLabel lRebellious;
	private JLabel lViking;
	private JLabel lMagyar;
	private JLabel lMuslim;
	private JLabel lPeasants;
	private JLabel lPersonalCastles;
	private JLabel lFiefdomCastles;
	private JLabel lEvents;
<span class="nc" id="L41">	private JTextField tLoyal = new JTextField();</span>
<span class="nc" id="L42">	private JTextField tRebellious = new JTextField();</span>
<span class="nc" id="L43">	private JTextField tViking = new JTextField();</span>
<span class="nc" id="L44">	private JTextField tMagyar = new JTextField();</span>
<span class="nc" id="L45">	private JTextField tMuslim = new JTextField();</span>
<span class="nc" id="L46">	private JTextField tPeasants = new JTextField();</span>
<span class="nc" id="L47">	private JTextField tPersonalCastles = new JTextField();</span>
<span class="nc" id="L48">	private JTextField tFiefdomCastles = new JTextField();</span>
<span class="nc" id="L49">	private JTextArea tEvents = new JTextArea(); // something else?</span>
	private HashMap&lt;String, Fiefdoms&gt; mapFiefdoms;
	private Object[] fiefdoms;
<span class="nc" id="L52">	private DefaultListModel listModel = new DefaultListModel();</span>
	private JList fiefdomsList;
	private JScrollPane scrollFiefdomsPane;
	
	public EditFiefdom()
<span class="nc" id="L57">	{</span>
<span class="nc" id="L58">		setSize(300, 300);</span>
<span class="nc" id="L59">		lFiefdoms = new JLabel(&quot;Fiefdoms&quot;);</span>
<span class="nc" id="L60">		lLoyal = new JLabel(&quot;Loyal Vassals&quot;);</span>
<span class="nc" id="L61">		lRebellious = new JLabel(&quot;Rebelious Vassals&quot;);</span>
<span class="nc" id="L62">		lViking = new JLabel(&quot;Vikings&quot;);</span>
<span class="nc" id="L63">		lMagyar = new JLabel(&quot;Magyars&quot;);</span>
<span class="nc" id="L64">		lMuslim = new JLabel(&quot;Muslims&quot;);</span>
<span class="nc" id="L65">		lPeasants = new JLabel(&quot;Peasants&quot;);</span>
<span class="nc" id="L66">		lPersonalCastles = new JLabel(&quot;Personal Castles&quot;);</span>
<span class="nc" id="L67">		lFiefdomCastles = new JLabel(&quot;Fiefdom Castles&quot;);</span>
<span class="nc" id="L68">		lEvents = new JLabel(&quot;Events&quot;);</span>
<span class="nc" id="L69">		mapFiefdoms = Map.getAll();</span>
<span class="nc" id="L70">		fiefdoms = mapFiefdoms.keySet().toArray();</span>
//		listModel.addListDataListener(new ListData());  // like AddUser
<span class="nc bnc" id="L72" title="All 2 branches missed.">		for(Object name : fiefdoms) { listModel.addElement(name); }</span>
<span class="nc" id="L73">		fiefdomsList = new JList(listModel);</span>
<span class="nc" id="L74">		fiefdomsList.addMouseListener(new ListMouseListener());</span>
		// only allow one selection at a time
<span class="nc" id="L76">		DefaultListSelectionModel dlsm = new DefaultListSelectionModel();</span>
<span class="nc" id="L77">		dlsm.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);</span>
<span class="nc" id="L78">		fiefdomsList.setSelectionModel(dlsm);</span>
<span class="nc" id="L79">		scrollFiefdomsPane = new JScrollPane(fiefdomsList);</span>
<span class="nc" id="L80">		generateFields();</span>
<span class="nc" id="L81">	}</span>

	private void generateFields()
	{
<span class="nc" id="L85">		GridBagConstraints gbConstraints = new GridBagConstraints();</span>
<span class="nc" id="L86">		gbConstraints.gridx = 0;</span>
<span class="nc" id="L87">		gbConstraints.gridy = 0;</span>
<span class="nc" id="L88">		leftPanel.add(lFiefdoms, gbConstraints);</span>
<span class="nc" id="L89">		gbConstraints.gridy = 1;</span>
<span class="nc" id="L90">		leftPanel.add(scrollFiefdomsPane, gbConstraints);</span>
		
<span class="nc" id="L92">		rightPanel.add(lLoyal);</span>
<span class="nc" id="L93">		rightPanel.add(tLoyal);</span>
<span class="nc" id="L94">		rightPanel.add(lRebellious);</span>
<span class="nc" id="L95">		rightPanel.add(tRebellious);</span>
<span class="nc" id="L96">		rightPanel.add(lViking);</span>
<span class="nc" id="L97">		rightPanel.add(tViking);</span>
<span class="nc" id="L98">		rightPanel.add(lMagyar);</span>
<span class="nc" id="L99">		rightPanel.add(tMagyar);</span>
<span class="nc" id="L100">		rightPanel.add(lMuslim);</span>
<span class="nc" id="L101">		rightPanel.add(tMuslim);</span>
<span class="nc" id="L102">		rightPanel.add(lPeasants);</span>
<span class="nc" id="L103">		rightPanel.add(tPeasants);</span>
<span class="nc" id="L104">		rightPanel.add(lPersonalCastles);</span>
<span class="nc" id="L105">		rightPanel.add(tPersonalCastles);</span>
<span class="nc" id="L106">		rightPanel.add(lFiefdomCastles);</span>
<span class="nc" id="L107">		rightPanel.add(tFiefdomCastles);</span>
<span class="nc" id="L108">		rightPanel.add(lEvents);</span>
<span class="nc" id="L109">		rightPanel.add(tEvents);</span>
		
<span class="nc" id="L111">		this.add(leftPanel);</span>
<span class="nc" id="L112">		this.add(new JSeparator(SwingConstants.VERTICAL));</span>
<span class="nc" id="L113">		this.add(rightPanel);</span>
<span class="nc" id="L114">	}</span>
		
<span class="nc" id="L116">	private class ListMouseListener implements MouseListener</span>
	{
		private void populateFields()
		{
<span class="nc" id="L120">			String selected = (String) fiefdomsList.getSelectedValue();</span>
<span class="nc" id="L121">			Fiefdoms currentFiefdom = mapFiefdoms.get(selected);</span>
<span class="nc" id="L122">			tLoyal.setText(Integer.toString(currentFiefdom.getLoyalVassals().size()));</span>
<span class="nc" id="L123">			tRebellious.setText(Integer.toString(currentFiefdom.getRebelliousVassals().size()));</span>
<span class="nc" id="L124">			tViking.setText(Integer.toString(currentFiefdom.getViking().size()));</span>
<span class="nc" id="L125">			tMagyar.setText(Integer.toString(currentFiefdom.getMagyar().size()));</span>
<span class="nc" id="L126">			tMuslim.setText(Integer.toString(currentFiefdom.getMuslim().size()));</span>
<span class="nc" id="L127">			tPeasants.setText(Integer.toString(currentFiefdom.getPeasants()));</span>
<span class="nc" id="L128">			tPersonalCastles.setText(Integer.toString(currentFiefdom.getPersonalCastles()));</span>
<span class="nc" id="L129">			tFiefdomCastles.setText(Integer.toString(currentFiefdom.getFiefdomCastles()));</span>
<span class="nc" id="L130">			tEvents.setText(checkEvents(currentFiefdom));</span>
<span class="nc" id="L131">		}</span>
		
		private String checkEvents(Fiefdoms currentFiefdom)
		{
<span class="nc" id="L135">			String events = &quot;&quot;;</span>
<span class="nc bnc" id="L136" title="All 2 branches missed.">			if (currentFiefdom.getViking().size() &gt; 0)</span>
			{
<span class="nc bnc" id="L138" title="All 2 branches missed.">				if (events != &quot;&quot;)</span>
<span class="nc" id="L139">					events += &quot;\n&quot;;</span>
<span class="nc" id="L140">				events += &quot;Vikings attacking&quot;;</span>
			}
<span class="nc bnc" id="L142" title="All 2 branches missed.">			if (currentFiefdom.getMagyar().size() &gt; 0)</span>
			{
<span class="nc bnc" id="L144" title="All 2 branches missed.">				if (events != &quot;&quot;)</span>
<span class="nc" id="L145">					events += &quot;\n&quot;;</span>
<span class="nc" id="L146">				events +=&quot;Magyars attacking&quot;;</span>
			}
<span class="nc bnc" id="L148" title="All 2 branches missed.">			if (currentFiefdom.getMuslim().size() &gt; 0)</span>
			{
<span class="nc bnc" id="L150" title="All 2 branches missed.">				if (events != &quot;&quot;)</span>
<span class="nc" id="L151">					events += &quot;\n&quot;;</span>
<span class="nc" id="L152">				events +=&quot;Muslims attacking&quot;;</span>
			}
<span class="nc bnc" id="L154" title="All 2 branches missed.">			if (currentFiefdom.getPeasants() &gt; 0)</span>
			{
<span class="nc bnc" id="L156" title="All 2 branches missed.">				if (events != &quot;&quot;)</span>
<span class="nc" id="L157">					events += &quot;\n&quot;;</span>
<span class="nc" id="L158">				events += &quot;Peasant uprising&quot;;</span>
			}
<span class="nc bnc" id="L160" title="All 2 branches missed.">			if (currentFiefdom.getRebelliousVassals().size() &gt; 0)</span>
			{
<span class="nc bnc" id="L162" title="All 2 branches missed.">				if (events != &quot;&quot;)</span>
<span class="nc" id="L163">					events += &quot;\n&quot;;</span>
<span class="nc" id="L164">				events += &quot;Rebellious Knights&quot;;</span>
			}
<span class="nc" id="L166">			return events;</span>
		}
		
		public void mouseClicked(MouseEvent e) 
		{
<span class="nc" id="L171">			populateFields();</span>
<span class="nc" id="L172">		}</span>

		public void mouseEntered(MouseEvent e) {
			// TODO Auto-generated method stub
			
<span class="nc" id="L177">		}</span>

		public void mouseExited(MouseEvent e) {
			// TODO Auto-generated method stub
			
<span class="nc" id="L182">		}</span>

		public void mousePressed(MouseEvent e) {
			// TODO Auto-generated method stub
			
<span class="nc" id="L187">		}</span>

		public void mouseReleased(MouseEvent e) {
			// TODO Auto-generated method stub
			
<span class="nc" id="L192">		}</span>
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>