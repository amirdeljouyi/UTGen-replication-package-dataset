<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>GUI.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">47_dvd-homevideo</a> &gt; <a href="index.source.html" class="el_package">default</a> &gt; <span class="el_source">GUI.java</span></div><h1>GUI.java</h1><pre class="source lang-java linenums">//import com.sun.corba.se.impl.protocol.giopmsgheaders.Message;
import java.io.FileNotFoundException;
import java.io.File;
import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.FileReader;
import java.io.FileWriter;
import java.io.IOException;
import java.io.InputStreamReader;
import java.io.FileFilter;

import java.awt.Color;

import javax.swing.JFileChooser;
import javax.swing.JOptionPane;

import java.util.StringTokenizer;

/**
 * @author  Shane Santner
 * This class provides the GUI for dvd-homevideo.
 */
public class GUI extends javax.swing.JFrame
{
    /* 
     * Creates a new form, probably the most compilcated - or
     * messiest constructor I have ever developed.
     */
    public GUI() 
<span class="nc" id="L30">    {</span>
        /*
         * initComponents is a netbeans generated method that does
         * all of the GUI stuff for dvd-homevideo.
         */
<span class="nc" id="L35">        initComponents();</span>
        
        /* 
         * Sets the maximum allowable values for the minutes
         * and seconds Spinners.
         */
<span class="nc" id="L41">        spnSeconds.setModel(spnSecondsSize);</span>
<span class="nc" id="L42">        spnMinutes.setModel(spnMinutesSize);        </span>
        
        /* First do a check for the required programs */
<span class="nc bnc" id="L45" title="All 2 branches missed.">        if(!checkForProg(DependentPrograms))</span>
<span class="nc" id="L46">            MessageBox(&quot;You do not appear to have the necessary\n&quot; +</span>
                    &quot;programs installed for dvd-homevideo to operate\n&quot; +
                    &quot;correctly.  Please check the README file for the\n&quot; +
                    &quot;list of dependencies.  dvd-homevideo will not\n&quot; +
                    &quot;function correctly until all dependencies are installed!&quot;, 1);
        
        /* Now check for the required ieee1394 module */
<span class="nc bnc" id="L53" title="All 2 branches missed.">        if(!checkForModules())</span>
<span class="nc" id="L54">            MessageBox(&quot;You do not have the correct modules loaded\n&quot; +</span>
                    &quot;for dvd-homevideo to function properly.  Please\n&quot; +
                    &quot;check the README file for further instructions!&quot;,1);
<span class="nc bnc" id="L57" title="All 2 branches missed.">        if(getJMenuBar() != null)</span>
<span class="nc" id="L58">            (this.getJMenuBar()).setOpaque(false);</span>
        
        /* 
         * Create Project directory.  This is where (~/.dvd-homevideo) the 
         * .xml files for each session get stored as well as user preferences.
         */
<span class="nc" id="L64">	File ProjectDir = new File(System.getProperty(&quot;user.home&quot;) + &quot;/.dvd-homevideo&quot;);</span>
<span class="nc bnc" id="L65" title="All 2 branches missed.">	if(!ProjectDir.exists()) </span>
        {
<span class="nc" id="L67">            MessageBox(&quot;All projects will be automatically saved to: &quot; + System.getProperty(&quot;user.home&quot;) + &quot;/.dvd-homevideo/&quot;, 1);</span>
<span class="nc" id="L68">            ProjectDir.mkdir();</span>
        }
<span class="nc" id="L70">        File ProjProperties = new File(System.getProperty(&quot;user.home&quot;) + &quot;/.dvd-homevideo/properties&quot;);</span>
<span class="nc bnc" id="L71" title="All 2 branches missed.">	if(!ProjProperties.exists()) </span>
        {            
            try 
            {
<span class="nc" id="L75">                BufferedWriter projProp = new BufferedWriter(new FileWriter(ProjProperties));</span>
<span class="nc" id="L76">                projProp.close();</span>
            }
<span class="nc" id="L78">            catch(IOException ex) </span>
            {
<span class="nc" id="L80">                SaveStackTrace.printTrace(strOutputDir, ex);</span>
<span class="nc" id="L81">                MessageBox(&quot;IO Error writing to properties file...in GUI.java\n&quot; + ex.toString(), 0);</span>
<span class="nc" id="L82">                ex.printStackTrace();                </span>
<span class="nc" id="L83">            }</span>
        }
                
        /* If the user has specified individual customization, then read it */
<span class="nc" id="L87">        ReadProjProperties();</span>
<span class="nc" id="L88">    }</span>
    /* End of constructor */
    
<span class="nc" id="L91">    javax.swing.ImageIcon image = new javax.swing.ImageIcon(getClass().getResource(&quot;/logo_32x32.png&quot;));</span>
    protected String strOutputDir;
    protected boolean blnBegin;
    
    /* My list of dependent programs for dvd-homevideo */
<span class="nc" id="L96">    protected String[] DependentPrograms = {&quot;dvgrab&quot;,&quot;transcode&quot;,&quot;mplex&quot;,&quot;dvd-menu&quot;,&quot;dvdauthor&quot;,&quot;growisofs&quot;,&quot;ffmpeg&quot;,&quot;lame&quot;,&quot;sox&quot;};</span>
    
    /** 
     * This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Generated Code &quot;&gt;//GEN-BEGIN:initComponents
    private void initComponents() {
<span class="nc" id="L106">        grpQuality = new javax.swing.ButtonGroup();</span>
<span class="nc" id="L107">        fcOpen = new javax.swing.JFileChooser();</span>
<span class="nc" id="L108">        grpFormat = new javax.swing.ButtonGroup();</span>
<span class="nc" id="L109">        grpAspectRatio = new javax.swing.ButtonGroup();</span>
<span class="nc" id="L110">        fcMenuOpen = new javax.swing.JFileChooser();</span>
<span class="nc" id="L111">        grpMenuFormat = new javax.swing.ButtonGroup();</span>
<span class="nc" id="L112">        grpMenuAspectRatio = new javax.swing.ButtonGroup();</span>
<span class="nc" id="L113">        grpMenuMode = new javax.swing.ButtonGroup();</span>
<span class="nc" id="L114">        grpMenuIgnore = new javax.swing.ButtonGroup();</span>
<span class="nc" id="L115">        pnlGUI = new javax.swing.JPanel();</span>
<span class="nc" id="L116">        lblMinutes = new javax.swing.JLabel();</span>
<span class="nc" id="L117">        spnMinutes = new javax.swing.JSpinner();</span>
<span class="nc" id="L118">        lblSeconds = new javax.swing.JLabel();</span>
<span class="nc" id="L119">        spnSeconds = new javax.swing.JSpinner();</span>
<span class="nc" id="L120">        chkQuality = new javax.swing.JCheckBox();</span>
<span class="nc" id="L121">        rdSuper = new javax.swing.JRadioButton();</span>
<span class="nc" id="L122">        rdGood = new javax.swing.JRadioButton();</span>
<span class="nc" id="L123">        rdAverage = new javax.swing.JRadioButton();</span>
<span class="nc" id="L124">        btnStart = new javax.swing.JButton();</span>
<span class="nc" id="L125">        btnExit = new javax.swing.JButton();</span>
<span class="nc" id="L126">        chkMenu = new javax.swing.JCheckBox();</span>
<span class="nc" id="L127">        lblPicture = new javax.swing.JLabel();</span>
<span class="nc" id="L128">        txtPicture = new javax.swing.JTextField();</span>
<span class="nc" id="L129">        lblAudio = new javax.swing.JLabel();</span>
<span class="nc" id="L130">        txtAudio = new javax.swing.JTextField();</span>
<span class="nc" id="L131">        btnOpen_Picture = new javax.swing.JButton();</span>
<span class="nc" id="L132">        prgCapture = new javax.swing.JProgressBar();</span>
<span class="nc" id="L133">        prgConvert = new javax.swing.JProgressBar();</span>
<span class="nc" id="L134">        prgAuthor = new javax.swing.JProgressBar();</span>
<span class="nc" id="L135">        btnOpen_Audio = new javax.swing.JButton();</span>
<span class="nc" id="L136">        lblTextFile = new javax.swing.JLabel();</span>
<span class="nc" id="L137">        txtTextFile = new javax.swing.JTextField();</span>
<span class="nc" id="L138">        btnOpen_TextFile = new javax.swing.JButton();</span>
<span class="nc" id="L139">        txtOutputDir = new javax.swing.JTextField();</span>
<span class="nc" id="L140">        lblOutputDir = new javax.swing.JLabel();</span>
<span class="nc" id="L141">        txtTitle = new javax.swing.JTextField();</span>
<span class="nc" id="L142">        lblTitle = new javax.swing.JLabel();</span>
<span class="nc" id="L143">        btnOpen_OutputDir = new javax.swing.JButton();</span>
<span class="nc" id="L144">        chkBurn = new javax.swing.JCheckBox();</span>
<span class="nc" id="L145">        lblCaptureProg = new javax.swing.JLabel();</span>
<span class="nc" id="L146">        lblConvertProg = new javax.swing.JLabel();</span>
<span class="nc" id="L147">        lblAuthorProg = new javax.swing.JLabel();</span>
<span class="nc" id="L148">        lblCapture = new javax.swing.JLabel();</span>
<span class="nc" id="L149">        lblConvert = new javax.swing.JLabel();</span>
<span class="nc" id="L150">        lblAuthor = new javax.swing.JLabel();</span>
<span class="nc" id="L151">        sprCapConvert = new javax.swing.JSeparator();</span>
<span class="nc" id="L152">        sprMenuAuthor = new javax.swing.JSeparator();</span>
<span class="nc" id="L153">        spTextArea = new javax.swing.JScrollPane();</span>
<span class="nc" id="L154">        txtAreaOutput = new javax.swing.JTextArea();</span>
<span class="nc" id="L155">        rdNTSC = new javax.swing.JRadioButton();</span>
<span class="nc" id="L156">        rdPAL = new javax.swing.JRadioButton();</span>
<span class="nc" id="L157">        rd4_3 = new javax.swing.JRadioButton();</span>
<span class="nc" id="L158">        rd16_9 = new javax.swing.JRadioButton();</span>
<span class="nc" id="L159">        lblFormat = new javax.swing.JLabel();</span>
<span class="nc" id="L160">        lblAspectRatio = new javax.swing.JLabel();</span>
<span class="nc" id="L161">        sprAspectRatio = new javax.swing.JSeparator();</span>
<span class="nc" id="L162">        btnPlay = new javax.swing.JButton();</span>
<span class="nc" id="L163">        txtStatus = new javax.swing.JTextField();</span>
<span class="nc" id="L164">        menuBarMain = new javax.swing.JMenuBar();</span>
<span class="nc" id="L165">        menuFile = new javax.swing.JMenu();</span>
<span class="nc" id="L166">        menuOpen = new javax.swing.JMenuItem();</span>
<span class="nc" id="L167">        sprOpen = new javax.swing.JSeparator();</span>
<span class="nc" id="L168">        menuSave = new javax.swing.JMenuItem();</span>
<span class="nc" id="L169">        sprSave = new javax.swing.JSeparator();</span>
<span class="nc" id="L170">        menuExit = new javax.swing.JMenuItem();</span>
<span class="nc" id="L171">        menuTools = new javax.swing.JMenu();</span>
<span class="nc" id="L172">        menuRd_IgnoreNone = new javax.swing.JRadioButtonMenuItem();</span>
<span class="nc" id="L173">        menuRd_IgnoreCap = new javax.swing.JRadioButtonMenuItem();</span>
<span class="nc" id="L174">        menuRd_IgnoreCapConv = new javax.swing.JRadioButtonMenuItem();</span>
<span class="nc" id="L175">        menuRd_IgnoreCapConvMenu = new javax.swing.JRadioButtonMenuItem();</span>
<span class="nc" id="L176">        sprIgnore = new javax.swing.JSeparator();</span>
<span class="nc" id="L177">        menuProjProp = new javax.swing.JMenu();</span>
<span class="nc" id="L178">        menuRdNTSC = new javax.swing.JRadioButtonMenuItem();</span>
<span class="nc" id="L179">        menuRdPAL = new javax.swing.JRadioButtonMenuItem();</span>
<span class="nc" id="L180">        sprMenuFormatAspect = new javax.swing.JSeparator();</span>
<span class="nc" id="L181">        menuRd_4_3 = new javax.swing.JRadioButtonMenuItem();</span>
<span class="nc" id="L182">        menuRd_16_9 = new javax.swing.JRadioButtonMenuItem();</span>
<span class="nc" id="L183">        sprMenuThread = new javax.swing.JSeparator();</span>
<span class="nc" id="L184">        menuChkThread = new javax.swing.JCheckBoxMenuItem();</span>
<span class="nc" id="L185">        menuHelp = new javax.swing.JMenu();</span>
<span class="nc" id="L186">        menuInternet = new javax.swing.JMenuItem();</span>
<span class="nc" id="L187">        menuREADME = new javax.swing.JMenuItem();</span>
<span class="nc" id="L188">        menuBug = new javax.swing.JMenuItem();</span>
<span class="nc" id="L189">        menuAbout = new javax.swing.JMenuItem();</span>

<span class="nc" id="L191">        fcOpen.setName(&quot;fcOpen&quot;);</span>

<span class="nc" id="L193">        getContentPane().setLayout(new java.awt.GridBagLayout());</span>

<span class="nc" id="L195">        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);</span>
<span class="nc" id="L196">        setTitle(&quot;dvd-homevideo&quot;);</span>
<span class="nc" id="L197">        setIconImage(image.getImage());</span>
<span class="nc" id="L198">        setName(&quot;dvd-homevideo&quot;);</span>
<span class="nc" id="L199">        setResizable(false);</span>
<span class="nc" id="L200">        pnlGUI.setLayout(null);</span>

<span class="nc" id="L202">        pnlGUI.setToolTipText(&quot;dvd-homevideo&quot;);</span>
<span class="nc" id="L203">        pnlGUI.setMaximumSize(new java.awt.Dimension(510, 620));</span>
<span class="nc" id="L204">        pnlGUI.setMinimumSize(new java.awt.Dimension(510, 620));</span>
<span class="nc" id="L205">        pnlGUI.setName(&quot;pnlGUI&quot;);</span>
<span class="nc" id="L206">        pnlGUI.setOpaque(false);</span>
<span class="nc" id="L207">        pnlGUI.setPreferredSize(new java.awt.Dimension(510, 620));</span>
<span class="nc" id="L208">        lblMinutes.setText(&quot;Capture Time in Minutes&quot;);</span>
<span class="nc" id="L209">        lblMinutes.setName(&quot;lblMinutes&quot;);</span>
<span class="nc" id="L210">        pnlGUI.add(lblMinutes);</span>
<span class="nc" id="L211">        lblMinutes.setBounds(20, 10, 154, 15);</span>

<span class="nc" id="L213">        spnMinutes.setToolTipText(&quot;Minutes Portion of the Capture Time&quot;);</span>
<span class="nc" id="L214">        spnMinutes.setMinimumSize(new java.awt.Dimension(35, 20));</span>
<span class="nc" id="L215">        spnMinutes.setName(&quot;spnMinutes&quot;);</span>
<span class="nc" id="L216">        spnMinutes.setNextFocusableComponent(spnSeconds);</span>
<span class="nc" id="L217">        spnMinutes.setPreferredSize(new java.awt.Dimension(35, 20));</span>
<span class="nc" id="L218">        spnMinutes.addChangeListener(new javax.swing.event.ChangeListener() {</span>
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
<span class="nc" id="L220">                spnMinutesStateChanged(evt);</span>
<span class="nc" id="L221">            }</span>
        });

<span class="nc" id="L224">        pnlGUI.add(spnMinutes);</span>
<span class="nc" id="L225">        spnMinutes.setBounds(140, 30, 35, 20);</span>

<span class="nc" id="L227">        lblSeconds.setText(&quot;Capture Time in Seconds&quot;);</span>
<span class="nc" id="L228">        lblSeconds.setName(&quot;lblSeconds&quot;);</span>
<span class="nc" id="L229">        pnlGUI.add(lblSeconds);</span>
<span class="nc" id="L230">        lblSeconds.setBounds(20, 50, 155, 15);</span>

<span class="nc" id="L232">        spnSeconds.setToolTipText(&quot;Seconds Portion of the Capture Time&quot;);</span>
<span class="nc" id="L233">        spnSeconds.setName(&quot;spnSeconds&quot;);</span>
<span class="nc" id="L234">        spnSeconds.setNextFocusableComponent(chkQuality);</span>
<span class="nc" id="L235">        spnSeconds.setPreferredSize(new java.awt.Dimension(35, 20));</span>
<span class="nc" id="L236">        spnSeconds.setRequestFocusEnabled(false);</span>
<span class="nc" id="L237">        spnSeconds.addChangeListener(new javax.swing.event.ChangeListener() {</span>
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
<span class="nc" id="L239">                spnSecondsStateChanged(evt);</span>
<span class="nc" id="L240">            }</span>
        });

<span class="nc" id="L243">        pnlGUI.add(spnSeconds);</span>
<span class="nc" id="L244">        spnSeconds.setBounds(140, 70, 35, 20);</span>

<span class="nc" id="L246">        chkQuality.setText(&quot;Quality for DVD compression&quot;);</span>
<span class="nc" id="L247">        chkQuality.setToolTipText(&quot;Check this box to enable quality control&quot;);</span>
<span class="nc" id="L248">        chkQuality.setName(&quot;chkQuality&quot;);</span>
<span class="nc" id="L249">        chkQuality.setNextFocusableComponent(rdSuper);</span>
<span class="nc" id="L250">        chkQuality.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyTyped(java.awt.event.KeyEvent evt) {
<span class="nc" id="L252">                chkQualityKeyTyped(evt);</span>
<span class="nc" id="L253">            }</span>
        });
<span class="nc" id="L255">        chkQuality.addMouseListener(new java.awt.event.MouseAdapter() {</span>
            public void mouseClicked(java.awt.event.MouseEvent evt) {
<span class="nc" id="L257">                chkQualityMouseClicked(evt);</span>
<span class="nc" id="L258">            }</span>
        });

<span class="nc" id="L261">        pnlGUI.add(chkQuality);</span>
<span class="nc" id="L262">        chkQuality.setBounds(260, 10, 208, 23);</span>

<span class="nc" id="L264">        grpQuality.add(rdSuper);</span>
<span class="nc" id="L265">        rdSuper.setSelected(true);</span>
<span class="nc" id="L266">        rdSuper.setText(&quot;Super&quot;);</span>
<span class="nc" id="L267">        rdSuper.setToolTipText(&quot;Best Quality...recommended&quot;);</span>
<span class="nc" id="L268">        rdSuper.setEnabled(false);</span>
<span class="nc" id="L269">        rdSuper.setName(&quot;rdSuper&quot;);</span>
<span class="nc" id="L270">        rdSuper.setNextFocusableComponent(rdGood);</span>
<span class="nc" id="L271">        pnlGUI.add(rdSuper);</span>
<span class="nc" id="L272">        rdSuper.setBounds(280, 30, 60, 23);</span>

<span class="nc" id="L274">        grpQuality.add(rdGood);</span>
<span class="nc" id="L275">        rdGood.setText(&quot;Good&quot;);</span>
<span class="nc" id="L276">        rdGood.setToolTipText(&quot;Good Quality...a little faster&quot;);</span>
<span class="nc" id="L277">        rdGood.setEnabled(false);</span>
<span class="nc" id="L278">        rdGood.setName(&quot;rdGood&quot;);</span>
<span class="nc" id="L279">        rdGood.setNextFocusableComponent(rdAverage);</span>
<span class="nc" id="L280">        pnlGUI.add(rdGood);</span>
<span class="nc" id="L281">        rdGood.setBounds(280, 50, 58, 23);</span>

<span class="nc" id="L283">        grpQuality.add(rdAverage);</span>
<span class="nc" id="L284">        rdAverage.setText(&quot;Average&quot;);</span>
<span class="nc" id="L285">        rdAverage.setToolTipText(&quot;Nothing special...but fast&quot;);</span>
<span class="nc" id="L286">        rdAverage.setEnabled(false);</span>
<span class="nc" id="L287">        rdAverage.setName(&quot;rdAverage&quot;);</span>
<span class="nc" id="L288">        rdAverage.setNextFocusableComponent(rdNTSC);</span>
<span class="nc" id="L289">        pnlGUI.add(rdAverage);</span>
<span class="nc" id="L290">        rdAverage.setBounds(280, 70, 75, 23);</span>

<span class="nc" id="L292">        btnStart.setText(&quot;Start&quot;);</span>
<span class="nc" id="L293">        btnStart.setToolTipText(&quot;Start Capturing Video from your Digital Camcorder&quot;);</span>
<span class="nc" id="L294">        btnStart.setEnabled(false);</span>
<span class="nc" id="L295">        btnStart.setName(&quot;btnStart&quot;);</span>
<span class="nc" id="L296">        btnStart.setNextFocusableComponent(btnExit);</span>
<span class="nc" id="L297">        btnStart.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyTyped(java.awt.event.KeyEvent evt) {
<span class="nc" id="L299">                btnStartKeyTyped(evt);</span>
<span class="nc" id="L300">            }</span>
        });
<span class="nc" id="L302">        btnStart.addMouseListener(new java.awt.event.MouseAdapter() {</span>
            public void mouseClicked(java.awt.event.MouseEvent evt) {
<span class="nc" id="L304">                btnStartMouseClicked(evt);</span>
<span class="nc" id="L305">            }</span>
        });

<span class="nc" id="L308">        pnlGUI.add(btnStart);</span>
<span class="nc" id="L309">        btnStart.setBounds(250, 400, 70, 25);</span>

<span class="nc" id="L311">        btnExit.setText(&quot;Exit&quot;);</span>
<span class="nc" id="L312">        btnExit.setToolTipText(&quot;Exit dvd-homevideo&quot;);</span>
<span class="nc" id="L313">        btnExit.setName(&quot;btnExit&quot;);</span>
<span class="nc" id="L314">        btnExit.setNextFocusableComponent(btnPlay);</span>
<span class="nc" id="L315">        btnExit.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyTyped(java.awt.event.KeyEvent evt) {
<span class="nc" id="L317">                btnExitKeyTyped(evt);</span>
<span class="nc" id="L318">            }</span>
        });
<span class="nc" id="L320">        btnExit.addMouseListener(new java.awt.event.MouseAdapter() {</span>
            public void mouseClicked(java.awt.event.MouseEvent evt) {
<span class="nc" id="L322">                btnExitMouseClicked(evt);</span>
<span class="nc" id="L323">            }</span>
        });

<span class="nc" id="L326">        pnlGUI.add(btnExit);</span>
<span class="nc" id="L327">        btnExit.setBounds(330, 400, 70, 25);</span>

<span class="nc" id="L329">        chkMenu.setText(&quot;Custom DVD Menu&quot;);</span>
<span class="nc" id="L330">        chkMenu.setToolTipText(&quot;Enables Custom Picture and Audio for DVD Background&quot;);</span>
<span class="nc" id="L331">        chkMenu.setName(&quot;chkMenu&quot;);</span>
<span class="nc" id="L332">        chkMenu.setNextFocusableComponent(txtPicture);</span>
<span class="nc" id="L333">        chkMenu.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyTyped(java.awt.event.KeyEvent evt) {
<span class="nc" id="L335">                chkMenuKeyTyped(evt);</span>
<span class="nc" id="L336">            }</span>
        });
<span class="nc" id="L338">        chkMenu.addMouseListener(new java.awt.event.MouseAdapter() {</span>
            public void mouseClicked(java.awt.event.MouseEvent evt) {
<span class="nc" id="L340">                chkMenuMouseClicked(evt);</span>
<span class="nc" id="L341">            }</span>
        });

<span class="nc" id="L344">        pnlGUI.add(chkMenu);</span>
<span class="nc" id="L345">        chkMenu.setBounds(10, 170, 144, 23);</span>

<span class="nc" id="L347">        lblPicture.setText(&quot;Path to DVD Menu Picture&quot;);</span>
<span class="nc" id="L348">        lblPicture.setEnabled(false);</span>
<span class="nc" id="L349">        lblPicture.setName(&quot;lblPicture&quot;);</span>
<span class="nc" id="L350">        pnlGUI.add(lblPicture);</span>
<span class="nc" id="L351">        lblPicture.setBounds(10, 200, 160, 15);</span>

<span class="nc" id="L353">        txtPicture.setEnabled(false);</span>
<span class="nc" id="L354">        txtPicture.setName(&quot;txtPicture&quot;);</span>
<span class="nc" id="L355">        txtPicture.setNextFocusableComponent(btnOpen_Picture);</span>
<span class="nc" id="L356">        pnlGUI.add(txtPicture);</span>
<span class="nc" id="L357">        txtPicture.setBounds(10, 220, 170, 19);</span>

<span class="nc" id="L359">        lblAudio.setText(&quot;Path to DVD Menu Audio&quot;);</span>
<span class="nc" id="L360">        lblAudio.setEnabled(false);</span>
<span class="nc" id="L361">        lblAudio.setName(&quot;lblAudio&quot;);</span>
<span class="nc" id="L362">        pnlGUI.add(lblAudio);</span>
<span class="nc" id="L363">        lblAudio.setBounds(10, 250, 155, 15);</span>

<span class="nc" id="L365">        txtAudio.setEnabled(false);</span>
<span class="nc" id="L366">        txtAudio.setName(&quot;txtAudio&quot;);</span>
<span class="nc" id="L367">        txtAudio.setNextFocusableComponent(btnOpen_Audio);</span>
<span class="nc" id="L368">        pnlGUI.add(txtAudio);</span>
<span class="nc" id="L369">        txtAudio.setBounds(10, 270, 170, 19);</span>

<span class="nc" id="L371">        btnOpen_Picture.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/open.gif&quot;)));</span>
<span class="nc" id="L372">        btnOpen_Picture.setEnabled(false);</span>
<span class="nc" id="L373">        btnOpen_Picture.setName(&quot;btnOpen_Picture&quot;);</span>
<span class="nc" id="L374">        btnOpen_Picture.setNextFocusableComponent(txtAudio);</span>
<span class="nc" id="L375">        btnOpen_Picture.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyTyped(java.awt.event.KeyEvent evt) {
<span class="nc" id="L377">                btnOpen_PictureKeyTyped(evt);</span>
<span class="nc" id="L378">            }</span>
        });
<span class="nc" id="L380">        btnOpen_Picture.addMouseListener(new java.awt.event.MouseAdapter() {</span>
            public void mouseClicked(java.awt.event.MouseEvent evt) {
<span class="nc" id="L382">                btnOpen_PictureMouseClicked(evt);</span>
<span class="nc" id="L383">            }</span>
        });

<span class="nc" id="L386">        pnlGUI.add(btnOpen_Picture);</span>
<span class="nc" id="L387">        btnOpen_Picture.setBounds(190, 220, 30, 25);</span>

<span class="nc" id="L389">        prgCapture.setEnabled(false);</span>
<span class="nc" id="L390">        prgCapture.setName(&quot;prgCapture&quot;);</span>
<span class="nc" id="L391">        pnlGUI.add(prgCapture);</span>
<span class="nc" id="L392">        prgCapture.setBounds(10, 360, 148, 14);</span>

<span class="nc" id="L394">        prgConvert.setEnabled(false);</span>
<span class="nc" id="L395">        prgConvert.setName(&quot;prgConvert&quot;);</span>
<span class="nc" id="L396">        pnlGUI.add(prgConvert);</span>
<span class="nc" id="L397">        prgConvert.setBounds(180, 360, 148, 14);</span>

<span class="nc" id="L399">        prgAuthor.setEnabled(false);</span>
<span class="nc" id="L400">        prgAuthor.setName(&quot;prgAuthor&quot;);</span>
<span class="nc" id="L401">        pnlGUI.add(prgAuthor);</span>
<span class="nc" id="L402">        prgAuthor.setBounds(350, 360, 148, 14);</span>

<span class="nc" id="L404">        btnOpen_Audio.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/open.gif&quot;)));</span>
<span class="nc" id="L405">        btnOpen_Audio.setEnabled(false);</span>
<span class="nc" id="L406">        btnOpen_Audio.setName(&quot;btnOpen_Audio&quot;);</span>
<span class="nc" id="L407">        btnOpen_Audio.setNextFocusableComponent(txtOutputDir);</span>
<span class="nc" id="L408">        btnOpen_Audio.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyTyped(java.awt.event.KeyEvent evt) {
<span class="nc" id="L410">                btnOpen_AudioKeyTyped(evt);</span>
<span class="nc" id="L411">            }</span>
        });
<span class="nc" id="L413">        btnOpen_Audio.addMouseListener(new java.awt.event.MouseAdapter() {</span>
            public void mouseClicked(java.awt.event.MouseEvent evt) {
<span class="nc" id="L415">                btnOpen_AudioMouseClicked(evt);</span>
<span class="nc" id="L416">            }</span>
        });

<span class="nc" id="L419">        pnlGUI.add(btnOpen_Audio);</span>
<span class="nc" id="L420">        btnOpen_Audio.setBounds(190, 270, 30, 25);</span>

<span class="nc" id="L422">        lblTextFile.setText(&quot;Path to Text File (optional)&quot;);</span>
<span class="nc" id="L423">        lblTextFile.setToolTipText(&quot;This text file specifies the chapter titles for the DVD&quot;);</span>
<span class="nc" id="L424">        lblTextFile.setName(&quot;lblTextFile&quot;);</span>
<span class="nc" id="L425">        pnlGUI.add(lblTextFile);</span>
<span class="nc" id="L426">        lblTextFile.setBounds(260, 270, 165, 15);</span>

<span class="nc" id="L428">        txtTextFile.setName(&quot;txtTextFile&quot;);</span>
<span class="nc" id="L429">        txtTextFile.setNextFocusableComponent(btnOpen_TextFile);</span>
<span class="nc" id="L430">        pnlGUI.add(txtTextFile);</span>
<span class="nc" id="L431">        txtTextFile.setBounds(260, 290, 200, 19);</span>

<span class="nc" id="L433">        btnOpen_TextFile.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/open.gif&quot;)));</span>
<span class="nc" id="L434">        btnOpen_TextFile.setName(&quot;btnOpen_TextFile&quot;);</span>
<span class="nc" id="L435">        btnOpen_TextFile.setNextFocusableComponent(btnStart);</span>
<span class="nc" id="L436">        btnOpen_TextFile.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyTyped(java.awt.event.KeyEvent evt) {
<span class="nc" id="L438">                btnOpen_TextFileKeyTyped(evt);</span>
<span class="nc" id="L439">            }</span>
        });
<span class="nc" id="L441">        btnOpen_TextFile.addMouseListener(new java.awt.event.MouseAdapter() {</span>
            public void mouseClicked(java.awt.event.MouseEvent evt) {
<span class="nc" id="L443">                btnOpen_TextFileMouseClicked(evt);</span>
<span class="nc" id="L444">            }</span>
        });

<span class="nc" id="L447">        pnlGUI.add(btnOpen_TextFile);</span>
<span class="nc" id="L448">        btnOpen_TextFile.setBounds(470, 290, 30, 25);</span>

<span class="nc" id="L450">        txtOutputDir.setName(&quot;txtOutputDir&quot;);</span>
<span class="nc" id="L451">        txtOutputDir.setNextFocusableComponent(btnOpen_OutputDir);</span>
<span class="nc" id="L452">        txtOutputDir.addFocusListener(new java.awt.event.FocusAdapter() {</span>
            public void focusLost(java.awt.event.FocusEvent evt) {
<span class="nc" id="L454">                txtOutputDirFocusLost(evt);</span>
<span class="nc" id="L455">            }</span>
        });

<span class="nc" id="L458">        pnlGUI.add(txtOutputDir);</span>
<span class="nc" id="L459">        txtOutputDir.setBounds(260, 190, 200, 19);</span>

<span class="nc" id="L461">        lblOutputDir.setText(&quot;Path to the Output Directory&quot;);</span>
<span class="nc" id="L462">        lblOutputDir.setName(&quot;lblOutputDir&quot;);</span>
<span class="nc" id="L463">        pnlGUI.add(lblOutputDir);</span>
<span class="nc" id="L464">        lblOutputDir.setBounds(260, 170, 177, 15);</span>

<span class="nc" id="L466">        txtTitle.setName(&quot;txtTitle&quot;);</span>
<span class="nc" id="L467">        txtTitle.setNextFocusableComponent(txtTextFile);</span>
<span class="nc" id="L468">        txtTitle.addFocusListener(new java.awt.event.FocusAdapter() {</span>
            public void focusLost(java.awt.event.FocusEvent evt) {
<span class="nc" id="L470">                txtTitleFocusLost(evt);</span>
<span class="nc" id="L471">            }</span>
        });

<span class="nc" id="L474">        pnlGUI.add(txtTitle);</span>
<span class="nc" id="L475">        txtTitle.setBounds(260, 240, 200, 19);</span>

<span class="nc" id="L477">        lblTitle.setText(&quot;Enter a Title for the DVD&quot;);</span>
<span class="nc" id="L478">        lblTitle.setName(&quot;lblTitle&quot;);</span>
<span class="nc" id="L479">        pnlGUI.add(lblTitle);</span>
<span class="nc" id="L480">        lblTitle.setBounds(260, 220, 153, 15);</span>

<span class="nc" id="L482">        btnOpen_OutputDir.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/open.gif&quot;)));</span>
<span class="nc" id="L483">        btnOpen_OutputDir.setName(&quot;btnOpen_OutputDir&quot;);</span>
<span class="nc" id="L484">        btnOpen_OutputDir.setNextFocusableComponent(txtTitle);</span>
<span class="nc" id="L485">        btnOpen_OutputDir.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyTyped(java.awt.event.KeyEvent evt) {
<span class="nc" id="L487">                btnOpen_OutputDirKeyTyped(evt);</span>
<span class="nc" id="L488">            }</span>
        });
<span class="nc" id="L490">        btnOpen_OutputDir.addMouseListener(new java.awt.event.MouseAdapter() {</span>
            public void mouseClicked(java.awt.event.MouseEvent evt) {
<span class="nc" id="L492">                btnOpen_OutputDirMouseClicked(evt);</span>
<span class="nc" id="L493">            }</span>
        });

<span class="nc" id="L496">        pnlGUI.add(btnOpen_OutputDir);</span>
<span class="nc" id="L497">        btnOpen_OutputDir.setBounds(470, 190, 30, 25);</span>

<span class="nc" id="L499">        chkBurn.setText(&quot;Burn to DVD&quot;);</span>
<span class="nc" id="L500">        chkBurn.setName(&quot;chkBurn&quot;);</span>
<span class="nc" id="L501">        chkBurn.setNextFocusableComponent(chkMenu);</span>
<span class="nc" id="L502">        pnlGUI.add(chkBurn);</span>
<span class="nc" id="L503">        chkBurn.setBounds(340, 120, 103, 23);</span>

<span class="nc" id="L505">        lblCaptureProg.setText(&quot;0%&quot;);</span>
<span class="nc" id="L506">        lblCaptureProg.setEnabled(false);</span>
<span class="nc" id="L507">        lblCaptureProg.setName(&quot;lblCaptureProg&quot;);</span>
<span class="nc" id="L508">        pnlGUI.add(lblCaptureProg);</span>
<span class="nc" id="L509">        lblCaptureProg.setBounds(20, 380, 40, 15);</span>

<span class="nc" id="L511">        lblConvertProg.setText(&quot;0%&quot;);</span>
<span class="nc" id="L512">        lblConvertProg.setEnabled(false);</span>
<span class="nc" id="L513">        lblConvertProg.setName(&quot;lblConvertProg&quot;);</span>
<span class="nc" id="L514">        pnlGUI.add(lblConvertProg);</span>
<span class="nc" id="L515">        lblConvertProg.setBounds(190, 380, 40, 15);</span>

<span class="nc" id="L517">        lblAuthorProg.setText(&quot;0%&quot;);</span>
<span class="nc" id="L518">        lblAuthorProg.setEnabled(false);</span>
<span class="nc" id="L519">        lblAuthorProg.setName(&quot;lblAuthorProg&quot;);</span>
<span class="nc" id="L520">        pnlGUI.add(lblAuthorProg);</span>
<span class="nc" id="L521">        lblAuthorProg.setBounds(360, 380, 40, 15);</span>

<span class="nc" id="L523">        lblCapture.setText(&quot;Capture Progress&quot;);</span>
<span class="nc" id="L524">        lblCapture.setEnabled(false);</span>
<span class="nc" id="L525">        lblCapture.setName(&quot;lblCapture&quot;);</span>
<span class="nc" id="L526">        pnlGUI.add(lblCapture);</span>
<span class="nc" id="L527">        lblCapture.setBounds(10, 340, 107, 15);</span>

<span class="nc" id="L529">        lblConvert.setText(&quot;Conversion Progress&quot;);</span>
<span class="nc" id="L530">        lblConvert.setEnabled(false);</span>
<span class="nc" id="L531">        lblConvert.setName(&quot;lblConvert&quot;);</span>
<span class="nc" id="L532">        pnlGUI.add(lblConvert);</span>
<span class="nc" id="L533">        lblConvert.setBounds(180, 340, 129, 15);</span>

<span class="nc" id="L535">        lblAuthor.setText(&quot;Authoring DVD&quot;);</span>
<span class="nc" id="L536">        lblAuthor.setEnabled(false);</span>
<span class="nc" id="L537">        lblAuthor.setName(&quot;lblAuthor&quot;);</span>
<span class="nc" id="L538">        pnlGUI.add(lblAuthor);</span>
<span class="nc" id="L539">        lblAuthor.setBounds(350, 340, 95, 15);</span>

<span class="nc" id="L541">        sprCapConvert.setMinimumSize(new java.awt.Dimension(50, 10));</span>
<span class="nc" id="L542">        sprCapConvert.setName(&quot;sprCapConvert&quot;);</span>
<span class="nc" id="L543">        sprCapConvert.setPreferredSize(new java.awt.Dimension(50, 5));</span>
<span class="nc" id="L544">        pnlGUI.add(sprCapConvert);</span>
<span class="nc" id="L545">        sprCapConvert.setBounds(10, 160, 490, 5);</span>

<span class="nc" id="L547">        sprMenuAuthor.setMinimumSize(new java.awt.Dimension(50, 10));</span>
<span class="nc" id="L548">        sprMenuAuthor.setName(&quot;sprMenuAuthor&quot;);</span>
<span class="nc" id="L549">        sprMenuAuthor.setPreferredSize(new java.awt.Dimension(50, 5));</span>
<span class="nc" id="L550">        pnlGUI.add(sprMenuAuthor);</span>
<span class="nc" id="L551">        sprMenuAuthor.setBounds(10, 330, 490, 5);</span>

<span class="nc" id="L553">        spTextArea.setAutoscrolls(true);</span>
<span class="nc" id="L554">        spTextArea.setName(&quot;spTextArea&quot;);</span>
<span class="nc" id="L555">        txtAreaOutput.setEditable(false);</span>
<span class="nc" id="L556">        txtAreaOutput.setLineWrap(true);</span>
<span class="nc" id="L557">        txtAreaOutput.setToolTipText(&quot;Output during program execution&quot;);</span>
<span class="nc" id="L558">        txtAreaOutput.setWrapStyleWord(true);</span>
<span class="nc" id="L559">        txtAreaOutput.setBorder(javax.swing.BorderFactory.createEtchedBorder());</span>
<span class="nc" id="L560">        txtAreaOutput.setName(&quot;txtAreaOutput&quot;);</span>
<span class="nc" id="L561">        spTextArea.setViewportView(txtAreaOutput);</span>

<span class="nc" id="L563">        pnlGUI.add(spTextArea);</span>
<span class="nc" id="L564">        spTextArea.setBounds(20, 470, 470, 140);</span>

<span class="nc" id="L566">        grpFormat.add(rdNTSC);</span>
<span class="nc" id="L567">        rdNTSC.setSelected(true);</span>
<span class="nc" id="L568">        rdNTSC.setText(&quot;NTSC&quot;);</span>
<span class="nc" id="L569">        rdNTSC.setName(&quot;rdNTSC&quot;);</span>
<span class="nc" id="L570">        rdNTSC.setNextFocusableComponent(rdPAL);</span>
<span class="nc" id="L571">        pnlGUI.add(rdNTSC);</span>
<span class="nc" id="L572">        rdNTSC.setBounds(20, 130, 58, 23);</span>

<span class="nc" id="L574">        grpFormat.add(rdPAL);</span>
<span class="nc" id="L575">        rdPAL.setText(&quot;PAL&quot;);</span>
<span class="nc" id="L576">        rdPAL.setName(&quot;rdPAL&quot;);</span>
<span class="nc" id="L577">        rdPAL.setNextFocusableComponent(rd4_3);</span>
<span class="nc" id="L578">        pnlGUI.add(rdPAL);</span>
<span class="nc" id="L579">        rdPAL.setBounds(90, 130, 60, 23);</span>

<span class="nc" id="L581">        grpAspectRatio.add(rd4_3);</span>
<span class="nc" id="L582">        rd4_3.setSelected(true);</span>
<span class="nc" id="L583">        rd4_3.setText(&quot;4:3&quot;);</span>
<span class="nc" id="L584">        rd4_3.setName(&quot;rd4_3&quot;);</span>
<span class="nc" id="L585">        rd4_3.setNextFocusableComponent(rd16_9);</span>
<span class="nc" id="L586">        pnlGUI.add(rd4_3);</span>
<span class="nc" id="L587">        rd4_3.setBounds(190, 130, 50, 23);</span>

<span class="nc" id="L589">        grpAspectRatio.add(rd16_9);</span>
<span class="nc" id="L590">        rd16_9.setText(&quot;16:9&quot;);</span>
<span class="nc" id="L591">        rd16_9.setName(&quot;rd16_9&quot;);</span>
<span class="nc" id="L592">        rd16_9.setNextFocusableComponent(chkBurn);</span>
<span class="nc" id="L593">        pnlGUI.add(rd16_9);</span>
<span class="nc" id="L594">        rd16_9.setBounds(240, 130, 60, 23);</span>

<span class="nc" id="L596">        lblFormat.setText(&quot;Video Format&quot;);</span>
<span class="nc" id="L597">        lblFormat.setName(&quot;lblFormat&quot;);</span>
<span class="nc" id="L598">        pnlGUI.add(lblFormat);</span>
<span class="nc" id="L599">        lblFormat.setBounds(20, 110, 110, 15);</span>

<span class="nc" id="L601">        lblAspectRatio.setText(&quot;Aspect Ratio&quot;);</span>
<span class="nc" id="L602">        lblAspectRatio.setName(&quot;lblAspectRatio&quot;);</span>
<span class="nc" id="L603">        pnlGUI.add(lblAspectRatio);</span>
<span class="nc" id="L604">        lblAspectRatio.setBounds(190, 110, 100, 15);</span>

<span class="nc" id="L606">        sprAspectRatio.setMinimumSize(new java.awt.Dimension(50, 10));</span>
<span class="nc" id="L607">        sprAspectRatio.setName(&quot;sprAspectRatio&quot;);</span>
<span class="nc" id="L608">        sprAspectRatio.setPreferredSize(new java.awt.Dimension(50, 5));</span>
<span class="nc" id="L609">        pnlGUI.add(sprAspectRatio);</span>
<span class="nc" id="L610">        sprAspectRatio.setBounds(10, 100, 490, 5);</span>

<span class="nc" id="L612">        btnPlay.setText(&quot;Play&quot;);</span>
<span class="nc" id="L613">        btnPlay.setEnabled(false);</span>
<span class="nc" id="L614">        btnPlay.setNextFocusableComponent(spnMinutes);</span>
<span class="nc" id="L615">        btnPlay.addMouseListener(new java.awt.event.MouseAdapter() {</span>
            public void mouseClicked(java.awt.event.MouseEvent evt) {
<span class="nc" id="L617">                btnPlayMouseClicked(evt);</span>
<span class="nc" id="L618">            }</span>
        });

<span class="nc" id="L621">        pnlGUI.add(btnPlay);</span>
<span class="nc" id="L622">        btnPlay.setBounds(410, 400, 70, 25);</span>

<span class="nc" id="L624">        txtStatus.setBackground(new java.awt.Color(153, 153, 153));</span>
<span class="nc" id="L625">        txtStatus.setEditable(false);</span>
<span class="nc" id="L626">        txtStatus.setFont(new java.awt.Font(&quot;Dialog&quot;, 1, 12));</span>
<span class="nc" id="L627">        txtStatus.setHorizontalAlignment(javax.swing.JTextField.CENTER);</span>
<span class="nc" id="L628">        txtStatus.setText(&quot;Status&quot;);</span>
<span class="nc" id="L629">        txtStatus.setMaximumSize(new java.awt.Dimension(59, 25));</span>
<span class="nc" id="L630">        txtStatus.setMinimumSize(new java.awt.Dimension(59, 25));</span>
<span class="nc" id="L631">        pnlGUI.add(txtStatus);</span>
<span class="nc" id="L632">        txtStatus.setBounds(410, 430, 70, 30);</span>

<span class="nc" id="L634">        getContentPane().add(pnlGUI, new java.awt.GridBagConstraints());</span>

<span class="nc" id="L636">        menuBarMain.setName(&quot;menuBarMain&quot;);</span>
<span class="nc" id="L637">        menuFile.setMnemonic('f');</span>
<span class="nc" id="L638">        menuFile.setText(&quot;File&quot;);</span>
<span class="nc" id="L639">        menuFile.setName(&quot;menuFile&quot;);</span>
<span class="nc" id="L640">        menuOpen.setMnemonic('o');</span>
<span class="nc" id="L641">        menuOpen.setText(&quot;Open&quot;);</span>
<span class="nc" id="L642">        menuOpen.setName(&quot;menuOpen&quot;);</span>
<span class="nc" id="L643">        menuOpen.addMouseListener(new java.awt.event.MouseAdapter() {</span>
            public void mousePressed(java.awt.event.MouseEvent evt) {
<span class="nc" id="L645">                menuOpenMousePressed(evt);</span>
<span class="nc" id="L646">            }</span>
        });

<span class="nc" id="L649">        menuFile.add(menuOpen);</span>

<span class="nc" id="L651">        sprOpen.setName(&quot;sprOpen&quot;);</span>
<span class="nc" id="L652">        menuFile.add(sprOpen);</span>

<span class="nc" id="L654">        menuSave.setMnemonic('s');</span>
<span class="nc" id="L655">        menuSave.setText(&quot;Save&quot;);</span>
<span class="nc" id="L656">        menuSave.setName(&quot;menuSave&quot;);</span>
<span class="nc" id="L657">        menuSave.addMouseListener(new java.awt.event.MouseAdapter() {</span>
            public void mousePressed(java.awt.event.MouseEvent evt) {
<span class="nc" id="L659">                menuSaveMousePressed(evt);</span>
<span class="nc" id="L660">            }</span>
        });

<span class="nc" id="L663">        menuFile.add(menuSave);</span>

<span class="nc" id="L665">        sprSave.setName(&quot;sprSave&quot;);</span>
<span class="nc" id="L666">        menuFile.add(sprSave);</span>

<span class="nc" id="L668">        menuExit.setMnemonic('x');</span>
<span class="nc" id="L669">        menuExit.setText(&quot;Exit&quot;);</span>
<span class="nc" id="L670">        menuExit.setBorderPainted(false);</span>
<span class="nc" id="L671">        menuExit.setFocusable(true);</span>
<span class="nc" id="L672">        menuExit.setName(&quot;menuExit&quot;);</span>
<span class="nc" id="L673">        menuExit.addMouseListener(new java.awt.event.MouseAdapter() {</span>
            public void mousePressed(java.awt.event.MouseEvent evt) {
<span class="nc" id="L675">                menuExitMousePressed(evt);</span>
<span class="nc" id="L676">            }</span>
        });

<span class="nc" id="L679">        menuFile.add(menuExit);</span>

<span class="nc" id="L681">        menuBarMain.add(menuFile);</span>

<span class="nc" id="L683">        menuTools.setMnemonic('t');</span>
<span class="nc" id="L684">        menuTools.setText(&quot;Tools&quot;);</span>
<span class="nc" id="L685">        menuTools.setName(&quot;menuTools&quot;);</span>
<span class="nc" id="L686">        grpMenuIgnore.add(menuRd_IgnoreNone);</span>
<span class="nc" id="L687">        menuRd_IgnoreNone.setText(&quot;Reset&quot;);</span>
<span class="nc" id="L688">        menuRd_IgnoreNone.addChangeListener(new javax.swing.event.ChangeListener() {</span>
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
<span class="nc" id="L690">                menuRd_IgnoreNoneStateChanged(evt);</span>
<span class="nc" id="L691">            }</span>
        });

<span class="nc" id="L694">        menuTools.add(menuRd_IgnoreNone);</span>

<span class="nc" id="L696">        grpMenuIgnore.add(menuRd_IgnoreCap);</span>
<span class="nc" id="L697">        menuRd_IgnoreCap.setText(&quot;Skip Capture&quot;);</span>
<span class="nc" id="L698">        menuRd_IgnoreCap.addChangeListener(new javax.swing.event.ChangeListener() {</span>
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
<span class="nc" id="L700">                menuRd_IgnoreCapStateChanged(evt);</span>
<span class="nc" id="L701">            }</span>
        });

<span class="nc" id="L704">        menuTools.add(menuRd_IgnoreCap);</span>

<span class="nc" id="L706">        grpMenuIgnore.add(menuRd_IgnoreCapConv);</span>
<span class="nc" id="L707">        menuRd_IgnoreCapConv.setText(&quot;Skip Capture/Transcode&quot;);</span>
<span class="nc" id="L708">        menuRd_IgnoreCapConv.addChangeListener(new javax.swing.event.ChangeListener() {</span>
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
<span class="nc" id="L710">                menuRd_IgnoreCapConvStateChanged(evt);</span>
<span class="nc" id="L711">            }</span>
        });

<span class="nc" id="L714">        menuTools.add(menuRd_IgnoreCapConv);</span>

<span class="nc" id="L716">        grpMenuIgnore.add(menuRd_IgnoreCapConvMenu);</span>
<span class="nc" id="L717">        menuRd_IgnoreCapConvMenu.setText(&quot;Skip Capture/Transcode/Menu&quot;);</span>
<span class="nc" id="L718">        menuRd_IgnoreCapConvMenu.addChangeListener(new javax.swing.event.ChangeListener() {</span>
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
<span class="nc" id="L720">                menuRd_IgnoreCapConvMenuStateChanged(evt);</span>
<span class="nc" id="L721">            }</span>
        });

<span class="nc" id="L724">        menuTools.add(menuRd_IgnoreCapConvMenu);</span>

<span class="nc" id="L726">        menuTools.add(sprIgnore);</span>

<span class="nc" id="L728">        menuProjProp.setText(&quot;Project Properties (Default)&quot;);</span>
<span class="nc" id="L729">        grpMenuFormat.add(menuRdNTSC);</span>
<span class="nc" id="L730">        menuRdNTSC.setSelected(true);</span>
<span class="nc" id="L731">        menuRdNTSC.setText(&quot;NTSC&quot;);</span>
<span class="nc" id="L732">        menuRdNTSC.addItemListener(new java.awt.event.ItemListener() {</span>
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
<span class="nc" id="L734">                menuRdNTSCItemStateChanged(evt);</span>
<span class="nc" id="L735">            }</span>
        });

<span class="nc" id="L738">        menuProjProp.add(menuRdNTSC);</span>

<span class="nc" id="L740">        grpMenuFormat.add(menuRdPAL);</span>
<span class="nc" id="L741">        menuRdPAL.setText(&quot;PAL&quot;);</span>
<span class="nc" id="L742">        menuRdPAL.addItemListener(new java.awt.event.ItemListener() {</span>
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
<span class="nc" id="L744">                menuRdPALItemStateChanged(evt);</span>
<span class="nc" id="L745">            }</span>
        });

<span class="nc" id="L748">        menuProjProp.add(menuRdPAL);</span>

<span class="nc" id="L750">        menuProjProp.add(sprMenuFormatAspect);</span>

<span class="nc" id="L752">        grpMenuAspectRatio.add(menuRd_4_3);</span>
<span class="nc" id="L753">        menuRd_4_3.setSelected(true);</span>
<span class="nc" id="L754">        menuRd_4_3.setText(&quot;4:3&quot;);</span>
<span class="nc" id="L755">        menuRd_4_3.addItemListener(new java.awt.event.ItemListener() {</span>
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
<span class="nc" id="L757">                menuRd_4_3ItemStateChanged(evt);</span>
<span class="nc" id="L758">            }</span>
        });

<span class="nc" id="L761">        menuProjProp.add(menuRd_4_3);</span>

<span class="nc" id="L763">        grpMenuAspectRatio.add(menuRd_16_9);</span>
<span class="nc" id="L764">        menuRd_16_9.setText(&quot;16:9&quot;);</span>
<span class="nc" id="L765">        menuRd_16_9.addItemListener(new java.awt.event.ItemListener() {</span>
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
<span class="nc" id="L767">                menuRd_16_9ItemStateChanged(evt);</span>
<span class="nc" id="L768">            }</span>
        });

<span class="nc" id="L771">        menuProjProp.add(menuRd_16_9);</span>

<span class="nc" id="L773">        menuProjProp.add(sprMenuThread);</span>

<span class="nc" id="L775">        menuChkThread.setText(&quot;Enable Multi-Threading&quot;);</span>
<span class="nc" id="L776">        menuChkThread.setToolTipText(&quot;EXPERIMENTAL!!! Very unstable!!!  This allows dvgrab and transcode to run at the same time...speeding up the process by as much as 10%&quot;);</span>
<span class="nc" id="L777">        menuChkThread.addItemListener(new java.awt.event.ItemListener() {</span>
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
<span class="nc" id="L779">                menuChkThreadItemStateChanged(evt);</span>
<span class="nc" id="L780">            }</span>
        });

<span class="nc" id="L783">        menuProjProp.add(menuChkThread);</span>

<span class="nc" id="L785">        menuTools.add(menuProjProp);</span>

<span class="nc" id="L787">        menuBarMain.add(menuTools);</span>

<span class="nc" id="L789">        menuHelp.setMnemonic('h');</span>
<span class="nc" id="L790">        menuHelp.setText(&quot;Help&quot;);</span>
<span class="nc" id="L791">        menuHelp.setName(&quot;menuHelp&quot;);</span>
<span class="nc" id="L792">        menuInternet.setText(&quot;dvd-homevideo website&quot;);</span>
<span class="nc" id="L793">        menuInternet.setName(&quot;menuInternet&quot;);</span>
<span class="nc" id="L794">        menuInternet.addMouseListener(new java.awt.event.MouseAdapter() {</span>
            public void mousePressed(java.awt.event.MouseEvent evt) {
<span class="nc" id="L796">                menuInternetMousePressed(evt);</span>
<span class="nc" id="L797">            }</span>
        });

<span class="nc" id="L800">        menuHelp.add(menuInternet);</span>

<span class="nc" id="L802">        menuREADME.setText(&quot;README File&quot;);</span>
<span class="nc" id="L803">        menuREADME.setName(&quot;menuREADME&quot;);</span>
<span class="nc" id="L804">        menuREADME.addMouseListener(new java.awt.event.MouseAdapter() {</span>
            public void mousePressed(java.awt.event.MouseEvent evt) {
<span class="nc" id="L806">                menuREADMEMousePressed(evt);</span>
<span class="nc" id="L807">            }</span>
        });

<span class="nc" id="L810">        menuHelp.add(menuREADME);</span>

<span class="nc" id="L812">        menuBug.setText(&quot;Submit Bug&quot;);</span>
<span class="nc" id="L813">        menuBug.setName(&quot;menuBug&quot;);</span>
<span class="nc" id="L814">        menuBug.addMouseListener(new java.awt.event.MouseAdapter() {</span>
            public void mousePressed(java.awt.event.MouseEvent evt) {
<span class="nc" id="L816">                menuBugMousePressed(evt);</span>
<span class="nc" id="L817">            }</span>
        });

<span class="nc" id="L820">        menuHelp.add(menuBug);</span>

<span class="nc" id="L822">        menuAbout.setText(&quot;About dvd-homevideo&quot;);</span>
<span class="nc" id="L823">        menuAbout.addMouseListener(new java.awt.event.MouseAdapter() {</span>
            public void mousePressed(java.awt.event.MouseEvent evt) {
<span class="nc" id="L825">                menuAboutMousePressed(evt);</span>
<span class="nc" id="L826">            }</span>
        });

<span class="nc" id="L829">        menuHelp.add(menuAbout);</span>

<span class="nc" id="L831">        menuBarMain.add(menuHelp);</span>

<span class="nc" id="L833">        setJMenuBar(menuBarMain);</span>

<span class="nc" id="L835">        pack();</span>
<span class="nc" id="L836">    }// &lt;/editor-fold&gt;//GEN-END:initComponents</span>

    private void menuRd_IgnoreNoneStateChanged(javax.swing.event.ChangeEvent evt)//GEN-FIRST:event_menuRd_IgnoreNoneStateChanged
    {//GEN-HEADEREND:event_menuRd_IgnoreNoneStateChanged
<span class="nc bnc" id="L840" title="All 2 branches missed.">        if(menuRd_IgnoreNone.isSelected())</span>
        {
<span class="nc" id="L842">            lblMinutes.setEnabled(true);</span>
<span class="nc" id="L843">            spnMinutes.setEnabled(true);</span>
<span class="nc" id="L844">            lblSeconds.setEnabled(true);</span>
<span class="nc" id="L845">            spnSeconds.setEnabled(true);</span>
<span class="nc" id="L846">            chkQuality.setEnabled(true);</span>
<span class="nc" id="L847">            lblFormat.setEnabled(true);</span>
<span class="nc" id="L848">            rdNTSC.setEnabled(true);</span>
<span class="nc" id="L849">            rdPAL.setEnabled(true);</span>
<span class="nc" id="L850">            lblAspectRatio.setEnabled(true);</span>
<span class="nc" id="L851">            rd4_3.setEnabled(true);</span>
<span class="nc" id="L852">            rd16_9.setEnabled(true);</span>
<span class="nc" id="L853">            chkMenu.setEnabled(true);</span>
         }
         
<span class="nc" id="L856">         enableStartButton();</span>
<span class="nc" id="L857">    }//GEN-LAST:event_menuRd_IgnoreNoneStateChanged</span>

    private void menuRd_IgnoreCapConvMenuStateChanged(javax.swing.event.ChangeEvent evt)//GEN-FIRST:event_menuRd_IgnoreCapConvMenuStateChanged
    {//GEN-HEADEREND:event_menuRd_IgnoreCapConvMenuStateChanged
<span class="nc bnc" id="L861" title="All 2 branches missed.">         if(menuRd_IgnoreCapConv.isSelected())</span>
         {
<span class="nc" id="L863">            lblMinutes.setEnabled(false);</span>
<span class="nc" id="L864">            spnMinutes.setEnabled(false);</span>
<span class="nc" id="L865">            lblSeconds.setEnabled(false);</span>
<span class="nc" id="L866">            spnSeconds.setEnabled(false);</span>
<span class="nc" id="L867">            chkQuality.setEnabled(false);</span>
<span class="nc" id="L868">            lblFormat.setEnabled(false);</span>
<span class="nc" id="L869">            rdNTSC.setEnabled(false);</span>
<span class="nc" id="L870">            rdPAL.setEnabled(false);</span>
<span class="nc" id="L871">            lblAspectRatio.setEnabled(false);</span>
<span class="nc" id="L872">            rd4_3.setEnabled(false);</span>
<span class="nc" id="L873">            rd16_9.setEnabled(false);</span>
<span class="nc" id="L874">            chkMenu.setEnabled(false);</span>
         }
         
<span class="nc" id="L877">         enableStartButton();</span>
<span class="nc" id="L878">    }//GEN-LAST:event_menuRd_IgnoreCapConvMenuStateChanged</span>

    private void menuRd_IgnoreCapConvStateChanged(javax.swing.event.ChangeEvent evt)//GEN-FIRST:event_menuRd_IgnoreCapConvStateChanged
    {//GEN-HEADEREND:event_menuRd_IgnoreCapConvStateChanged
<span class="nc bnc" id="L882" title="All 2 branches missed.">        if(menuRd_IgnoreCapConv.isSelected())</span>
        {
<span class="nc" id="L884">            lblMinutes.setEnabled(false);</span>
<span class="nc" id="L885">            spnMinutes.setEnabled(false);</span>
<span class="nc" id="L886">            lblSeconds.setEnabled(false);</span>
<span class="nc" id="L887">            spnSeconds.setEnabled(false);</span>
<span class="nc" id="L888">            chkQuality.setEnabled(false);</span>
<span class="nc" id="L889">            lblFormat.setEnabled(false);</span>
<span class="nc" id="L890">            rdNTSC.setEnabled(false);</span>
<span class="nc" id="L891">            rdPAL.setEnabled(false);</span>
<span class="nc" id="L892">            lblAspectRatio.setEnabled(false);</span>
<span class="nc" id="L893">            rd4_3.setEnabled(false);</span>
<span class="nc" id="L894">            rd16_9.setEnabled(false);</span>
<span class="nc" id="L895">            chkMenu.setEnabled(true);</span>
        }
           
<span class="nc" id="L898">        enableStartButton();      </span>
<span class="nc" id="L899">    }//GEN-LAST:event_menuRd_IgnoreCapConvStateChanged</span>

    private void menuRd_IgnoreCapStateChanged(javax.swing.event.ChangeEvent evt)//GEN-FIRST:event_menuRd_IgnoreCapStateChanged
    {//GEN-HEADEREND:event_menuRd_IgnoreCapStateChanged
<span class="nc bnc" id="L903" title="All 2 branches missed.">        if(menuRd_IgnoreCap.isSelected())</span>
        {
<span class="nc" id="L905">            lblMinutes.setEnabled(false);</span>
<span class="nc" id="L906">            spnMinutes.setEnabled(false);</span>
<span class="nc" id="L907">            lblSeconds.setEnabled(false);</span>
<span class="nc" id="L908">            spnSeconds.setEnabled(false);</span>
<span class="nc" id="L909">            chkQuality.setEnabled(true);</span>
<span class="nc" id="L910">            lblFormat.setEnabled(true);</span>
<span class="nc" id="L911">            rdNTSC.setEnabled(true);</span>
<span class="nc" id="L912">            rdPAL.setEnabled(true);</span>
<span class="nc" id="L913">            lblAspectRatio.setEnabled(true);</span>
<span class="nc" id="L914">            rd4_3.setEnabled(true);</span>
<span class="nc" id="L915">            rd16_9.setEnabled(true);</span>
<span class="nc" id="L916">            chkMenu.setEnabled(true);</span>
        }
           
<span class="nc" id="L919">        enableStartButton();</span>
<span class="nc" id="L920">    }//GEN-LAST:event_menuRd_IgnoreCapStateChanged</span>

    private void txtOutputDirFocusLost(java.awt.event.FocusEvent evt)//GEN-FIRST:event_txtOutputDirFocusLost
    {//GEN-HEADEREND:event_txtOutputDirFocusLost
<span class="nc" id="L924">        enableStartButton();</span>
<span class="nc" id="L925">    }//GEN-LAST:event_txtOutputDirFocusLost</span>

    private void txtTitleFocusLost(java.awt.event.FocusEvent evt)//GEN-FIRST:event_txtTitleFocusLost
    {//GEN-HEADEREND:event_txtTitleFocusLost
<span class="nc" id="L929">        enableStartButton();</span>
<span class="nc" id="L930">    }//GEN-LAST:event_txtTitleFocusLost</span>

    private void btnOpen_OutputDirKeyTyped(java.awt.event.KeyEvent evt)//GEN-FIRST:event_btnOpen_OutputDirKeyTyped
    {//GEN-HEADEREND:event_btnOpen_OutputDirKeyTyped
<span class="nc" id="L934">        fcOpen.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);</span>
<span class="nc" id="L935">        int returnVal = fcOpen.showOpenDialog(null);</span>
<span class="nc bnc" id="L936" title="All 2 branches missed.">        if(returnVal == JFileChooser.APPROVE_OPTION)</span>
<span class="nc" id="L937">            txtOutputDir.setText(fcOpen.getSelectedFile().getPath());</span>
<span class="nc" id="L938">    }//GEN-LAST:event_btnOpen_OutputDirKeyTyped</span>

    private void btnOpen_OutputDirMouseClicked(java.awt.event.MouseEvent evt)//GEN-FIRST:event_btnOpen_OutputDirMouseClicked
    {//GEN-HEADEREND:event_btnOpen_OutputDirMouseClicked
<span class="nc" id="L942">        fcOpen.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);</span>
<span class="nc" id="L943">        int returnVal = fcOpen.showOpenDialog(null);</span>
<span class="nc bnc" id="L944" title="All 2 branches missed.">        if(returnVal == JFileChooser.APPROVE_OPTION)</span>
<span class="nc" id="L945">            txtOutputDir.setText(fcOpen.getSelectedFile().getPath());</span>
<span class="nc" id="L946">    }//GEN-LAST:event_btnOpen_OutputDirMouseClicked</span>

    private void spnSecondsStateChanged(javax.swing.event.ChangeEvent evt)//GEN-FIRST:event_spnSecondsStateChanged
    {//GEN-HEADEREND:event_spnSecondsStateChanged
<span class="nc" id="L950">        enableStartButton();</span>
<span class="nc" id="L951">    }//GEN-LAST:event_spnSecondsStateChanged</span>

    private void spnMinutesStateChanged(javax.swing.event.ChangeEvent evt)//GEN-FIRST:event_spnMinutesStateChanged
    {//GEN-HEADEREND:event_spnMinutesStateChanged
<span class="nc" id="L955">        enableStartButton();</span>
<span class="nc" id="L956">    }//GEN-LAST:event_spnMinutesStateChanged</span>

    private void btnStartKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_btnStartKeyTyped
<span class="nc bnc" id="L959" title="All 2 branches missed.">        if(evt.getKeyChar() == evt.VK_ENTER)</span>
        {
            try
            {
                /* 
                 * Automatically save the configuration in the users ~/.dvd-homevideo
                 * directory.  This way if they forget to click on the Save button in
                 * the File menu, it will still be saved once they start capturing 
                 * from their camcorder. 
                 */
<span class="nc" id="L969">                WriteSession();</span>
            }
<span class="nc" id="L971">            catch(IOException e){}</span>
<span class="nc" id="L972">            blnBegin = true;</span>
<span class="nc" id="L973">            btnPlay.setEnabled(false);</span>
            }
<span class="nc" id="L975">    }//GEN-LAST:event_btnStartKeyTyped</span>

    private void btnExitKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_btnExitKeyTyped
<span class="nc bnc" id="L978" title="All 2 branches missed.">        if(evt.getKeyChar() == evt.VK_ENTER)</span>
<span class="nc" id="L979">            ExitDVDHomevideo();</span>
<span class="nc" id="L980">    }//GEN-LAST:event_btnExitKeyTyped</span>

    private void menuChkThreadItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_menuChkThreadItemStateChanged
<span class="nc" id="L983">        WriteProjProperties();</span>
<span class="nc" id="L984">    }//GEN-LAST:event_menuChkThreadItemStateChanged</span>

    private void menuAboutMousePressed(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_menuAboutMousePressed
<span class="nc" id="L987">        MessageBox(&quot;dvd-homevideo, version 0.4\n&quot; +</span>
                   &quot;Created by: Shane Santner&quot;, 1);
<span class="nc" id="L989">    }//GEN-LAST:event_menuAboutMousePressed</span>

    /**
     * This is the code that handles the user clicking the Exit button.
     * @param   evt    The mouseClicked event handled by this method
     */
    private void btnExitMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnExitMouseClicked
<span class="nc" id="L996">        ExitDVDHomevideo();</span>
<span class="nc" id="L997">    }//GEN-LAST:event_btnExitMouseClicked</span>

    /**
     * This is the code that handles the user changing the state of one
     * of the menu radio buttions.
     * @param   evt    The mouseClicked event handled by this method
     */
    private void menuRd_16_9ItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_menuRd_16_9ItemStateChanged
<span class="nc" id="L1005">        WriteProjProperties();</span>
<span class="nc" id="L1006">    }//GEN-LAST:event_menuRd_16_9ItemStateChanged</span>

    /**
     * This is the code that handles the user changing the state of one
     * of the menu radio buttions.
     * @param   evt    The mouseClicked event handled by this method
     */
    private void menuRd_4_3ItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_menuRd_4_3ItemStateChanged
<span class="nc" id="L1014">        WriteProjProperties();</span>
<span class="nc" id="L1015">    }//GEN-LAST:event_menuRd_4_3ItemStateChanged</span>

    /**
     * This is the code that handles the user changing the state of one
     * of the menu radio buttions.
     * @param   evt    The mouseClicked event handled by this method
     */
    private void menuRdPALItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_menuRdPALItemStateChanged
<span class="nc" id="L1023">        WriteProjProperties();</span>
<span class="nc" id="L1024">    }//GEN-LAST:event_menuRdPALItemStateChanged</span>

    /**
     * This is the code that handles the user changing the state of one
     * of the menu radio buttions.
     * @param   evt    The mouseClicked event handled by this method
     */
    private void menuRdNTSCItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_menuRdNTSCItemStateChanged
<span class="nc" id="L1032">        WriteProjProperties();</span>
<span class="nc" id="L1033">    }//GEN-LAST:event_menuRdNTSCItemStateChanged</span>

    
    /**
     * This is the code that handles the user clicking the Play button.
     * @param   evt    The mouseClicked event handled by this method
     */
    private void btnPlayMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnPlayMouseClicked
        /*
         * Try to play the DVD in kaffeine first, if that fails then
         * try xine next.  TODO Need to also add code for mplayer as well.
         */
        try
        {
<span class="nc" id="L1047">            String[] cmd = {&quot;kaffeine&quot;,&quot;dvd:&quot; + strOutputDir + &quot;/DVD/&quot;};</span>
<span class="nc" id="L1048">            Process p = Runtime.getRuntime().exec(cmd);</span>
        }
<span class="nc" id="L1050">        catch(IOException ioe)</span>
        {
            try
            {
<span class="nc" id="L1054">                String[] cmd = {&quot;xine&quot;,&quot;dvd:&quot; + strOutputDir + &quot;/DVD/&quot;};</span>
<span class="nc" id="L1055">                Process p = Runtime.getRuntime().exec(cmd);</span>
            }
<span class="nc" id="L1057">            catch(IOException io)</span>
            {
<span class="nc" id="L1059">                MessageBox(&quot;It appears that you do not have xine or kaffeine installed.\n&quot;,1);                    </span>
<span class="nc" id="L1060">            }</span>
<span class="nc" id="L1061">        }  </span>
<span class="nc" id="L1062">    }//GEN-LAST:event_btnPlayMouseClicked</span>

    /**
     * This is the code that handles the user clicking on the SubmitBug button
     * in the Help menu.
     * @param   evt    The mousePressed event handled by this method
     */
    private void menuBugMousePressed(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_menuBugMousePressed
        /* Open a web browser pointing to the hard coded link */
        try
        {
<span class="nc" id="L1073">            String[] cmd = {&quot;firefox&quot;,&quot;http://sourceforge.net/tracker/?func=add&amp;group_id=129878&amp;atid=716141&quot;};</span>
<span class="nc" id="L1074">            Process p = Runtime.getRuntime().exec(cmd);</span>
        }
<span class="nc" id="L1076">        catch(IOException ioe)</span>
        {
            try
            {
<span class="nc" id="L1080">                String[] cmd = {&quot;konqueror&quot;,&quot;http://sourceforge.net/tracker/?func=add&amp;group_id=129878&amp;atid=716141&quot;};</span>
<span class="nc" id="L1081">                Process p = Runtime.getRuntime().exec(cmd);</span>
            }
<span class="nc" id="L1083">            catch(IOException io)</span>
            {
<span class="nc" id="L1085">                MessageBox(&quot;It appears that you do not have firefox or konqueror installed.\n&quot; +</span>
                    &quot;Open up your favorite web browser and paste:\n&quot; +
                    &quot;http://sourceforge.net/tracker/?func=add&amp;group_id=129878&amp;atid=716141\n&quot; +
                    &quot;in the address bar to submit a bug for dvd-homevideo.&quot;,1);
<span class="nc" id="L1089">            }</span>
<span class="nc" id="L1090">        }</span>
<span class="nc" id="L1091">    }//GEN-LAST:event_menuBugMousePressed</span>

    /**
     * If you don't need to recapture video from the camcorder because of 
     * an error later in the program, then you can check this box in the Tools
     * menu and this will allow you to not have to recapture.
     * @param   evt    The mousePressed event handled by this method
     */
    /**
     * If you don't need to recapture video or retranscode the video to DVD format
     * because of an error later in the program, then you can check this box in
     * the Tools menu and this will allow you to not have to recapture or retranscode.
     * @param   evt    The mousePressed event handled by this method
     */
    /**
     * If you only need to rerun dvd-author then you can check this box in
     * the Tools menu.
     * @param   evt    The mousePressed event handled by this method
     */
    /**
     * This is the code that handles the user clicking the Open button
     * from the File menu.
     * @param   evt    The mousePressed event handled by this method
     */
    private void menuOpenMousePressed(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_menuOpenMousePressed
<span class="nc" id="L1116">        File home = new File(System.getProperty(&quot;user.home&quot;) + &quot;/.dvd-homevideo&quot;); </span>
<span class="nc" id="L1117">        fcMenuOpen.setFileSelectionMode(JFileChooser.FILES_ONLY);</span>
<span class="nc" id="L1118">        fcMenuOpen.addChoosableFileFilter(new CustomFileFilter(&quot;.xml&quot;));</span>
<span class="nc" id="L1119">        fcMenuOpen.setCurrentDirectory(home);</span>
<span class="nc" id="L1120">        int returnVal = fcMenuOpen.showOpenDialog(null);</span>
<span class="nc bnc" id="L1121" title="All 2 branches missed.">        if(returnVal == JFileChooser.APPROVE_OPTION)</span>
<span class="nc" id="L1122">            ReadSession(fcMenuOpen.getSelectedFile().getPath());      </span>
<span class="nc" id="L1123">        enableStartButton();</span>
<span class="nc" id="L1124">    }//GEN-LAST:event_menuOpenMousePressed</span>

    /**
     * This is the code that handles the user clicking the Save button
     * from the File menu.
     * @param   evt    The mousePressed event handled by this method
     */
    private void menuSaveMousePressed(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_menuSaveMousePressed
        /* 
         * The default action is to call WriteSession to store all of the 
         * GUI widget information for later retrieval.
         */
        try
        {
<span class="nc" id="L1138">            WriteSession();</span>
        }
<span class="nc" id="L1140">        catch(IOException e){}</span>
<span class="nc" id="L1141">    }//GEN-LAST:event_menuSaveMousePressed</span>

    /**
     * This is the code that handles the user clicking the dvd-homevideo website
     * button from the Help menu.
     * @param   evt    The mousePressed event handled by this method
     */
    private void menuInternetMousePressed(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_menuInternetMousePressed
        /* Open a web browser pointing to the hard coded link */
        try
        {
<span class="nc" id="L1152">            String[] cmd = {&quot;firefox&quot;,&quot;http://dvd-homevideo.sourceforge.net/&quot;};</span>
<span class="nc" id="L1153">            Process p = Runtime.getRuntime().exec(cmd);</span>
        }
<span class="nc" id="L1155">        catch(IOException ioe)</span>
        {
            try
            {
<span class="nc" id="L1159">                String[] cmd = {&quot;konqueror&quot;,&quot;http://dvd-homevideo.sourceforge.net/&quot;};</span>
<span class="nc" id="L1160">                Process p = Runtime.getRuntime().exec(cmd);</span>
            }
<span class="nc" id="L1162">            catch(IOException io)</span>
            {
<span class="nc" id="L1164">                MessageBox(&quot;It appears that you do not have firefox or konqueror installed.\n&quot; +</span>
                    &quot;Open up your favorite web browser and paste:\n&quot; +
                    &quot;http://dvd-homevideo.sourceforge.net/\n&quot; +
                    &quot;in the address bar for help with running dvd-homevideo.&quot;,1);
<span class="nc" id="L1168">            }</span>
<span class="nc" id="L1169">        }</span>
<span class="nc" id="L1170">    }//GEN-LAST:event_menuInternetMousePressed</span>

    /**
     * This is the code that handles the user clicking the README file
     * button from the Help menu.
     * @param   evt    The mousePressed event handled by this method
     */
    private void menuREADMEMousePressed(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_menuREADMEMousePressed
        /* Open a web browser pointing to the hard coded link */
        try
        {
<span class="nc" id="L1181">            String[] cmd = {&quot;firefox&quot;,&quot;http://dvd-homevideo.sourceforge.net/README.html&quot;};</span>
<span class="nc" id="L1182">            Process p = Runtime.getRuntime().exec(cmd);</span>
        }
<span class="nc" id="L1184">        catch(IOException ioe)</span>
        {
            try
            {
<span class="nc" id="L1188">                String[] cmd = {&quot;konqueror&quot;,&quot;http://dvd-homevideo.sourceforge.net/README.html&quot;};</span>
<span class="nc" id="L1189">                Process p = Runtime.getRuntime().exec(cmd);</span>
            }
<span class="nc" id="L1191">            catch(IOException io)</span>
            {
<span class="nc" id="L1193">                MessageBox(&quot;It appears that you do not have firefox or konqueror installed.\n&quot; +</span>
                    &quot;Open up your favorite web browser and paste:\n&quot; +
                    &quot;http://dvd-homevideo.sourceforge.net/README.html\n&quot; +
                    &quot;in the address bar for help with running dvd-homevideo.&quot;,1);
<span class="nc" id="L1197">            }</span>
<span class="nc" id="L1198">        }</span>
<span class="nc" id="L1199">    }//GEN-LAST:event_menuREADMEMousePressed</span>

    /**
     * This is the code that handles the user clicking the Exit button
     * from the File menu.
     * @param   evt    The mousePressed event handled by this method
     */
    private void menuExitMousePressed(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_menuExitMousePressed
        /* TODO Write properties of PAL/NTSC and 4:3/16:9 to properties file */
<span class="nc" id="L1208">        ExitDVDHomevideo();</span>
<span class="nc" id="L1209">    }//GEN-LAST:event_menuExitMousePressed</span>

    /**
     * This is the code that handles the user clicking the Start button.
     * @param   evt    The mouseClicked event handled by this method
     */
    private void btnStartMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnStartMouseClicked
        try
        {
            /* 
             * Automatically save the configuration in the users ~/.dvd-homevideo
             * directory.  This way if they forget to click on the Save button in
             * the File menu, it will still be saved once they start capturing 
             * from their camcorder. 
             */
<span class="nc" id="L1224">            WriteSession();</span>
        }
<span class="nc" id="L1226">        catch(IOException e){}</span>
<span class="nc" id="L1227">        blnBegin = true;</span>
<span class="nc" id="L1228">        btnPlay.setEnabled(false);</span>
<span class="nc" id="L1229">    }//GEN-LAST:event_btnStartMouseClicked</span>

    /**
     * This is the code that handles the user typing Return on the
     * Open button to search for a title file to use for dvd-menu.
     * @param   evt    The KeyTyped event handled by this method
     */
    private void btnOpen_TextFileKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_btnOpen_TextFileKeyTyped
<span class="nc" id="L1237">        fcOpen.setFileSelectionMode(JFileChooser.FILES_ONLY);</span>
<span class="nc" id="L1238">        int returnVal = fcOpen.showOpenDialog(null);</span>
<span class="nc bnc" id="L1239" title="All 2 branches missed.">        if(returnVal == JFileChooser.APPROVE_OPTION)</span>
<span class="nc" id="L1240">            txtTextFile.setText(fcOpen.getSelectedFile().getPath());</span>
<span class="nc" id="L1241">    }//GEN-LAST:event_btnOpen_TextFileKeyTyped</span>

    /**
     * This is the code that handles the user typing Return on the
     * Open button to search for an output directory to store
     * everything in.
     * @param   evt    The KeyTyped event handled by this method
     */
    /**
     * This is the code that handles the user typing Return on the
     * Open button to search for an output directory to locate an
     * audio file.
     * @param   evt    The KeyTyped event handled by this method
     */
    private void btnOpen_AudioKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_btnOpen_AudioKeyTyped
<span class="nc bnc" id="L1256" title="All 2 branches missed.">        if(chkMenu.isSelected())</span>
        {
<span class="nc" id="L1258">            fcOpen.setFileSelectionMode(JFileChooser.FILES_ONLY);</span>
<span class="nc" id="L1259">            int returnVal = fcOpen.showOpenDialog(null);</span>
<span class="nc bnc" id="L1260" title="All 2 branches missed.">            if(returnVal == JFileChooser.APPROVE_OPTION)</span>
<span class="nc" id="L1261">                txtAudio.setText(fcOpen.getSelectedFile().getPath());</span>
        }
<span class="nc" id="L1263">    }//GEN-LAST:event_btnOpen_AudioKeyTyped</span>

    /**
     * This is the code that handles the user typing Return on the
     * Open button to search for an output directory to locate a
     * picture in.
     * @param   evt    The KeyTyped event handled by this method
     */
    private void btnOpen_PictureKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_btnOpen_PictureKeyTyped
<span class="nc bnc" id="L1272" title="All 2 branches missed.">        if(chkMenu.isSelected() == true)</span>
        {
<span class="nc" id="L1274">            fcOpen.setFileSelectionMode(JFileChooser.FILES_ONLY);</span>
<span class="nc" id="L1275">            int returnVal = fcOpen.showOpenDialog(null);</span>
<span class="nc bnc" id="L1276" title="All 2 branches missed.">            if(returnVal == JFileChooser.APPROVE_OPTION)</span>
<span class="nc" id="L1277">                txtPicture.setText(fcOpen.getSelectedFile().getPath());</span>
        }
<span class="nc" id="L1279">    }//GEN-LAST:event_btnOpen_PictureKeyTyped</span>

    /**
     * This is the code that handles the user typing the Space bar
     * on the check box for the menu
     * @param   evt    The KeyTyped event handled by this method
     */
    private void chkMenuKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_chkMenuKeyTyped
<span class="nc bnc" id="L1287" title="All 2 branches missed.">        if(chkMenu.isSelected())</span>
        {
<span class="nc" id="L1289">            lblPicture.setEnabled(false);</span>
<span class="nc" id="L1290">            txtPicture.setEnabled(false);</span>
<span class="nc" id="L1291">            btnOpen_Picture.setEnabled(false);</span>
            
<span class="nc" id="L1293">            lblAudio.setEnabled(false);</span>
<span class="nc" id="L1294">            txtAudio.setEnabled(false);</span>
<span class="nc" id="L1295">            btnOpen_Audio.setEnabled(false);</span>
        }
        else
        {
<span class="nc" id="L1299">            lblPicture.setEnabled(true);</span>
<span class="nc" id="L1300">            txtPicture.setEnabled(true);</span>
<span class="nc" id="L1301">            btnOpen_Picture.setEnabled(true);</span>
            
<span class="nc" id="L1303">            lblAudio.setEnabled(true);</span>
<span class="nc" id="L1304">            txtAudio.setEnabled(true);</span>
<span class="nc" id="L1305">            btnOpen_Audio.setEnabled(true);</span>
        }
<span class="nc" id="L1307">    }//GEN-LAST:event_chkMenuKeyTyped</span>

    /**
     * This is the code that handles the user typing the Space bar
     * on the check box for the quality group of radio buttons
     * @param   evt    The KeyTyped event handled by this method
     */
    private void chkQualityKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_chkQualityKeyTyped
<span class="nc bnc" id="L1315" title="All 2 branches missed.">        if(chkQuality.isSelected())</span>
        {
<span class="nc" id="L1317">            rdSuper.setEnabled(false);</span>
<span class="nc" id="L1318">            rdGood.setEnabled(false);</span>
<span class="nc" id="L1319">            rdAverage.setEnabled(false);</span>
        }
        else
        {
<span class="nc" id="L1323">            rdSuper.setEnabled(true);</span>
<span class="nc" id="L1324">            rdGood.setEnabled(true);</span>
<span class="nc" id="L1325">            rdAverage.setEnabled(true);</span>
        }
<span class="nc" id="L1327">    }//GEN-LAST:event_chkQualityKeyTyped</span>

    /**
     * This is the code that handles the user clicking on the
     * Open button to search for an output directory to locate a
     * picture in.
     * @param   evt    The KeyTyped event handled by this method
     */
    private void btnOpen_PictureMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnOpen_PictureMouseClicked
<span class="nc bnc" id="L1336" title="All 2 branches missed.">        if(chkMenu.isSelected() == true)</span>
        {
<span class="nc" id="L1338">            fcOpen.setFileSelectionMode(JFileChooser.FILES_ONLY);</span>
<span class="nc" id="L1339">            int returnVal = fcOpen.showOpenDialog(null);</span>
<span class="nc bnc" id="L1340" title="All 2 branches missed.">            if(returnVal == JFileChooser.APPROVE_OPTION)</span>
<span class="nc" id="L1341">                txtPicture.setText(fcOpen.getSelectedFile().getPath());</span>
        }
<span class="nc" id="L1343">    }//GEN-LAST:event_btnOpen_PictureMouseClicked</span>

    /**
     * This is the code that handles the user clicking on the
     * Open button to search for an output directory to locate an
     * audio file in.
     * @param   evt    The KeyTyped event handled by this method
     */
    private void btnOpen_AudioMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnOpen_AudioMouseClicked
<span class="nc bnc" id="L1352" title="All 2 branches missed.">        if(chkMenu.isSelected())</span>
        {
<span class="nc" id="L1354">            fcOpen.setFileSelectionMode(JFileChooser.FILES_ONLY);</span>
<span class="nc" id="L1355">            int returnVal = fcOpen.showOpenDialog(null);</span>
<span class="nc bnc" id="L1356" title="All 2 branches missed.">            if(returnVal == JFileChooser.APPROVE_OPTION)</span>
<span class="nc" id="L1357">                txtAudio.setText(fcOpen.getSelectedFile().getPath());</span>
        }    
<span class="nc" id="L1359">    }//GEN-LAST:event_btnOpen_AudioMouseClicked</span>

    /**
     * This is the code that handles the user clicking on the
     * Open button to search for an output directory to store
     * all of their files in
     * @param   evt    The KeyTyped event handled by this method
     */
    /**
     * This is the code that handles the user clicking on the
     * Open button to search for a title file to be used for
     * the background menu of the DVD
     * @param   evt    The KeyTyped event handled by this method
     */
    private void btnOpen_TextFileMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnOpen_TextFileMouseClicked
<span class="nc" id="L1374">        fcOpen.setFileSelectionMode(JFileChooser.FILES_ONLY);</span>
<span class="nc" id="L1375">        int returnVal = fcOpen.showOpenDialog(null);</span>
<span class="nc bnc" id="L1376" title="All 2 branches missed.">        if(returnVal == JFileChooser.APPROVE_OPTION)</span>
<span class="nc" id="L1377">            txtTextFile.setText(fcOpen.getSelectedFile().getPath());</span>
<span class="nc" id="L1378">    }//GEN-LAST:event_btnOpen_TextFileMouseClicked</span>

    /**
     * This is the code that handles the user clicking on the
     * check box to select the quality of video conversion for
     * their DVD
     * @param   evt    The KeyTyped event handled by this method
     */
    private void chkQualityMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_chkQualityMouseClicked
<span class="nc bnc" id="L1387" title="All 2 branches missed.">        if(chkQuality.isSelected())</span>
        {
<span class="nc" id="L1389">            rdSuper.setEnabled(true);</span>
<span class="nc" id="L1390">            rdGood.setEnabled(true);</span>
<span class="nc" id="L1391">            rdAverage.setEnabled(true);</span>
        }
        else
        {
<span class="nc" id="L1395">            rdSuper.setEnabled(false);</span>
<span class="nc" id="L1396">            rdGood.setEnabled(false);</span>
<span class="nc" id="L1397">            rdAverage.setEnabled(false);</span>
        }
<span class="nc" id="L1399">    }//GEN-LAST:event_chkQualityMouseClicked</span>

    /**
     * This is the code that handles the user clicking on the
     * check box to specify details for the DVD menu
     * @param   evt    The KeyTyped event handled by this method
     */
    private void chkMenuMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_chkMenuMouseClicked
<span class="nc bnc" id="L1407" title="All 2 branches missed.">        if(chkMenu.isSelected())</span>
        {
<span class="nc" id="L1409">            lblPicture.setEnabled(true);</span>
<span class="nc" id="L1410">            txtPicture.setEnabled(true);</span>
<span class="nc" id="L1411">            btnOpen_Picture.setEnabled(true);</span>
            
<span class="nc" id="L1413">            lblAudio.setEnabled(true);</span>
<span class="nc" id="L1414">            txtAudio.setEnabled(true);</span>
<span class="nc" id="L1415">            btnOpen_Audio.setEnabled(true);</span>
        }
        else
        {
<span class="nc" id="L1419">            lblPicture.setEnabled(false);</span>
<span class="nc" id="L1420">            txtPicture.setEnabled(false);</span>
<span class="nc" id="L1421">            btnOpen_Picture.setEnabled(false);</span>
            
<span class="nc" id="L1423">            lblAudio.setEnabled(false);</span>
<span class="nc" id="L1424">            txtAudio.setEnabled(false);</span>
<span class="nc" id="L1425">            btnOpen_Audio.setEnabled(false);</span>
        }
<span class="nc" id="L1427">    }//GEN-LAST:event_chkMenuMouseClicked</span>
    
    public void enableStartButton()
    {
        int tempMinutes, tempSeconds, tempTotal;
        String tempStrTitle, tempStrOutputDir;
                
        /* First, load the values from the form into local variables */
<span class="nc" id="L1435">	tempMinutes = ((Integer)spnMinutes.getValue()).intValue();</span>
<span class="nc" id="L1436">        tempSeconds = ((Integer)spnSeconds.getValue()).intValue();</span>
<span class="nc" id="L1437">        tempTotal = tempSeconds + tempMinutes;</span>
<span class="nc" id="L1438">	tempStrTitle = txtTitle.getText();</span>
<span class="nc" id="L1439">        tempStrOutputDir = txtOutputDir.getText();</span>
        	
        /*
         * Now do the error checking.  Here we look for a capture time
         * that is greater than zero and less than 65 minutes 
         */
<span class="nc bnc" id="L1445" title="All 6 branches missed.">        if(tempTotal &gt;= 1 &amp;&amp; !tempStrOutputDir.equals(&quot;&quot;) &amp;&amp; !tempStrTitle.equals(&quot;&quot;))</span>
        {
<span class="nc" id="L1447">            strOutputDir = txtOutputDir.getText() + &quot;/&quot; + txtTitle.getText();</span>
<span class="nc" id="L1448">            btnStart.setEnabled(true);</span>
        }           
<span class="nc bnc" id="L1450" title="All 4 branches missed.">        else if(!tempStrOutputDir.equals(&quot;&quot;) &amp;&amp; !tempStrTitle.equals(&quot;&quot;) &amp;&amp;</span>
<span class="nc bnc" id="L1451" title="All 2 branches missed.">                (menuRd_IgnoreCap.isSelected() || </span>
<span class="nc bnc" id="L1452" title="All 2 branches missed.">                 menuRd_IgnoreCapConv.isSelected() ||</span>
<span class="nc bnc" id="L1453" title="All 2 branches missed.">                 menuRd_IgnoreCapConvMenu.isSelected()))</span>
        {
<span class="nc" id="L1455">            strOutputDir = txtOutputDir.getText() + &quot;/&quot; + txtTitle.getText();</span>
<span class="nc" id="L1456">            btnStart.setEnabled(true);</span>
        }            
        else
<span class="nc" id="L1459">            btnStart.setEnabled(false);</span>
<span class="nc" id="L1460">    }</span>
    
    /**
     * On startup, checks to ensure that the raw1394 module is loaded.
     * This module is only needed to capture audio and video from the
     * dv camcorder.
     * return   A boolean indicating if the module is present
     */
    public boolean checkForModules()
    {
        try
        {
            String line;
<span class="nc" id="L1473">            String modules = &quot;cat /proc/modules | grep raw1394&quot;;</span>
<span class="nc" id="L1474">            String[] module_cmd = {&quot;/bin/sh&quot;,&quot;-c&quot;,modules};</span>
<span class="nc" id="L1475">            Process p = Runtime.getRuntime().exec(module_cmd);</span>
<span class="nc" id="L1476">            BufferedReader in = new BufferedReader(new InputStreamReader(p.getInputStream()));</span>
<span class="nc" id="L1477">            line = in.readLine();</span>
<span class="nc" id="L1478">            p.waitFor();</span>
<span class="nc bnc" id="L1479" title="All 2 branches missed.">            if(line == null)</span>
<span class="nc" id="L1480">                return false;</span>
            else
<span class="nc" id="L1482">                return true;</span>
        }
<span class="nc" id="L1484">        catch(Exception ioe)</span>
        {
            /* If we have made it here then the module is not loaded */
<span class="nc" id="L1487">            return false;</span>
        }
        
    }
    
    /**
     * On startup, checks to ensure that all dependent programs are installed
     * @param   Prog[]  List of dependent programs needed for dvd-homevideo
     * @return  A boolean to determine if an error occurred in the function
     */
    public boolean checkForProg(String[] Prog)
    {
        /* Declare local variables */
<span class="nc" id="L1500">        int i = 0; int j = 0;</span>
<span class="nc" id="L1501">        String build_list = &quot;&quot;;</span>
<span class="nc" id="L1502">        String[] uninstalled = new String[Prog.length];</span>
        
        while(true)
        {
            try
            {            
                /* 
                 * Walk through the list of programs needed for dvd-homevideo
                 * to operate correctly.
                 */
<span class="nc bnc" id="L1512" title="All 2 branches missed.">                while(i &lt; Prog.length)</span>
                {
                    /* 
                     * This is how I test for a program.  I simple try to 
                     * execute the application, if it fails then the software
                     * jumps to the catch block and I know that the program
                     * is either not installed or not in the users path.
                     */
<span class="nc" id="L1520">                    Process p = Runtime.getRuntime().exec(Prog[i]);</span>
                    /* 
                     * If I make it here then the program exists and I need to
                     * kill it.
                     */
<span class="nc" id="L1525">                    p.destroy();</span>
<span class="nc" id="L1526">                    i++;</span>
<span class="nc" id="L1527">                }</span>
                
                /* Check for any uninstalled programs */
<span class="nc bnc" id="L1530" title="All 2 branches missed.">                for(i = 0; i &lt; uninstalled.length; i++)</span>
                {
                    /* If not null then add to the list */
<span class="nc bnc" id="L1533" title="All 2 branches missed.">                    if(uninstalled[i] != null)</span>
<span class="nc" id="L1534">                        build_list += uninstalled[i] + &quot;\n&quot;;</span>
                }
                /* 
                 * If the first element is null, then all programs are 
                 * installed correctly.
                 */
<span class="nc bnc" id="L1540" title="All 2 branches missed.">                if(uninstalled[0] == null)</span>
<span class="nc" id="L1541">                    return true;</span>
                /* Otherwise tell the user what they are missing */
                else
<span class="nc" id="L1544">                    MessageBox(&quot;The following programs are not installed or not in &quot; +</span>
                               &quot;your path!\n&quot; + build_list, 0);
<span class="nc" id="L1546">                return false;</span>
            }
<span class="nc" id="L1548">            catch(IOException ioe)</span>
            {                
                /* Add the missing program to the uninstalled array */
<span class="nc" id="L1551">                uninstalled[j] = Prog[i];</span>
<span class="nc" id="L1552">                i++; j++;                                      </span>
<span class="nc" id="L1553">            }    </span>
        }        
    }
    
    /**
     * Displays a message box with the supplied text and yes/no options
     * @param   message    The message to display in the box
     */
    public int MessageBox(String message)
    {
<span class="nc" id="L1563">	return JOptionPane.showConfirmDialog(null, message, &quot;dvd-homevideo&quot;, JOptionPane.YES_NO_OPTION);</span>
    }
    
    /**
     * Displays a message box with the supplied text and type
     * @param   message    The message to display in the box
     * @param   type       The type of message (Info, Warning or Error)
     */
    public void MessageBox(String message, int type)
    {
<span class="nc" id="L1573">	JOptionPane.showMessageDialog(null, message, &quot;dvd-homevideo&quot;, type);</span>
<span class="nc" id="L1574">    }</span>

    /**
     * Displays a message box with the supplied text and type
     * @param   message    The message to display in the box
     * @param   type       The type of message (Info, Warning or Error)
     * @param   picture    Picture to display in the MessageBox
     */
    public void MessageBox(String message, int type, String picture)
    {
<span class="nc" id="L1584">	JOptionPane.showMessageDialog(null, message, &quot;dvd-homevideo&quot;, type, new javax.swing.ImageIcon(getClass().getResource(picture)));</span>
<span class="nc" id="L1585">    }</span>
    
    /**
     * Check dvd-homevideo for runtime errors
     * @param   fileName    This is a log file to parse through, looking for
     *                      the keyword &quot;Error&quot;
     * @return   A boolean indicating if an error was found
     */
    public boolean ErrorCheck(String fileName)
    {
	String line;
	StringTokenizer st;
	String testToken;
<span class="nc" id="L1598">	boolean error = false;</span>
        
        /*
         * Need to parse through the supplies file and look for any
         * instances of the words 'error' or 'broken'.  If found, this
         * is treated as a run-time error of one of the dependent programs
         * that dvd-homevideo relies on.
         */
	try
	{
<span class="nc" id="L1608">            BufferedReader in = new BufferedReader(new FileReader(fileName));</span>
<span class="nc bnc" id="L1609" title="All 2 branches missed.">            while ((line = in.readLine()) != null)</span>
	    {
                /* Check for a specific burn error */
<span class="nc bnc" id="L1612" title="All 2 branches missed.">                if(line.equals(&quot;:-( /dev/dvd: media is not recognized as recordable DVD: 9&quot;))</span>
                {
<span class="nc" id="L1614">                    MessageBox(&quot;Non-recoverable error occurred.&quot; + </span>
<span class="nc" id="L1615">                               &quot;\nClass Name: &quot; + new Exception().getStackTrace()[1].getClassName() + </span>
<span class="nc" id="L1616">                               &quot;\nMethod Name: &quot; + new Exception().getStackTrace()[1].getMethodName() +</span>
                               &quot;\nError was: &quot; + line, 0);
<span class="nc" id="L1618">                    return true;</span>
                }
                
                /*
                 * Need to catch all instances of 'error' or 'broken'.  This
                 * includes cases such as:
                 * **Error:
                 * error~
                 * Broken pipe
                 * etc, etc, etc.  We need to catch ALL instances.
                 */
<span class="nc" id="L1629">                st = new StringTokenizer(line,&quot;*,;:'-~\t &quot;);</span>
<span class="nc bnc" id="L1630" title="All 2 branches missed.">		while(st.hasMoreTokens())</span>
                {
<span class="nc" id="L1632">                    testToken = st.nextToken();</span>
<span class="nc bnc" id="L1633" title="All 2 branches missed.">                    if(testToken.equalsIgnoreCase(&quot;Error&quot;))// || </span>
                       //testToken.equalsIgnoreCase(&quot;Broken&quot;))
		    {
<span class="nc" id="L1636">			MessageBox(&quot;Non-recoverable error occurred.&quot; + </span>
<span class="nc" id="L1637">                                   &quot;\nClass Name: &quot; + new Exception().getStackTrace()[1].getClassName() + </span>
<span class="nc" id="L1638">                                   &quot;\nMethod Name: &quot; + new Exception().getStackTrace()[1].getMethodName() +</span>
                                   &quot;\nError was: &quot; + line, 0);
<span class="nc" id="L1640">                        error = true;</span>
		    } 
                }
	    }	
	}
<span class="nc" id="L1645">	catch(FileNotFoundException ex)</span>
	{
<span class="nc" id="L1647">            SaveStackTrace.printTrace(strOutputDir, ex);</span>
<span class="nc" id="L1648">            MessageBox(&quot;Can not find &quot; + fileName + &quot;\n&quot; + ex.toString(), 0);</span>
<span class="nc" id="L1649">            ex.printStackTrace();</span>
<span class="nc" id="L1650">            return true;</span>
	}
<span class="nc" id="L1652">        catch(IOException ex)</span>
        {
<span class="nc" id="L1654">            SaveStackTrace.printTrace(strOutputDir, ex);</span>
<span class="nc" id="L1655">            MessageBox(&quot;IO Error\n&quot; + ex.toString(), 0);</span>
<span class="nc" id="L1656">            ex.printStackTrace();</span>
<span class="nc" id="L1657">            return true;</span>
<span class="nc" id="L1658">        }</span>
<span class="nc" id="L1659">    	return error;</span>
    }
    
    /**
     * Update the Status textbox
     * @param   typeColor   red, green, or grey
     * @param   typeUpdate  Values should be PASS, FAIL, Status
     */
    public void UpdateStatus(Color typeColor, String typeUpdate)
    {
        /* 
         * Set the background and text to let the user know that
         * dvd-homevideo failed
         */
<span class="nc" id="L1673">        txtStatus.setBackground(typeColor);</span>
<span class="nc" id="L1674">        txtStatus.setText(typeUpdate);</span>
<span class="nc bnc" id="L1675" title="All 2 branches missed.">        if(typeUpdate.equals(&quot;FAIL&quot;))</span>
<span class="nc" id="L1676">            txtStatus.setToolTipText(&quot;Look at dvd-homevideo.err and files&quot; +</span>
                                     &quot; in the log directory for possible&quot; +
                                     &quot; reasons why dvd-homevideo failed.&quot;);

        /* 
         * If we need to wait for user input because dvd-homevideo
         * has completed...either because of passing or failing then
         * set blnBegin to false.
         */
<span class="nc bnc" id="L1685" title="All 2 branches missed.">        if(!typeUpdate.equals(&quot;Status&quot;))</span>
<span class="nc" id="L1686">            blnBegin = false;</span>
<span class="nc" id="L1687">    }</span>
    
    /**
     * This method should be called every time the application exits normally.  This allows the
     * current session to be saved before quiting dvd-homevideo.
     */
    public void ExitDVDHomevideo()
    {
        try
        {
            /* 
             * Automatically save the configuration in the users ~/.dvd-homevideo
             * directory.  This should be the only place in the project where System.exit(0) is called. 
             */
<span class="nc" id="L1701">            WriteSession();</span>
<span class="nc" id="L1702">            WriteProjProperties();</span>
<span class="nc" id="L1703">            System.exit(0);</span>
        }
<span class="nc" id="L1705">        catch(IOException e){}</span>
<span class="nc" id="L1706">    }</span>
    
    /**
     * This method retrieves user specific information from the 
     * properties xml file in the users ~/.dvd-homevideo directory
     */
    public void ReadProjProperties()
    {
<span class="nc" id="L1714">        File home = new File(System.getProperty(&quot;user.home&quot;) + &quot;/.dvd-homevideo/properties&quot;);         </span>
        String line, token;
        StringTokenizer st;
        try 
        {            
            /* 
             * Read the xml properties file and set widgets on the 
             * form accordingly
             */
<span class="nc" id="L1723">            BufferedReader reader = new BufferedReader(new FileReader(home));</span>
<span class="nc bnc" id="L1724" title="All 2 branches missed.">            while((line = reader.readLine()) != null)</span>
            {
<span class="nc" id="L1726">                st = new StringTokenizer(line,&quot;&lt;&gt;&quot;);</span>
<span class="nc bnc" id="L1727" title="All 2 branches missed.">                while(st.hasMoreTokens())</span>
                {
<span class="nc" id="L1729">                    token = st.nextToken();</span>
<span class="nc bnc" id="L1730" title="All 2 branches missed.">                    if(token.equals(&quot;menuRdNTSC&quot;))</span>
                    {
<span class="nc" id="L1732">                        line = reader.readLine();</span>
<span class="nc" id="L1733">                        st = new StringTokenizer(line,&quot;&lt;&gt;&quot;);</span>
<span class="nc" id="L1734">                        st.nextToken(); st.nextToken(); token = st.nextToken();</span>
<span class="nc" id="L1735">                        menuRdNTSC.setSelected(Boolean.parseBoolean(token));</span>
<span class="nc bnc" id="L1736" title="All 2 branches missed.">                        menuRdPAL.setSelected(!Boolean.parseBoolean(token));</span>
                        
<span class="nc" id="L1738">                        rdNTSC.setSelected(menuRdNTSC.isSelected());</span>
<span class="nc" id="L1739">                        rdPAL.setSelected(menuRdPAL.isSelected());</span>
                    }
<span class="nc bnc" id="L1741" title="All 2 branches missed.">                    else if(token.equals(&quot;menuRd_4_3&quot;))</span>
                    {
<span class="nc" id="L1743">                        line = reader.readLine();</span>
<span class="nc" id="L1744">                        st = new StringTokenizer(line,&quot;&lt;&gt;&quot;);</span>
<span class="nc" id="L1745">                        st.nextToken(); st.nextToken(); token = st.nextToken();</span>
<span class="nc" id="L1746">                        menuRd_4_3.setSelected(Boolean.parseBoolean(token));</span>
<span class="nc bnc" id="L1747" title="All 2 branches missed.">                        menuRd_16_9.setSelected(!Boolean.parseBoolean(token));</span>
                        
<span class="nc" id="L1749">                        rd4_3.setSelected(menuRd_4_3.isSelected());</span>
<span class="nc" id="L1750">                        rd16_9.setSelected(menuRd_16_9.isSelected());</span>
                    }
<span class="nc bnc" id="L1752" title="All 2 branches missed.">                    else if(token.equals(&quot;menuChkThread&quot;))</span>
                    {
<span class="nc" id="L1754">                        line = reader.readLine();</span>
<span class="nc" id="L1755">                        st = new StringTokenizer(line,&quot;&lt;&gt;&quot;);</span>
<span class="nc" id="L1756">                        st.nextToken(); st.nextToken(); token = st.nextToken();</span>
<span class="nc" id="L1757">                        menuChkThread.setSelected(Boolean.parseBoolean(token));                         </span>
                    }
                }
            }     
<span class="nc" id="L1761">            reader.close();</span>
        }
<span class="nc" id="L1763">        catch(IOException ex) </span>
        {
<span class="nc" id="L1765">            SaveStackTrace.printTrace(strOutputDir, ex);</span>
<span class="nc" id="L1766">            MessageBox(&quot;IO Error in ReadProjectProperties in GUI.java\n&quot; + ex.toString(), 0);</span>
<span class="nc" id="L1767">            ex.printStackTrace();</span>
<span class="nc" id="L1768">        }</span>
<span class="nc" id="L1769">    }</span>
    
    /**
     * This method stores user specific information in a properties xml file
     * in the users ~/.dvd-homevideo directory
     */
    public void WriteProjProperties()
    {
<span class="nc" id="L1777">        File home = new File(System.getProperty(&quot;user.home&quot;) + &quot;/.dvd-homevideo/properties&quot;);         </span>
        try 
        {            
            /* Write/rewrite the xml properties file */
<span class="nc" id="L1781">            BufferedWriter writer = new BufferedWriter(new FileWriter(home));</span>
<span class="nc" id="L1782">            writer.write(&quot;&lt;dvd-homevideo properties&gt;&quot;); writer.newLine();</span>
<span class="nc" id="L1783">            writer.write(&quot;\t&lt;JRadioButtonMenuItem&gt;&quot;); writer.newLine();</span>

<span class="nc" id="L1785">            writer.write(&quot;\t\t&lt;menuRdNTSC&gt;&quot;); writer.newLine();</span>
<span class="nc" id="L1786">            writer.write(&quot;\t\t\t&lt;selected&gt;&quot; + menuRdNTSC.isSelected() + &quot;&lt;/selected&gt;&quot;); writer.newLine();</span>
<span class="nc" id="L1787">            writer.write(&quot;\t\t&lt;/menuRdNTSC&gt;&quot;); writer.newLine();</span>

<span class="nc" id="L1789">            writer.write(&quot;\t\t&lt;menuRd_4_3&gt;&quot;); writer.newLine();</span>
<span class="nc" id="L1790">            writer.write(&quot;\t\t\t&lt;selected&gt;&quot; + menuRd_4_3.isSelected() + &quot;&lt;/selected&gt;&quot;); writer.newLine();</span>
<span class="nc" id="L1791">            writer.write(&quot;\t\t&lt;/menuRd_4_3&gt;&quot;); writer.newLine();</span>
            
<span class="nc" id="L1793">            writer.write(&quot;\t&lt;/JRadioButonMenuItem&gt;&quot;); writer.newLine();</span>
            
<span class="nc" id="L1795">            writer.write(&quot;\t&lt;JCheckBoxMenuItem&gt;&quot;); writer.newLine();</span>

<span class="nc" id="L1797">            writer.write(&quot;\t\t&lt;menuChkThread&gt;&quot;); writer.newLine();</span>
<span class="nc" id="L1798">            writer.write(&quot;\t\t\t&lt;selected&gt;&quot; + menuChkThread.isSelected() + &quot;&lt;/selected&gt;&quot;); writer.newLine();</span>
<span class="nc" id="L1799">            writer.write(&quot;\t\t&lt;/menuChkThread&gt;&quot;); writer.newLine();            </span>
            
<span class="nc" id="L1801">            writer.write(&quot;\t&lt;/JCheckBoxMenuItem&gt;&quot;); writer.newLine();</span>
            
<span class="nc" id="L1803">            writer.close();      </span>
            
            /* Update the states on the form */
<span class="nc" id="L1806">            rdNTSC.setSelected(menuRdNTSC.isSelected());</span>
<span class="nc" id="L1807">            rdPAL.setSelected(menuRdPAL.isSelected());</span>

<span class="nc" id="L1809">            rd4_3.setSelected(menuRd_4_3.isSelected());</span>
<span class="nc" id="L1810">            rd16_9.setSelected(menuRd_16_9.isSelected());</span>
        }
<span class="nc" id="L1812">        catch(IOException ex) </span>
        {
<span class="nc" id="L1814">            SaveStackTrace.printTrace(strOutputDir, ex);</span>
<span class="nc" id="L1815">            MessageBox(&quot;IO Error in WriteProjectProperties in GUI.java\n&quot; + ex.toString(), 0);</span>
<span class="nc" id="L1816">            ex.printStackTrace();</span>
<span class="nc" id="L1817">        }</span>
<span class="nc" id="L1818">    }</span>
    
    /**
     * Opens a previous dvd-homevideo session by reading an xml file
     * @param   xmlPath    Path to the xml file
     */
    public void ReadSession(String xmlPath)
    {
        String line, token;
        StringTokenizer st;
<span class="nc" id="L1828">        boolean done = false;</span>
        int i;
        
        /* 
         * Define an exhaustive list of the widgets that we need to track
         * on the form.
         */
<span class="nc" id="L1835">        javax.swing.JLabel[] lbl_widgets = {lblMinutes, lblSeconds, lblFormat, lblAspectRatio, lblPicture, lblAudio,</span>
                                            lblOutputDir, lblTitle, lblTextFile};
<span class="nc" id="L1837">        javax.swing.JSpinner[] spn_widgets = {spnMinutes, spnSeconds};</span>
<span class="nc" id="L1838">        javax.swing.JCheckBox[] chk_widgets = {chkQuality, chkMenu, chkBurn};</span>
<span class="nc" id="L1839">        javax.swing.JRadioButton[] rd_widgets = {rdSuper, rdGood, rdAverage, rdNTSC, rdPAL, rd4_3, rd16_9};</span>
<span class="nc" id="L1840">        javax.swing.JTextField[] txt_widgets = {txtPicture, txtAudio, txtOutputDir, txtTitle, txtTextFile};</span>
<span class="nc" id="L1841">        javax.swing.JButton[] btn_widgets = {btnOpen_Picture, btnOpen_Audio, btnOpen_OutputDir, btnOpen_TextFile};</span>
<span class="nc" id="L1842">        javax.swing.JRadioButtonMenuItem[] chkMenu_widgets = {menuRd_IgnoreCap, menuRd_IgnoreCapConv,</span>
                                                           menuRd_IgnoreCapConvMenu};
        try
        {
<span class="nc" id="L1846">            BufferedReader in = new BufferedReader(new FileReader(xmlPath));  </span>
            
<span class="nc" id="L1848">            line = in.readLine();</span>
<span class="nc" id="L1849">            st = new StringTokenizer(line,&quot;&lt;&gt;&quot;);</span>
<span class="nc" id="L1850">            token = st.nextToken();</span>
            
            /* 
             * If the first line does not contain dvd-homevideo then
             * we have a bad xml file.
             */
<span class="nc bnc" id="L1856" title="All 2 branches missed.">            if(!token.equals(&quot;dvd-homevideo&quot;))</span>
            {
<span class="nc" id="L1858">                MessageBox(&quot;Invalid File Format!&quot;,1);</span>
<span class="nc" id="L1859">                done = true;</span>
            }   
            
<span class="nc bnc" id="L1862" title="All 4 branches missed.">            while(((line = in.readLine()) != null) &amp;&amp; !done)</span>
            {
<span class="nc" id="L1864">                st = new StringTokenizer(line,&quot;&lt;&gt;&quot;);</span>
<span class="nc bnc" id="L1865" title="All 2 branches missed.">                if(!st.nextToken().equals(&quot;/dvd-homevideo&quot;))</span>
<span class="nc" id="L1866">                    token = st.nextToken(); </span>
                
                /* Read in the variables and set them on the form */
<span class="nc bnc" id="L1869" title="All 2 branches missed.">                if(token.equals(&quot;JLabel&quot;))</span>
                {
<span class="nc bnc" id="L1871" title="All 2 branches missed.">                    for(i = 0; i &lt; lbl_widgets.length; i++)</span>
                    {
<span class="nc" id="L1873">                        in.readLine(); line = in.readLine(); </span>
<span class="nc" id="L1874">                        st = new StringTokenizer(line,&quot;&lt;&gt;&quot;);</span>
<span class="nc" id="L1875">                        st.nextToken(); st.nextToken(); token = st.nextToken();</span>
<span class="nc" id="L1876">                        lbl_widgets[i].setEnabled(Boolean.parseBoolean(token));</span>
<span class="nc" id="L1877">                        in.readLine();</span>
                    }
                }
<span class="nc bnc" id="L1880" title="All 2 branches missed.">                else if(token.equals(&quot;JSpinner&quot;))  </span>
                {
<span class="nc bnc" id="L1882" title="All 2 branches missed.">                    for(i = 0; i &lt; spn_widgets.length; i++)</span>
                    {
<span class="nc" id="L1884">                        in.readLine(); line = in.readLine(); </span>
<span class="nc" id="L1885">                        st = new StringTokenizer(line,&quot;&lt;&gt;&quot;);</span>
<span class="nc" id="L1886">                        st.nextToken(); st.nextToken(); token = st.nextToken();</span>
<span class="nc" id="L1887">                        spn_widgets[i].setEnabled(Boolean.parseBoolean(token));</span>
                        
<span class="nc" id="L1889">                        line = in.readLine();</span>
<span class="nc" id="L1890">                        st = new StringTokenizer(line,&quot;&lt;&gt;&quot;);</span>
<span class="nc" id="L1891">                        st.nextToken(); st.nextToken(); token = st.nextToken();</span>
                        // SDK 1.4 didn't like this
<span class="nc" id="L1893">                        spn_widgets[i].setValue(Integer.parseInt(token));</span>
                        //spn_widgets[i].getModel().setValue((Object)token);
<span class="nc" id="L1895">                        in.readLine();</span>
                    }
                }                    
<span class="nc bnc" id="L1898" title="All 2 branches missed.">                else if(token.equals(&quot;JCheckBox&quot;))</span>
                {
<span class="nc bnc" id="L1900" title="All 2 branches missed.">                    for(i = 0; i &lt; chk_widgets.length; i++)</span>
                    {
<span class="nc" id="L1902">                        in.readLine(); line = in.readLine(); </span>
<span class="nc" id="L1903">                        st = new StringTokenizer(line,&quot;&lt;&gt;&quot;);</span>
<span class="nc" id="L1904">                        st.nextToken(); st.nextToken(); token = st.nextToken();</span>
<span class="nc" id="L1905">                        chk_widgets[i].setEnabled(Boolean.parseBoolean(token));</span>
                        
<span class="nc" id="L1907">                        line = in.readLine();</span>
<span class="nc" id="L1908">                        st = new StringTokenizer(line,&quot;&lt;&gt;&quot;);</span>
<span class="nc" id="L1909">                        st.nextToken(); st.nextToken(); token = st.nextToken();</span>
<span class="nc" id="L1910">                        chk_widgets[i].setSelected(Boolean.parseBoolean(token));</span>
<span class="nc" id="L1911">                        in.readLine();</span>
                    }
                }
<span class="nc bnc" id="L1914" title="All 2 branches missed.">                else if(token.equals(&quot;JRadioButton&quot;))</span>
                {
<span class="nc bnc" id="L1916" title="All 2 branches missed.">                    for(i = 0; i &lt; rd_widgets.length; i++)</span>
                    {
<span class="nc" id="L1918">                        in.readLine(); line = in.readLine(); </span>
<span class="nc" id="L1919">                        st = new StringTokenizer(line,&quot;&lt;&gt;&quot;);</span>
<span class="nc" id="L1920">                        st.nextToken(); st.nextToken(); token = st.nextToken();</span>
<span class="nc" id="L1921">                        rd_widgets[i].setEnabled(Boolean.parseBoolean(token));</span>
                        
<span class="nc" id="L1923">                        line = in.readLine();</span>
<span class="nc" id="L1924">                        st = new StringTokenizer(line,&quot;&lt;&gt;&quot;);</span>
<span class="nc" id="L1925">                        st.nextToken(); st.nextToken(); token = st.nextToken();</span>
<span class="nc" id="L1926">                        rd_widgets[i].setSelected(Boolean.parseBoolean(token));</span>
<span class="nc" id="L1927">                        in.readLine();</span>
                    }
                }
<span class="nc bnc" id="L1930" title="All 2 branches missed.">                else if(token.equals(&quot;JTextField&quot;))</span>
                {
<span class="nc bnc" id="L1932" title="All 2 branches missed.">                    for(i = 0; i &lt; txt_widgets.length; i++)</span>
                    {
<span class="nc" id="L1934">                        in.readLine(); line = in.readLine(); </span>
<span class="nc" id="L1935">                        st = new StringTokenizer(line,&quot;&lt;&gt;&quot;);</span>
<span class="nc" id="L1936">                        st.nextToken(); st.nextToken(); token = st.nextToken();</span>
<span class="nc" id="L1937">                        txt_widgets[i].setEnabled(Boolean.parseBoolean(token));</span>
                        
<span class="nc" id="L1939">                        line = in.readLine();</span>
<span class="nc" id="L1940">                        st = new StringTokenizer(line,&quot;&lt;&gt;&quot;);</span>
<span class="nc" id="L1941">                        st.nextToken(); st.nextToken(); token = st.nextToken();</span>
<span class="nc bnc" id="L1942" title="All 2 branches missed.">                        if(!token.substring(1,4).equals(&quot;tex&quot;))</span>
<span class="nc" id="L1943">                            txt_widgets[i].setText(token);</span>
<span class="nc" id="L1944">                        in.readLine();</span>
                    }
                }
<span class="nc bnc" id="L1947" title="All 2 branches missed.">                else if(token.equals(&quot;JButton&quot;))</span>
                {
<span class="nc bnc" id="L1949" title="All 2 branches missed.">                    for(i = 0; i &lt; btn_widgets.length; i++)</span>
                    {
<span class="nc" id="L1951">                        in.readLine(); line = in.readLine(); </span>
<span class="nc" id="L1952">                        st = new StringTokenizer(line,&quot;&lt;&gt;&quot;);</span>
<span class="nc" id="L1953">                        st.nextToken(); st.nextToken(); token = st.nextToken();</span>
<span class="nc" id="L1954">                        btn_widgets[i].setEnabled(Boolean.parseBoolean(token));</span>
<span class="nc" id="L1955">                        in.readLine();</span>
                    }
                }       
<span class="nc bnc" id="L1958" title="All 2 branches missed.">                else if(token.equals(&quot;JRadioButtonMenuItem&quot;))</span>
                {
<span class="nc bnc" id="L1960" title="All 2 branches missed.">                    for(i = 0; i &lt; chkMenu_widgets.length; i++)</span>
                    {
<span class="nc" id="L1962">                        in.readLine(); line = in.readLine(); </span>
<span class="nc" id="L1963">                        st = new StringTokenizer(line,&quot;&lt;&gt;&quot;);</span>
<span class="nc" id="L1964">                        st.nextToken(); st.nextToken(); token = st.nextToken();</span>
<span class="nc" id="L1965">                        chkMenu_widgets[i].setEnabled(Boolean.parseBoolean(token));</span>
                        
<span class="nc" id="L1967">                        line = in.readLine();</span>
<span class="nc" id="L1968">                        st = new StringTokenizer(line,&quot;&lt;&gt;&quot;);</span>
<span class="nc" id="L1969">                        st.nextToken(); st.nextToken(); token = st.nextToken();</span>
<span class="nc" id="L1970">                        chkMenu_widgets[i].setSelected(Boolean.parseBoolean(token));</span>
<span class="nc" id="L1971">                        in.readLine();</span>
                    }
                }
                else
                {
<span class="nc" id="L1976">                    lblCapture.setEnabled(false);</span>
<span class="nc" id="L1977">                    lblConvert.setEnabled(false);</span>
<span class="nc" id="L1978">                    lblAuthor.setEnabled(false);</span>
                    
<span class="nc" id="L1980">                    lblCaptureProg.setEnabled(false);</span>
<span class="nc" id="L1981">                    lblConvertProg.setEnabled(false);</span>
<span class="nc" id="L1982">                    lblAuthorProg.setEnabled(false);</span>
                    
<span class="nc" id="L1984">                    prgCapture.setEnabled(false);</span>
<span class="nc" id="L1985">                    prgConvert.setEnabled(false);</span>
<span class="nc" id="L1986">                    prgAuthor.setEnabled(false);</span>
                
<span class="nc" id="L1988">                    lblCaptureProg.setText(&quot;0%&quot;);</span>
<span class="nc" id="L1989">                    lblConvertProg.setText(&quot;0%&quot;);</span>
<span class="nc" id="L1990">                    lblAuthorProg.setText(&quot;0%&quot;);</span>
                }
            }
        }
<span class="nc" id="L1994">        catch(IOException ex)</span>
        {
<span class="nc" id="L1996">            SaveStackTrace.printTrace(strOutputDir, ex);</span>
<span class="nc" id="L1997">            MessageBox(&quot;IO Error while reading the xml file&quot; +</span>
<span class="nc" id="L1998">                       &quot;\nfor the requested dvd-homevideo session.\n&quot; + ex.toString(), 0);</span>
<span class="nc" id="L1999">            ex.printStackTrace();</span>
<span class="nc" id="L2000">        }        </span>
<span class="nc" id="L2001">    }</span>

    /**
     * Saves the state of all widgets on the GUI form in an xml file
     * in the users ~/.dvd-homevideo directory
     */
    public void WriteSession() throws IOException
    {        
        int i;
        
        /* Again, we must have this exhaustive list of widgets to parse through */
<span class="nc" id="L2012">        javax.swing.JLabel[] lbl_widgets = {lblMinutes, lblSeconds, lblFormat, lblAspectRatio, lblPicture, lblAudio,</span>
                                            lblOutputDir, lblTitle, lblTextFile};
<span class="nc" id="L2014">        javax.swing.JSpinner[] spn_widgets = {spnMinutes, spnSeconds};</span>
<span class="nc" id="L2015">        javax.swing.JCheckBox[] chk_widgets = {chkQuality, chkMenu, chkBurn};</span>
<span class="nc" id="L2016">        javax.swing.JRadioButton[] rd_widgets = {rdSuper, rdGood, rdAverage, rdNTSC, rdPAL, rd4_3, rd16_9};</span>
<span class="nc" id="L2017">        javax.swing.JTextField[] txt_widgets = {txtPicture, txtAudio, txtOutputDir, txtTitle, txtTextFile};</span>
<span class="nc" id="L2018">        javax.swing.JButton[] btn_widgets = {btnOpen_Picture, btnOpen_Audio, btnOpen_OutputDir, btnOpen_TextFile};</span>
<span class="nc" id="L2019">        javax.swing.JRadioButtonMenuItem[] chkMenu_widgets = {menuRd_IgnoreCap, menuRd_IgnoreCapConv,</span>
                                                           menuRd_IgnoreCapConvMenu};
            
        try
        {
            /* Write the file to the users ~/.dvd-homevideo directory */
<span class="nc" id="L2025">            String home = System.getProperty(&quot;user.home&quot;);</span>
<span class="nc" id="L2026">            File msgboxSave = new File(home + &quot;/.dvd-homevideo/properties&quot;);</span>
<span class="nc" id="L2027">            BufferedWriter msgboxSaveWriter = new BufferedWriter(new FileWriter(home + &quot;/.dvd-homevideo/properties&quot;));</span>
<span class="nc" id="L2028">            msgboxSaveWriter.close();</span>
            
            /* Now write the xml file to the users home/dvd-homevideo directory */
<span class="nc" id="L2031">            BufferedWriter writer = new BufferedWriter(new FileWriter(home + &quot;/.dvd-homevideo/&quot; + txtTitle.getText() + &quot;.xml&quot;));</span>
<span class="nc" id="L2032">            writer.write(&quot;&lt;dvd-homevideo&gt;&quot;); writer.newLine();</span>
<span class="nc" id="L2033">            writer.write(&quot;\t&lt;JLabel&gt;&quot;); writer.newLine();</span>
<span class="nc bnc" id="L2034" title="All 2 branches missed.">            for(i = 0; i &lt; lbl_widgets.length; i++)</span>
            {
<span class="nc" id="L2036">                writer.write(&quot;\t\t&lt;&quot; + lbl_widgets[i].getName() + &quot;&gt;&quot;); writer.newLine();</span>
<span class="nc" id="L2037">                writer.write(&quot;\t\t\t&lt;enabled&gt;&quot; + lbl_widgets[i].isEnabled() + &quot;&lt;/enabled&gt;&quot;); writer.newLine();</span>
<span class="nc" id="L2038">                writer.write(&quot;\t\t&lt;/&quot; + lbl_widgets[i].getName() + &quot;&gt;&quot;); writer.newLine();</span>
            }
<span class="nc" id="L2040">            writer.write(&quot;\t&lt;/JLabel&gt;&quot;); writer.newLine();</span>
            
<span class="nc" id="L2042">            writer.write(&quot;\t&lt;JSpinner&gt;&quot;); writer.newLine();</span>
<span class="nc bnc" id="L2043" title="All 2 branches missed.">            for(i = 0; i &lt; spn_widgets.length; i++)</span>
            {
<span class="nc" id="L2045">                writer.write(&quot;\t\t&lt;&quot; + spn_widgets[i].getName() + &quot;&gt;&quot;); writer.newLine();</span>
<span class="nc" id="L2046">                writer.write(&quot;\t\t\t&lt;enabled&gt;&quot; + spn_widgets[i].isEnabled() + &quot;&lt;/enabled&gt;&quot;); writer.newLine();</span>
<span class="nc" id="L2047">                writer.write(&quot;\t\t\t&lt;value&gt;&quot; + spn_widgets[i].getValue() + &quot;&lt;/value&gt;&quot;); writer.newLine();</span>
<span class="nc" id="L2048">                writer.write(&quot;\t\t&lt;/&quot; + spn_widgets[i].getName() + &quot;&gt;&quot;); writer.newLine();</span>
            }
<span class="nc" id="L2050">            writer.write(&quot;\t&lt;/JSpinner&gt;&quot;); writer.newLine();</span>

<span class="nc" id="L2052">            writer.write(&quot;\t&lt;JCheckBox&gt;&quot;); writer.newLine();</span>
<span class="nc bnc" id="L2053" title="All 2 branches missed.">            for(i = 0; i &lt; chk_widgets.length; i++)</span>
            {
<span class="nc" id="L2055">                writer.write(&quot;\t\t&lt;&quot; + chk_widgets[i].getName() + &quot;&gt;&quot;); writer.newLine();</span>
<span class="nc" id="L2056">                writer.write(&quot;\t\t\t&lt;enabled&gt;&quot; + chk_widgets[i].isEnabled() + &quot;&lt;/enabled&gt;&quot;); writer.newLine();</span>
<span class="nc" id="L2057">                writer.write(&quot;\t\t\t&lt;selected&gt;&quot; + chk_widgets[i].isSelected() + &quot;&lt;/selected&gt;&quot;); writer.newLine();</span>
<span class="nc" id="L2058">                writer.write(&quot;\t\t&lt;/&quot; + chk_widgets[i].getName() + &quot;&gt;&quot;); writer.newLine();</span>
            }
<span class="nc" id="L2060">            writer.write(&quot;\t&lt;/JCheckBox&gt;&quot;); writer.newLine();</span>
            
<span class="nc" id="L2062">            writer.write(&quot;\t&lt;JRadioButton&gt;&quot;); writer.newLine();</span>
<span class="nc bnc" id="L2063" title="All 2 branches missed.">            for(i = 0; i &lt; rd_widgets.length; i++)</span>
            {
<span class="nc" id="L2065">                writer.write(&quot;\t\t&lt;&quot; + rd_widgets[i].getName() + &quot;&gt;&quot;); writer.newLine();</span>
<span class="nc" id="L2066">                writer.write(&quot;\t\t\t&lt;enabled&gt;&quot; + rd_widgets[i].isEnabled() + &quot;&lt;/enabled&gt;&quot;); writer.newLine();</span>
<span class="nc" id="L2067">                writer.write(&quot;\t\t\t&lt;selected&gt;&quot; + rd_widgets[i].isSelected() + &quot;&lt;/selected&gt;&quot;); writer.newLine();</span>
<span class="nc" id="L2068">                writer.write(&quot;\t\t&lt;/&quot; + rd_widgets[i].getName() + &quot;&gt;&quot;); writer.newLine();</span>
            }
<span class="nc" id="L2070">            writer.write(&quot;\t&lt;/JRadioButton&gt;&quot;); writer.newLine();</span>

<span class="nc" id="L2072">            writer.write(&quot;\t&lt;JTextField&gt;&quot;); writer.newLine();</span>
<span class="nc bnc" id="L2073" title="All 2 branches missed.">            for(i = 0; i &lt; txt_widgets.length; i++)</span>
            {
<span class="nc" id="L2075">                writer.write(&quot;\t\t&lt;&quot; + txt_widgets[i].getName() + &quot;&gt;&quot;); writer.newLine();</span>
<span class="nc" id="L2076">                writer.write(&quot;\t\t\t&lt;enabled&gt;&quot; + txt_widgets[i].isEnabled() + &quot;&lt;/enabled&gt;&quot;); writer.newLine();</span>
<span class="nc" id="L2077">                writer.write(&quot;\t\t\t&lt;text&gt;&quot; + txt_widgets[i].getText() + &quot;&lt;/text&gt;&quot;); writer.newLine();</span>
<span class="nc" id="L2078">                writer.write(&quot;\t\t&lt;/&quot; + txt_widgets[i].getName() + &quot;&gt;&quot;); writer.newLine();</span>
            }
<span class="nc" id="L2080">            writer.write(&quot;\t&lt;/JTextField&gt;&quot;); writer.newLine();</span>
            
<span class="nc" id="L2082">            writer.write(&quot;\t&lt;JButton&gt;&quot;); writer.newLine();</span>
<span class="nc bnc" id="L2083" title="All 2 branches missed.">            for(i = 0; i &lt; btn_widgets.length; i++)</span>
            {
<span class="nc" id="L2085">                writer.write(&quot;\t\t&lt;&quot; + btn_widgets[i].getName() + &quot;&gt;&quot;); writer.newLine();</span>
<span class="nc" id="L2086">                writer.write(&quot;\t\t\t&lt;enabled&gt;&quot; + btn_widgets[i].isEnabled() + &quot;&lt;/enabled&gt;&quot;); writer.newLine();</span>
<span class="nc" id="L2087">                writer.write(&quot;\t\t&lt;/&quot; + btn_widgets[i].getName() + &quot;&gt;&quot;); writer.newLine();</span>
            }
<span class="nc" id="L2089">            writer.write(&quot;\t&lt;/JButton&gt;&quot;); writer.newLine();</span>
            
<span class="nc" id="L2091">            writer.write(&quot;\t&lt;JRadioButtonMenuItem&gt;&quot;); writer.newLine();</span>
<span class="nc bnc" id="L2092" title="All 2 branches missed.">            for(i = 0; i &lt; chkMenu_widgets.length; i++)</span>
            {
<span class="nc" id="L2094">                writer.write(&quot;\t\t&lt;&quot; + chkMenu_widgets[i].getName() + &quot;&gt;&quot;); writer.newLine();</span>
<span class="nc" id="L2095">                writer.write(&quot;\t\t\t&lt;enabled&gt;&quot; + chkMenu_widgets[i].isEnabled() + &quot;&lt;/enabled&gt;&quot;); writer.newLine();</span>
<span class="nc" id="L2096">                writer.write(&quot;\t\t\t&lt;selected&gt;&quot; + chkMenu_widgets[i].isSelected() + &quot;&lt;/selected&gt;&quot;); writer.newLine();</span>
<span class="nc" id="L2097">                writer.write(&quot;\t\t&lt;/&quot; + chkMenu_widgets[i].getName() + &quot;&gt;&quot;); writer.newLine();</span>
            }
<span class="nc" id="L2099">            writer.write(&quot;\t&lt;/JRadioButtonMenuItem&gt;&quot;); writer.newLine();</span>
            
<span class="nc" id="L2101">            writer.write(&quot;&lt;/dvd-homevideo&gt;&quot;); writer.newLine();</span>
<span class="nc" id="L2102">            writer.close();</span>
        }
<span class="nc" id="L2104">        catch(IOException ex)</span>
        {
<span class="nc" id="L2106">            SaveStackTrace.printTrace(strOutputDir, ex);</span>
<span class="nc" id="L2107">            MessageBox(&quot;IO Error while writing the xml file&quot; +</span>
<span class="nc" id="L2108">                       &quot;\nfor this dvd-homevideo session.\n&quot; + ex.toString(), 0);</span>
<span class="nc" id="L2109">            ex.printStackTrace();</span>
<span class="nc" id="L2110">        }       </span>
<span class="nc" id="L2111">    }</span>
    
    /*
    public void setIcon()
    {
        javax.swing.ImageIcon image = new javax.swing.ImageIcon(getClass().getResource(&quot;/logo_32x32.png&quot;));
        setIconImage(new javax.swing.ImageIcon(image.getImage()));
    }
    */
    
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btnExit;
    private javax.swing.JButton btnOpen_Audio;
    private javax.swing.JButton btnOpen_OutputDir;
    private javax.swing.JButton btnOpen_Picture;
    private javax.swing.JButton btnOpen_TextFile;
    protected javax.swing.JButton btnPlay;
    private javax.swing.JButton btnStart;
    protected javax.swing.JCheckBox chkBurn;
    protected javax.swing.JCheckBox chkMenu;
    protected javax.swing.JCheckBox chkQuality;
    private javax.swing.JFileChooser fcMenuOpen;
    private javax.swing.JFileChooser fcOpen;
    private javax.swing.ButtonGroup grpAspectRatio;
    private javax.swing.ButtonGroup grpFormat;
    private javax.swing.ButtonGroup grpMenuAspectRatio;
    private javax.swing.ButtonGroup grpMenuFormat;
    private javax.swing.ButtonGroup grpMenuIgnore;
    private javax.swing.ButtonGroup grpMenuMode;
    private javax.swing.ButtonGroup grpQuality;
    private javax.swing.JLabel lblAspectRatio;
    private javax.swing.JLabel lblAudio;
    protected javax.swing.JLabel lblAuthor;
    protected javax.swing.JLabel lblAuthorProg;
    protected javax.swing.JLabel lblCapture;
    protected javax.swing.JLabel lblCaptureProg;
    protected javax.swing.JLabel lblConvert;
    protected javax.swing.JLabel lblConvertProg;
    private javax.swing.JLabel lblFormat;
    private javax.swing.JLabel lblMinutes;
    private javax.swing.JLabel lblOutputDir;
    private javax.swing.JLabel lblPicture;
    private javax.swing.JLabel lblSeconds;
    private javax.swing.JLabel lblTextFile;
    private javax.swing.JLabel lblTitle;
    private javax.swing.JMenuItem menuAbout;
    protected javax.swing.JMenuBar menuBarMain;
    private javax.swing.JMenuItem menuBug;
    protected javax.swing.JCheckBoxMenuItem menuChkThread;
    protected javax.swing.JMenuItem menuExit;
    protected javax.swing.JMenu menuFile;
    protected javax.swing.JMenu menuHelp;
    protected javax.swing.JMenuItem menuInternet;
    protected javax.swing.JMenuItem menuOpen;
    private javax.swing.JMenu menuProjProp;
    protected javax.swing.JMenuItem menuREADME;
    private javax.swing.JRadioButtonMenuItem menuRdNTSC;
    private javax.swing.JRadioButtonMenuItem menuRdPAL;
    private javax.swing.JRadioButtonMenuItem menuRd_16_9;
    private javax.swing.JRadioButtonMenuItem menuRd_4_3;
    protected javax.swing.JRadioButtonMenuItem menuRd_IgnoreCap;
    protected javax.swing.JRadioButtonMenuItem menuRd_IgnoreCapConv;
    protected javax.swing.JRadioButtonMenuItem menuRd_IgnoreCapConvMenu;
    protected javax.swing.JRadioButtonMenuItem menuRd_IgnoreNone;
    protected javax.swing.JMenuItem menuSave;
    protected javax.swing.JMenu menuTools;
    private javax.swing.JPanel pnlGUI;
    protected javax.swing.JProgressBar prgAuthor;
    protected javax.swing.JProgressBar prgCapture;
    protected javax.swing.JProgressBar prgConvert;
    protected javax.swing.JRadioButton rd16_9;
    protected javax.swing.JRadioButton rd4_3;
    protected javax.swing.JRadioButton rdAverage;
    protected javax.swing.JRadioButton rdGood;
    protected javax.swing.JRadioButton rdNTSC;
    protected javax.swing.JRadioButton rdPAL;
    protected javax.swing.JRadioButton rdSuper;
    private javax.swing.JScrollPane spTextArea;
    protected javax.swing.JSpinner spnMinutes;
    protected javax.swing.JSpinner spnSeconds;
    private javax.swing.JSeparator sprAspectRatio;
    private javax.swing.JSeparator sprCapConvert;
    private javax.swing.JSeparator sprIgnore;
    private javax.swing.JSeparator sprMenuAuthor;
    private javax.swing.JSeparator sprMenuFormatAspect;
    private javax.swing.JSeparator sprMenuThread;
    protected javax.swing.JSeparator sprOpen;
    protected javax.swing.JSeparator sprSave;
    protected javax.swing.JTextArea txtAreaOutput;
    protected javax.swing.JTextField txtAudio;
    protected javax.swing.JTextField txtOutputDir;
    protected javax.swing.JTextField txtPicture;
    protected javax.swing.JTextField txtStatus;
    protected javax.swing.JTextField txtTextFile;
    protected javax.swing.JTextField txtTitle;
    // End of variables declaration//GEN-END:variables
    
    /* My GUI variable declarations */
<span class="nc" id="L2209">    protected javax.swing.SpinnerNumberModel spnSecondsSize = new javax.swing.SpinnerNumberModel(0,0,59,1);</span>
<span class="nc" id="L2210">    protected javax.swing.SpinnerNumberModel spnMinutesSize = new javax.swing.SpinnerNumberModel(0,0,64,1);    </span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>