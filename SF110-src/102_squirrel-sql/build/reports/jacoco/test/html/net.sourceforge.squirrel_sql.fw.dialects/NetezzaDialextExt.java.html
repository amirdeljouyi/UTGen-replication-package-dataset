<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>NetezzaDialextExt.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">102_squirrel-sql</a> &gt; <a href="index.source.html" class="el_package">net.sourceforge.squirrel_sql.fw.dialects</a> &gt; <span class="el_source">NetezzaDialextExt.java</span></div><h1>NetezzaDialextExt.java</h1><pre class="source lang-java linenums">/*
 * Copyright (C) 2009 Rob Manning
 * manningr@users.sourceforge.net
 *
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 2.1 of the License, or (at your option) any later version.
 *
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public
 * License along with this library; if not, write to the Free Software
 * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
 */

package net.sourceforge.squirrel_sql.fw.dialects;

import static net.sourceforge.squirrel_sql.fw.dialects.DialectUtils.ADD_COLUMN_TYPE;
import static net.sourceforge.squirrel_sql.fw.dialects.DialectUtils.COLUMN_DROP_TYPE;
import static net.sourceforge.squirrel_sql.fw.dialects.DialectUtils.COLUMN_NULL_ALTER_TYPE;
import static net.sourceforge.squirrel_sql.fw.dialects.DialectUtils.COLUMN_TYPE_ALTER_TYPE;
import static net.sourceforge.squirrel_sql.fw.dialects.DialectUtils.CREATE_INDEX_TYPE;
import static net.sourceforge.squirrel_sql.fw.dialects.DialectUtils.DROP_INDEX_TYPE;
import static net.sourceforge.squirrel_sql.fw.dialects.DialectUtils.getUnsupportedMessage;

import java.sql.Types;
import java.util.Collection;
import java.util.HashMap;
import java.util.List;

import net.sourceforge.squirrel_sql.fw.sql.ITableInfo;
import net.sourceforge.squirrel_sql.fw.sql.TableColumnInfo;

import org.antlr.stringtemplate.StringTemplate;
import org.hibernate.HibernateException;

/**
 * Dialect for the Netezza NPS database server.
 */
<span class="nc" id="L44">public class NetezzaDialextExt extends CommonHibernateDialect</span>
{

	// Note that Netezza 4.6 doesn't have support for LOB data types. Under the hood, it appears to use
	// PostgreSQL, but with some limitations.
	private class NetezzaDialectHelper extends org.hibernate.dialect.PostgreSQLDialect
	{
		public NetezzaDialectHelper()
<span class="nc" id="L52">		{</span>
<span class="nc" id="L53">			super();</span>
<span class="nc" id="L54">			registerColumnType(Types.BIGINT, &quot;bigint&quot;);</span>
<span class="nc" id="L55">			registerColumnType(Types.BIT, &quot;bool&quot;);</span>
<span class="nc" id="L56">			registerColumnType(Types.BOOLEAN, &quot;bool&quot;);</span>
<span class="nc" id="L57">			registerColumnType(Types.CHAR, 64000, &quot;char($l)&quot;);</span>
<span class="nc" id="L58">			registerColumnType(Types.CHAR, &quot;char(64000)&quot;);</span>
			// Netezza 4.6 doesn't support text or any large character object data type
			// registerColumnType(Types.CLOB, &quot;text&quot;);
<span class="nc" id="L61">			registerColumnType(Types.DATE, &quot;date&quot;);</span>
<span class="nc" id="L62">			registerColumnType(Types.DECIMAL, &quot;decimal($p,2)&quot;);</span>
<span class="nc" id="L63">			registerColumnType(Types.DOUBLE, &quot;double precision&quot;);</span>
<span class="nc" id="L64">			registerColumnType(Types.FLOAT, 15, &quot;float($p)&quot;);</span>
<span class="nc" id="L65">			registerColumnType(Types.FLOAT, &quot;float(15)&quot;);</span>
<span class="nc" id="L66">			registerColumnType(Types.INTEGER, &quot;int&quot;);</span>
			// Netezza 4.6 doesn't appear to support bytea or any binary type.
			// registerColumnType(Types.LONGVARBINARY, &quot;bytea&quot;);
<span class="nc" id="L69">			registerColumnType(Types.LONGVARCHAR, &quot;char(64000)&quot;);</span>
<span class="nc" id="L70">			registerColumnType(Types.NUMERIC, &quot;numeric($p,$s)&quot;);</span>
<span class="nc" id="L71">			registerColumnType(Types.REAL, &quot;real&quot;);</span>
<span class="nc" id="L72">			registerColumnType(Types.SMALLINT, &quot;smallint&quot;);</span>
<span class="nc" id="L73">			registerColumnType(Types.TIME, &quot;time&quot;);</span>
<span class="nc" id="L74">			registerColumnType(Types.TIMESTAMP, &quot;timestamp&quot;);</span>
<span class="nc" id="L75">			registerColumnType(Types.TINYINT, &quot;byteint&quot;);</span>
			// Netezza 4.6 doesn't appear to support bytea or any binary type.
			// registerColumnType(Types.VARBINARY, &quot;bytea&quot;);
<span class="nc" id="L78">			registerColumnType(Types.VARCHAR, 64000, &quot;varchar($l)&quot;);</span>
<span class="nc" id="L79">			registerColumnType(Types.VARCHAR, &quot;varchar(64000)&quot;);</span>
<span class="nc" id="L80">		}</span>
	}

	/** extended hibernate dialect used in this wrapper */
<span class="nc" id="L84">	private NetezzaDialectHelper _dialect = new NetezzaDialectHelper();</span>

	private String cascadeClause;

	@Override
	public DialectType getDialectType()
	{
<span class="nc" id="L91">		return DialectType.NETEZZA;</span>
	}

	@Override
	public String getDisplayName()
	{
<span class="nc" id="L97">		return &quot;Netezza&quot;;</span>
	}

	@Override
	public String getDropSequenceSQL(String sequenceName, boolean cascade, DatabaseObjectQualifier qualifier,
		SqlGenerationPreferences prefs)
	{
		// &quot;DROP SEQUENCE $sequenceName$ $cascade$&quot;;
<span class="nc" id="L105">		StringTemplate st = new StringTemplate(ST_DROP_SEQUENCE_STYLE_ONE);</span>

<span class="nc" id="L107">		HashMap&lt;String, String&gt; valuesMap = DialectUtils.getValuesMap(ST_SEQUENCE_NAME_KEY, sequenceName);</span>

<span class="nc" id="L109">		return DialectUtils.bindTemplateAttributes(this, st, valuesMap, qualifier, prefs);</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#getMaxPrecision(int)
	 */
	@Override
	public int getMaxPrecision(int dataType)
	{
<span class="nc" id="L118">		return 38;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#getMaxScale(int)
	 */
	@Override
	public int getMaxScale(int dataType)
	{
		// user guide says scale can be 0 to as large as the precision. It cannot be
		// greater than the precision.
<span class="nc" id="L129">		return 38;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#getPrecisionDigits(int, int)
	 */
	@Override
	public int getPrecisionDigits(int columnSize, int dataType)
	{
		// Netezza correctly reports the size of the column in digits.
<span class="nc" id="L139">		return columnSize;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#getTypeName(int, int, int, int)
	 */
	@Override
	public String getTypeName(int code, int length, int precision, int scale) throws HibernateException
	{
<span class="nc" id="L148">		return _dialect.getTypeName(code, length, precision, scale);</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsAccessMethods()
	 */
	@Override
	public boolean supportsAccessMethods()
	{
		// Access methods have to do with indexes. Since Netezza disallows users from creating or changing
		// indexes, this is unsupported
<span class="nc" id="L159">		return false;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsAddColumn()
	 */
	@Override
	public boolean supportsAddColumn()
	{
<span class="nc" id="L168">		return false;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsAddForeignKeyConstraint()
	 */
	@Override
	public boolean supportsAddForeignKeyConstraint()
	{
<span class="nc" id="L177">		return true;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsAddUniqueConstraint()
	 */
	@Override
	public boolean supportsAddUniqueConstraint()
	{
<span class="nc" id="L186">		return true;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsAlterColumnDefault()
	 */
	@Override
	public boolean supportsAlterColumnDefault()
	{
<span class="nc" id="L195">		return true;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsAlterColumnNull()
	 */
	@Override
	public boolean supportsAlterColumnNull()
	{
<span class="nc" id="L204">		return false;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsAlterColumnType()
	 */
	@Override
	public boolean supportsAlterColumnType()
	{
<span class="nc" id="L213">		return false;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsAlterSequence()
	 */
	@Override
	public boolean supportsAlterSequence()
	{
<span class="nc" id="L222">		return true;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsAutoIncrement()
	 */
	@Override
	public boolean supportsAutoIncrement()
	{
<span class="nc" id="L231">		return false;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsCheckOptionsForViews()
	 */
	@Override
	public boolean supportsCheckOptionsForViews()
	{
<span class="nc" id="L240">		return false;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsColumnComment()
	 */
	@Override
	public boolean supportsColumnComment()
	{
<span class="nc" id="L249">		return false;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsCorrelatedSubQuery()
	 */
	@Override
	public boolean supportsCorrelatedSubQuery()
	{
		// Although Netezza claims to support correlated sub-queries, the type of sub-query we want is not
		// supported:
		// update TOTABLE t set t.MYDESC =
		// (
		// select
		// f.MYDESC
		// from FROMTABLE f
		// where f.myid = t.myid
		// )
		// Furthermore, the only refactoring that currently uses this is MergeTable which also requires
		// add column support, which Netezza also doesn't seem to have.
<span class="nc" id="L269">		return false;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsCreateIndex()
	 */
	@Override
	public boolean supportsCreateIndex()
	{
		// Since Netezza disallows users from creating or changing indexes, this is unsupported
<span class="nc" id="L279">		return false;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsCreateSequence()
	 */
	@Override
	public boolean supportsCreateSequence()
	{
<span class="nc" id="L288">		return true;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsCreateTable()
	 */
	@Override
	public boolean supportsCreateTable()
	{
<span class="nc" id="L297">		return true;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsCreateView()
	 */
	@Override
	public boolean supportsCreateView()
	{
<span class="nc" id="L306">		return true;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsDropColumn()
	 */
	@Override
	public boolean supportsDropColumn()
	{
<span class="nc" id="L315">		return false;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsDropConstraint()
	 */
	@Override
	public boolean supportsDropConstraint()
	{
<span class="nc" id="L324">		return true;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsDropIndex()
	 */
	@Override
	public boolean supportsDropIndex()
	{
		// Since Netezza disallows users from creating or changing indexes, this is unsupported
<span class="nc" id="L334">		return false;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsDropSequence()
	 */
	@Override
	public boolean supportsDropSequence()
	{
<span class="nc" id="L343">		return true;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsDropView()
	 */
	@Override
	public boolean supportsDropView()
	{
<span class="nc" id="L352">		return true;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsEmptyTables()
	 */
	@Override
	public boolean supportsEmptyTables()
	{
<span class="nc" id="L361">		return false;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsIndexes()
	 */
	@Override
	public boolean supportsIndexes()
	{
		// Since Netezza disallows users from creating or changing indexes, this is unsupported
<span class="nc" id="L371">		return false;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsInsertInto()
	 */
	@Override
	public boolean supportsInsertInto()
	{
<span class="nc" id="L380">		return true;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsMultipleRowInserts()
	 */
	@Override
	public boolean supportsMultipleRowInserts()
	{
<span class="nc" id="L389">		return false;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsProduct(java.lang.String,
	 *      java.lang.String)
	 */
	@Override
	public boolean supportsProduct(String databaseProductName, String databaseProductVersion)
	{
<span class="nc bnc" id="L399" title="All 2 branches missed.">		if (databaseProductName == null) { return false; }</span>
<span class="nc bnc" id="L400" title="All 2 branches missed.">		if (databaseProductName.trim().startsWith(&quot;Netezza&quot;))</span>
		{
			// We don't yet have the need to discriminate by version.
<span class="nc" id="L403">			return true;</span>
		}
<span class="nc" id="L405">		return false;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsRenameColumn()
	 */
	@Override
	public boolean supportsRenameColumn()
	{
<span class="nc" id="L414">		return true;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsRenameTable()
	 */
	@Override
	public boolean supportsRenameTable()
	{
<span class="nc" id="L423">		return true;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsRenameView()
	 */
	@Override
	public boolean supportsRenameView()
	{
<span class="nc" id="L432">		return true;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsSchemasInTableDefinition()
	 */
	@Override
	public boolean supportsSchemasInTableDefinition()
	{
<span class="nc" id="L441">		return true;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsSequence()
	 */
	@Override
	public boolean supportsSequence()
	{
<span class="nc" id="L450">		return true;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsSequenceInformation()
	 */
	@Override
	public boolean supportsSequenceInformation()
	{
<span class="nc" id="L459">		return false;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsTablespace()
	 */
	@Override
	public boolean supportsTablespace()
	{
<span class="nc" id="L468">		return false;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsUpdate()
	 */
	@Override
	public boolean supportsUpdate()
	{
<span class="nc" id="L477">		return true;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsViewDefinition()
	 */
	@Override
	public boolean supportsViewDefinition()
	{
<span class="nc" id="L486">		return true;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#getTableDropSQL(net.sourceforge.squirrel_sql.fw.sql.ITableInfo,
	 *      boolean, boolean, net.sourceforge.squirrel_sql.fw.dialects.DatabaseObjectQualifier,
	 *      net.sourceforge.squirrel_sql.fw.dialects.SqlGenerationPreferences)
	 */
	@Override
	public List&lt;String&gt; getTableDropSQL(ITableInfo tableInfo, boolean cascadeConstraints,
		boolean isMaterializedView, DatabaseObjectQualifier qualifier, SqlGenerationPreferences prefs)
	{
<span class="nc" id="L498">		final boolean supportsCascade = false;</span>
<span class="nc" id="L499">		final boolean supportsMatViews = true;</span>
<span class="nc" id="L500">		return DialectUtils.getTableDropSQL(tableInfo, supportsCascade, cascadeConstraints, supportsMatViews,</span>
			cascadeClause, isMaterializedView, qualifier, prefs, this);
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#getColumnDropSQL(java.lang.String,
	 *      java.lang.String, net.sourceforge.squirrel_sql.fw.dialects.DatabaseObjectQualifier,
	 *      net.sourceforge.squirrel_sql.fw.dialects.SqlGenerationPreferences)
	 */
	@Override
	public String getColumnDropSQL(String tableName, String columnName, DatabaseObjectQualifier qualifier,
		SqlGenerationPreferences prefs) throws UnsupportedOperationException
	{
<span class="nc" id="L513">		throw new UnsupportedOperationException(getUnsupportedMessage(this, COLUMN_DROP_TYPE));</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#getCreateIndexSQL(java.lang.String,
	 *      java.lang.String, java.lang.String, java.lang.String[], boolean, java.lang.String,
	 *      java.lang.String, net.sourceforge.squirrel_sql.fw.dialects.DatabaseObjectQualifier,
	 *      net.sourceforge.squirrel_sql.fw.dialects.SqlGenerationPreferences)
	 */
	@Override
	public String getCreateIndexSQL(String indexName, String tableName, String accessMethod, String[] columns,
		boolean unique, String tablespace, String constraints, DatabaseObjectQualifier qualifier,
		SqlGenerationPreferences prefs)
	{
<span class="nc" id="L527">		throw new UnsupportedOperationException(getUnsupportedMessage(this, CREATE_INDEX_TYPE));</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#getDropIndexSQL(java.lang.String,
	 *      java.lang.String, boolean, net.sourceforge.squirrel_sql.fw.dialects.DatabaseObjectQualifier,
	 *      net.sourceforge.squirrel_sql.fw.dialects.SqlGenerationPreferences)
	 */
	@Override
	public String getDropIndexSQL(String tableName, String indexName, boolean cascade,
		DatabaseObjectQualifier qualifier, SqlGenerationPreferences prefs)
	{
<span class="nc" id="L539">		throw new UnsupportedOperationException(getUnsupportedMessage(this, DROP_INDEX_TYPE));</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#getAddColumnSQL(net.sourceforge.squirrel_sql.fw.sql.TableColumnInfo,
	 *      net.sourceforge.squirrel_sql.fw.dialects.DatabaseObjectQualifier,
	 *      net.sourceforge.squirrel_sql.fw.dialects.SqlGenerationPreferences)
	 */
	@Override
	public String[] getAddColumnSQL(TableColumnInfo column, DatabaseObjectQualifier qualifier,
		SqlGenerationPreferences prefs)
	{
<span class="nc" id="L551">		throw new UnsupportedOperationException(getUnsupportedMessage(this, ADD_COLUMN_TYPE));</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#getColumnNullableAlterSQL(net.sourceforge.squirrel_sql.fw.sql.TableColumnInfo,
	 *      net.sourceforge.squirrel_sql.fw.dialects.DatabaseObjectQualifier,
	 *      net.sourceforge.squirrel_sql.fw.dialects.SqlGenerationPreferences)
	 */
	@Override
	public String[] getColumnNullableAlterSQL(TableColumnInfo info, DatabaseObjectQualifier qualifier,
		SqlGenerationPreferences prefs)
	{
<span class="nc" id="L563">		throw new UnsupportedOperationException(getUnsupportedMessage(this, COLUMN_NULL_ALTER_TYPE));</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#getColumnTypeAlterSQL(net.sourceforge.squirrel_sql.fw.sql.TableColumnInfo,
	 *      net.sourceforge.squirrel_sql.fw.sql.TableColumnInfo,
	 *      net.sourceforge.squirrel_sql.fw.dialects.DatabaseObjectQualifier,
	 *      net.sourceforge.squirrel_sql.fw.dialects.SqlGenerationPreferences)
	 */
	@Override
	public List&lt;String&gt; getColumnTypeAlterSQL(TableColumnInfo from, TableColumnInfo to,
		DatabaseObjectQualifier qualifier, SqlGenerationPreferences prefs) throws UnsupportedOperationException
	{
<span class="nc" id="L576">		throw new UnsupportedOperationException(getUnsupportedMessage(this, COLUMN_TYPE_ALTER_TYPE));</span>

	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#getColumnDefaultAlterSQL(net.sourceforge.squirrel_sql.fw.sql.TableColumnInfo,
	 *      net.sourceforge.squirrel_sql.fw.dialects.DatabaseObjectQualifier,
	 *      net.sourceforge.squirrel_sql.fw.dialects.SqlGenerationPreferences)
	 */
	@Override
	public String getColumnDefaultAlterSQL(TableColumnInfo info, DatabaseObjectQualifier qualifier,
		SqlGenerationPreferences prefs)
	{
<span class="nc" id="L589">		String alterClause = DialectUtils.ALTER_COLUMN_CLAUSE;</span>
<span class="nc" id="L590">		boolean specifyType = false;</span>
<span class="nc" id="L591">		String defaultClause = DialectUtils.SET_DEFAULT_CLAUSE;</span>
<span class="nc" id="L592">		return DialectUtils.getColumnDefaultAlterSQL(this, info, alterClause, specifyType, defaultClause,</span>
			qualifier, prefs);
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#getColumnNameAlterSQL(net.sourceforge.squirrel_sql.fw.sql.TableColumnInfo,
	 *      net.sourceforge.squirrel_sql.fw.sql.TableColumnInfo,
	 *      net.sourceforge.squirrel_sql.fw.dialects.DatabaseObjectQualifier,
	 *      net.sourceforge.squirrel_sql.fw.dialects.SqlGenerationPreferences)
	 */
	@Override
	public String getColumnNameAlterSQL(TableColumnInfo from, TableColumnInfo to,
		DatabaseObjectQualifier qualifier, SqlGenerationPreferences prefs)
	{
<span class="nc" id="L606">		String alterClause = DialectUtils.RENAME_COLUMN_CLAUSE;</span>
<span class="nc" id="L607">		String renameToClause = DialectUtils.TO_CLAUSE;</span>
<span class="nc" id="L608">		return DialectUtils.getColumnNameAlterSQL(from, to, alterClause, renameToClause, qualifier, prefs, this);</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#getRenameTableSQL(java.lang.String,
	 *      java.lang.String, net.sourceforge.squirrel_sql.fw.dialects.DatabaseObjectQualifier,
	 *      net.sourceforge.squirrel_sql.fw.dialects.SqlGenerationPreferences)
	 */
	@Override
	public String getRenameTableSQL(String oldTableName, String newTableName,
		DatabaseObjectQualifier qualifier, SqlGenerationPreferences prefs)
	{
<span class="nc" id="L620">		return DialectUtils.getRenameTableSQL(oldTableName, newTableName, qualifier, prefs, this);</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#getCreateViewSQL(java.lang.String,
	 *      java.lang.String, java.lang.String,
	 *      net.sourceforge.squirrel_sql.fw.dialects.DatabaseObjectQualifier,
	 *      net.sourceforge.squirrel_sql.fw.dialects.SqlGenerationPreferences)
	 */
	@Override
	public String getCreateViewSQL(String viewName, String definition, String checkOption,
		DatabaseObjectQualifier qualifier, SqlGenerationPreferences prefs)
	{
<span class="nc" id="L633">		return DialectUtils.getCreateViewSQL(viewName, definition, checkOption, qualifier, prefs, this);</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#getRenameViewSQL(java.lang.String,
	 *      java.lang.String, net.sourceforge.squirrel_sql.fw.dialects.DatabaseObjectQualifier,
	 *      net.sourceforge.squirrel_sql.fw.dialects.SqlGenerationPreferences)
	 */
	@Override
	public String[] getRenameViewSQL(String oldViewName, String newViewName,
		DatabaseObjectQualifier qualifier, SqlGenerationPreferences prefs)
	{

<span class="nc" id="L646">		String commandPrefix = DialectUtils.ALTER_VIEW_CLAUSE;</span>
<span class="nc" id="L647">		String renameClause = DialectUtils.RENAME_TO_CLAUSE;</span>
<span class="nc" id="L648">		return new String[] { DialectUtils.getRenameViewSQL(commandPrefix, renameClause, oldViewName,</span>
			newViewName, qualifier, prefs, this) };
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#getViewDefinitionSQL(java.lang.String,
	 *      net.sourceforge.squirrel_sql.fw.dialects.DatabaseObjectQualifier,
	 *      net.sourceforge.squirrel_sql.fw.dialects.SqlGenerationPreferences)
	 */
	@Override
	public String getViewDefinitionSQL(String viewName, DatabaseObjectQualifier qualifier,
		SqlGenerationPreferences prefs)
	{
<span class="nc" id="L661">		return &quot;SELECT 'create or replace view ' || v.VIEWNAME || ' as ' || &quot;</span>
			+ &quot;v.definition FROM _v_view v, _v_objs_owned o &quot; + &quot;where v.objid = o.objid &quot;
<span class="nc" id="L663">			+ &quot;and o.DATABASE = '&quot; + qualifier.getCatalog() + &quot;' &quot; + &quot;and v.VIEWNAME = '&quot; + viewName + &quot;'&quot;;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#getCreateSequenceSQL(java.lang.String,
	 *      java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String, boolean,
	 *      net.sourceforge.squirrel_sql.fw.dialects.DatabaseObjectQualifier,
	 *      net.sourceforge.squirrel_sql.fw.dialects.SqlGenerationPreferences)
	 */
	@Override
	public String getCreateSequenceSQL(String sequenceName, String increment, String minimum, String maximum,
		String start, String cache, boolean cycle, DatabaseObjectQualifier qualifier,
		SqlGenerationPreferences prefs)
	{
<span class="nc" id="L677">		final String minimumClause = DialectUtils.MINVALUE_CLAUSE;</span>
<span class="nc" id="L678">		final String maximumClause = DialectUtils.MAXVALUE_CLAUSE;</span>

<span class="nc" id="L680">		String cycleClause = DialectUtils.CYCLE_CLAUSE;</span>
<span class="nc bnc" id="L681" title="All 2 branches missed.">		if (!cycle)</span>
		{
<span class="nc" id="L683">			cycleClause = DialectUtils.NO_CYCLE_CLAUSE;</span>
		}

<span class="nc" id="L686">		return DialectUtils.getCreateSequenceSQL(sequenceName, increment, minimumClause, minimum,</span>
			maximumClause, maximum, start, cache, cycleClause, qualifier, prefs, this);
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#getAlterSequenceSQL(java.lang.String,
	 *      java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String, boolean,
	 *      net.sourceforge.squirrel_sql.fw.dialects.DatabaseObjectQualifier,
	 *      net.sourceforge.squirrel_sql.fw.dialects.SqlGenerationPreferences)
	 */
	@Override
	public String[] getAlterSequenceSQL(String sequenceName, String increment, String minimum, String maximum,
		String restart, String cache, boolean cycle, DatabaseObjectQualifier qualifier,
		SqlGenerationPreferences prefs)
	{
<span class="nc" id="L701">		String cycleClause = DialectUtils.CYCLE_CLAUSE;</span>
<span class="nc bnc" id="L702" title="All 2 branches missed.">		if (!cycle)</span>
		{
<span class="nc" id="L704">			cycleClause = DialectUtils.NO_CYCLE_CLAUSE;</span>
		}

<span class="nc" id="L707">		return new String[] { DialectUtils.getAlterSequenceSQL(sequenceName, increment, minimum, maximum,</span>
			restart, cache, cycleClause, qualifier, prefs, this) };
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#getSequencePropertyMutability()
	 */
	@Override
	public SequencePropertyMutability getSequencePropertyMutability()
	{
<span class="nc" id="L717">		SequencePropertyMutability result = new SequencePropertyMutability();</span>
<span class="nc" id="L718">		result.setCache(false);</span>
<span class="nc" id="L719">		return result;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#getAddForeignKeyConstraintSQL(java.lang.String,
	 *      java.lang.String, java.lang.String, java.lang.Boolean, java.lang.Boolean, java.lang.Boolean,
	 *      boolean, java.lang.String, java.util.Collection, java.lang.String, java.lang.String,
	 *      net.sourceforge.squirrel_sql.fw.dialects.DatabaseObjectQualifier,
	 *      net.sourceforge.squirrel_sql.fw.dialects.SqlGenerationPreferences)
	 */
	@Override
	public String[] getAddForeignKeyConstraintSQL(String localTableName, String refTableName,
		String constraintName, Boolean deferrable, Boolean initiallyDeferred, Boolean matchFull,
		boolean autoFKIndex, String fkIndexName, Collection&lt;String[]&gt; localRefColumns, String onUpdateAction,
		String onDeleteAction, DatabaseObjectQualifier qualifier, SqlGenerationPreferences prefs)
	{
<span class="nc" id="L735">		return DialectUtils.getAddForeignKeyConstraintSQL(localTableName, refTableName, constraintName,</span>
			deferrable, initiallyDeferred, matchFull, autoFKIndex, fkIndexName, localRefColumns, onUpdateAction,
			onDeleteAction, qualifier, prefs, this);
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#getAddUniqueConstraintSQL(java.lang.String,
	 *      java.lang.String, net.sourceforge.squirrel_sql.fw.sql.TableColumnInfo[],
	 *      net.sourceforge.squirrel_sql.fw.dialects.DatabaseObjectQualifier,
	 *      net.sourceforge.squirrel_sql.fw.dialects.SqlGenerationPreferences)
	 */
	@Override
	public String[] getAddUniqueConstraintSQL(String tableName, String constraintName,
		TableColumnInfo[] columns, DatabaseObjectQualifier qualifier, SqlGenerationPreferences prefs)
	{
<span class="nc" id="L750">		return new String[] { DialectUtils.getAddUniqueConstraintSQL(tableName, constraintName, columns,</span>
			qualifier, prefs, this) };
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#getDropConstraintSQL(java.lang.String,
	 *      java.lang.String, net.sourceforge.squirrel_sql.fw.dialects.DatabaseObjectQualifier,
	 *      net.sourceforge.squirrel_sql.fw.dialects.SqlGenerationPreferences)
	 */
	@Override
	public String getDropConstraintSQL(String tableName, String constraintName,
		DatabaseObjectQualifier qualifier, SqlGenerationPreferences prefs)
	{
<span class="nc" id="L763">		return DialectUtils.getDropConstraintSQL(tableName, constraintName, qualifier, prefs, this)</span>
			+ &quot; RESTRICT&quot;;
	}

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>