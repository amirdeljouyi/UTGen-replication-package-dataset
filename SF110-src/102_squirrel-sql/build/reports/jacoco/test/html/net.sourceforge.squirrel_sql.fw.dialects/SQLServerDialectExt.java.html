<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>SQLServerDialectExt.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">102_squirrel-sql</a> &gt; <a href="index.source.html" class="el_package">net.sourceforge.squirrel_sql.fw.dialects</a> &gt; <span class="el_source">SQLServerDialectExt.java</span></div><h1>SQLServerDialectExt.java</h1><pre class="source lang-java linenums">/*
 * Copyright (C) 2006 Rob Manning
 * manningr@users.sourceforge.net
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License
 * as published by the Free Software Foundation; either version 2
 * of the License, or any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
 */
package net.sourceforge.squirrel_sql.fw.dialects;

import java.sql.Types;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;

import net.sourceforge.squirrel_sql.fw.sql.DatabaseObjectType;
import net.sourceforge.squirrel_sql.fw.sql.IDatabaseObjectInfo;
import net.sourceforge.squirrel_sql.fw.sql.ITableInfo;
import net.sourceforge.squirrel_sql.fw.sql.JDBCTypeMapper;
import net.sourceforge.squirrel_sql.fw.sql.TableColumnInfo;

import org.antlr.stringtemplate.StringTemplate;
import org.hibernate.HibernateException;

/**
 * A dialect delegate for the MS SQLServer database.
 */
<span class="nc" id="L38">public class SQLServerDialectExt extends SybaseDialectExt implements HibernateDialect</span>
{
	private class SQLServerDialectHelper extends org.hibernate.dialect.SybaseDialect
	{
		public SQLServerDialectHelper()
<span class="nc" id="L43">		{</span>
<span class="nc" id="L44">			super();</span>
<span class="nc" id="L45">			registerColumnType(Types.BIGINT, &quot;bigint&quot;);</span>
<span class="nc" id="L46">			registerColumnType(Types.BINARY, &quot;image&quot;);</span>
<span class="nc" id="L47">			registerColumnType(Types.BIT, &quot;tinyint&quot;);</span>
<span class="nc" id="L48">			registerColumnType(Types.BLOB, &quot;image&quot;);</span>
<span class="nc" id="L49">			registerColumnType(Types.BOOLEAN, &quot;tinyint&quot;);</span>
<span class="nc" id="L50">			registerColumnType(Types.CHAR, 8000, &quot;char($l)&quot;);</span>
<span class="nc" id="L51">			registerColumnType(Types.CHAR, &quot;text&quot;);</span>
<span class="nc" id="L52">			registerColumnType(Types.CLOB, &quot;text&quot;);</span>
<span class="nc" id="L53">			registerColumnType(Types.DATE, &quot;datetime&quot;);</span>
<span class="nc" id="L54">			registerColumnType(Types.DECIMAL, &quot;decimal($p,$s)&quot;);</span>
<span class="nc" id="L55">			registerColumnType(Types.DOUBLE, &quot;float($p)&quot;);</span>
<span class="nc" id="L56">			registerColumnType(Types.FLOAT, &quot;float($p)&quot;);</span>
<span class="nc" id="L57">			registerColumnType(Types.INTEGER, &quot;int&quot;);</span>
<span class="nc" id="L58">			registerColumnType(Types.LONGVARBINARY, &quot;image&quot;);</span>
<span class="nc" id="L59">			registerColumnType(Types.LONGVARCHAR, &quot;text&quot;);</span>
<span class="nc" id="L60">			registerColumnType(Types.NCHAR, &quot;nchar($l)&quot;);</span>
<span class="nc" id="L61">			registerColumnType(Types.NUMERIC, &quot;numeric($p,$s)&quot;);</span>
<span class="nc" id="L62">			registerColumnType(Types.NVARCHAR, &quot;nvarchar($l)&quot;);</span>
<span class="nc" id="L63">			registerColumnType(Types.REAL, &quot;real&quot;);</span>
<span class="nc" id="L64">			registerColumnType(Types.SMALLINT, &quot;smallint&quot;);</span>
<span class="nc" id="L65">			registerColumnType(Types.TIME, &quot;datetime&quot;);</span>
<span class="nc" id="L66">			registerColumnType(Types.TIMESTAMP, &quot;datetime&quot;);</span>
<span class="nc" id="L67">			registerColumnType(Types.TINYINT, &quot;tinyint&quot;);</span>
<span class="nc" id="L68">			registerColumnType(Types.VARBINARY, 8000, &quot;varbinary($l)&quot;);</span>
<span class="nc" id="L69">			registerColumnType(Types.VARBINARY, &quot;image&quot;);</span>
<span class="nc" id="L70">			registerColumnType(Types.VARCHAR, 8000, &quot;varchar($l)&quot;);</span>
<span class="nc" id="L71">			registerColumnType(Types.VARCHAR, &quot;text&quot;);</span>
<span class="nc" id="L72">		}</span>
	}

	/** extended hibernate dialect used in this wrapper */
<span class="nc" id="L76">	private SQLServerDialectHelper _dialect = new SQLServerDialectHelper();</span>

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#getTypeName(int, int, int, int)
	 */
	@Override
	public String getTypeName(int code, int length, int precision, int scale) throws HibernateException
	{
<span class="nc" id="L84">		return _dialect.getTypeName(code, length, precision, scale);</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.SybaseDialectExt#canPasteTo(net.sourceforge.squirrel_sql.fw.sql.IDatabaseObjectInfo)
	 */
	@Override
	public boolean canPasteTo(IDatabaseObjectInfo info)
	{
<span class="nc" id="L93">		boolean result = true;</span>
<span class="nc" id="L94">		DatabaseObjectType type = info.getDatabaseObjectType();</span>
<span class="nc bnc" id="L95" title="All 4 branches missed.">		if (type.getName().equalsIgnoreCase(&quot;database&quot;) || type.getName().equalsIgnoreCase(&quot;catalog&quot;))</span>
		{
<span class="nc" id="L97">			result = false;</span>
		}
<span class="nc" id="L99">		return result;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#getLengthFunction(int)
	 */
	@Override
	public String getLengthFunction(int dataType)
	{
<span class="nc" id="L108">		return &quot;len&quot;;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.SybaseDialectExt#getMaxPrecision(int)
	 */
	@Override
	public int getMaxPrecision(int dataType)
	{
<span class="nc bnc" id="L117" title="All 4 branches missed.">		if (dataType == Types.DOUBLE || dataType == Types.FLOAT)</span>
		{
<span class="nc" id="L119">			return 53;</span>
		} else
		{
<span class="nc" id="L122">			return 38;</span>
		}
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.SybaseDialectExt#getMaxScale(int)
	 */
	@Override
	public int getMaxScale(int dataType)
	{
<span class="nc" id="L132">		return getMaxPrecision(dataType);</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.SybaseDialectExt#getPrecisionDigits(int, int)
	 */
	@Override
	public int getPrecisionDigits(int columnSize, int dataType)
	{
<span class="nc" id="L141">		return columnSize;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.SybaseDialectExt#getColumnLength(int, int)
	 */
	@Override
	public int getColumnLength(int columnSize, int dataType)
	{
<span class="nc" id="L150">		return columnSize;</span>
	}

	/**
	 * The string which identifies this dialect in the dialect chooser.
	 * 
	 * @return a descriptive name that tells the user what database this dialect is design to work with.
	 */
	@Override
	public String getDisplayName()
	{
<span class="nc" id="L161">		return &quot;MS SQLServer&quot;;</span>
	}

	/**
	 * Returns boolean value indicating whether or not this dialect supports the specified database
	 * product/version.
	 * 
	 * @param databaseProductName
	 *           the name of the database as reported by DatabaseMetaData.getDatabaseProductName()
	 * @param databaseProductVersion
	 *           the version of the database as reported by DatabaseMetaData.getDatabaseProductVersion()
	 * @return true if this dialect can be used for the specified product name and version; false otherwise.
	 */
	@Override
	public boolean supportsProduct(String databaseProductName, String databaseProductVersion)
	{
<span class="nc bnc" id="L177" title="All 2 branches missed.">		if (databaseProductName == null)</span>
		{
<span class="nc" id="L179">			return false;</span>
		}
<span class="nc bnc" id="L181" title="All 2 branches missed.">		if (databaseProductName.trim().toLowerCase().startsWith(&quot;microsoft&quot;))</span>
		{
			// We don't yet have the need to discriminate by version.
<span class="nc" id="L184">			return true;</span>
		}
<span class="nc" id="L186">		return false;</span>
	}

	/**
	 * Returns a boolean value indicating whether or not this dialect supports adding comments to columns.
	 * 
	 * @return true if column comments are supported; false otherwise.
	 */
	@Override
	public boolean supportsColumnComment()
	{
<span class="nc" id="L197">		return false;</span>
	}

	/**
	 * Returns the SQL statement to use to add a comment to the specified column of the specified table.
	 * 
	 * @param info
	 *           information about the column such as type, name, etc.
	 * @return
	 * @throws UnsupportedOperationException
	 *            if the database doesn't support annotating columns with a comment.
	 */
	@Override
	public String getColumnCommentAlterSQL(TableColumnInfo info, DatabaseObjectQualifier qualifier,
		SqlGenerationPreferences prefs) throws UnsupportedOperationException
	{
<span class="nc" id="L213">		final int featureId = DialectUtils.COLUMN_COMMENT_ALTER_TYPE;</span>
<span class="nc" id="L214">		final String msg = DialectUtils.getUnsupportedMessage(this, featureId);</span>
<span class="nc" id="L215">		throw new UnsupportedOperationException(msg);</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.SybaseDialectExt#supportsDropColumn()
	 */
	@Override
	public boolean supportsDropColumn()
	{
<span class="nc" id="L224">		return true;</span>
	}

	/**
	 * Returns the SQL that forms the command to drop the specified colum in the specified table.
	 * 
	 * @param tableName
	 *           the name of the table that has the column
	 * @param columnName
	 *           the name of the column to drop.
	 * @return
	 * @throws UnsupportedOperationException
	 *            if the database doesn't support dropping columns.
	 */
	@Override
	public String getColumnDropSQL(String tableName, String columnName, DatabaseObjectQualifier qualifier, SqlGenerationPreferences prefs)
	{
<span class="nc" id="L241">		return DialectUtils.getColumnDropSQL(tableName, columnName, &quot;DROP COLUMN&quot;, false, null, qualifier, prefs, this);</span>
	}

	/**
	 * Returns the SQL that forms the command to drop the specified table. If cascade contraints is supported
	 * by the dialect and cascadeConstraints is true, then a drop statement with cascade constraints clause
	 * will be formed.
	 * 
	 * @param iTableInfo
	 *           the table to drop
	 * @param cascadeConstraints
	 *           whether or not to drop any FKs that may reference the specified table.
	 * @return the drop SQL command.
	 */
	@Override
	public List&lt;String&gt; getTableDropSQL(ITableInfo iTableInfo, boolean cascadeConstraints,
		boolean isMaterializedView, DatabaseObjectQualifier qualifier, SqlGenerationPreferences prefs)
	{
<span class="nc" id="L259">		return DialectUtils.getTableDropSQL(iTableInfo,</span>
			false,
			cascadeConstraints,
			false,
			DialectUtils.CASCADE_CLAUSE,
			false, qualifier, prefs, this);
	}

	/**
	 * Returns the SQL that forms the command to add a primary key to the specified table composed of the given
	 * column names. alter table test alter column mycol integer not null alter table test add primary key
	 * (mycol)
	 * 
	 * @param pkName
	 *           the name of the constraint
	 * @param colInfos
	 *           the columns that form the key
	 * @return
	 */
	@Override
	public String[] getAddPrimaryKeySQL(String pkName, TableColumnInfo[] colInfos, ITableInfo ti, DatabaseObjectQualifier qualifier, SqlGenerationPreferences prefs)
	{
<span class="nc" id="L281">		ArrayList&lt;String&gt; result = new ArrayList&lt;String&gt;();</span>
<span class="nc" id="L282">		String alterClause = DialectUtils.ALTER_COLUMN_CLAUSE;</span>
		// convert all columns in key to not null - this doesn't hurt if they
		// are already null.
<span class="nc" id="L285">		DialectUtils.getMultiColNotNullSQL(colInfos, this, alterClause, true, result, qualifier, prefs);</span>

<span class="nc" id="L287">		String pkSQL = DialectUtils.getAddPrimaryKeySQL(ti, pkName, colInfos, false, qualifier, prefs, this);</span>
<span class="nc" id="L288">		result.add(pkSQL);</span>

<span class="nc" id="L290">		return result.toArray(new String[result.size()]);</span>
	}

	/**
	 * Returns a boolean value indicating whether or not this database dialect supports changing a column from
	 * null to not-null and vice versa.
	 * 
	 * @return true if the database supports dropping columns; false otherwise.
	 */
	@Override
	public boolean supportsAlterColumnNull()
	{
<span class="nc" id="L302">		return true;</span>
	}

	/**
	 * Returns the SQL used to alter the specified column to not allow null values alter table mytest alter
	 * column mycol integer not null
	 * 
	 * @param info
	 *           the column to modify
	 * @return the SQL to execute
	 */
	@Override
	public String[] getColumnNullableAlterSQL(TableColumnInfo info, DatabaseObjectQualifier qualifier,
		SqlGenerationPreferences prefs)
	{
<span class="nc" id="L317">		String alterClause = DialectUtils.ALTER_COLUMN_CLAUSE;</span>
<span class="nc" id="L318">		return new String[] { DialectUtils.getColumnNullableAlterSQL(info, this, alterClause, true, qualifier, prefs) };</span>
	}

	/**
	 * Returns a boolean value indicating whether or not this database dialect supports renaming columns.
	 * 
	 * @return true if the database supports changing the name of columns; false otherwise.
	 */
	@Override
	public boolean supportsRenameColumn()
	{
<span class="nc" id="L329">		return true;</span>
	}

	/**
	 * Returns the SQL that is used to change the column name. exec sp_rename 'test.renameCol', newNameCol,
	 * 'COLUMN'
	 * 
	 * @param from
	 *           the TableColumnInfo as it is
	 * @param to
	 *           the TableColumnInfo as it wants to be
	 * @return the SQL to make the change
	 */
	@Override
	public String getColumnNameAlterSQL(TableColumnInfo from, TableColumnInfo to, DatabaseObjectQualifier qualifier, SqlGenerationPreferences prefs)
	{
<span class="nc" id="L345">		StringBuffer result = new StringBuffer();</span>
<span class="nc" id="L346">		result.append(&quot;exec sp_rename &quot;);</span>
<span class="nc" id="L347">		result.append(&quot;'&quot;);</span>
<span class="nc" id="L348">		result.append(from.getTableName());</span>
<span class="nc" id="L349">		result.append(&quot;.&quot;);</span>
<span class="nc" id="L350">		result.append(from.getColumnName());</span>
<span class="nc" id="L351">		result.append(&quot;'&quot;);</span>
<span class="nc" id="L352">		result.append(&quot;, &quot;);</span>
<span class="nc" id="L353">		result.append(to.getColumnName());</span>
<span class="nc" id="L354">		result.append(&quot;, 'COLUMN'&quot;);</span>
<span class="nc" id="L355">		return result.toString();</span>
	}

	/**
	 * Returns a boolean value indicating whether or not this dialect supports modifying a columns type.
	 * 
	 * @return true if supported; false otherwise
	 */
	@Override
	public boolean supportsAlterColumnType()
	{
<span class="nc" id="L366">		return true;</span>
	}

	/**
	 * Returns the SQL that is used to change the column type. ALTER TABLE doc_exy ALTER COLUMN column_a
	 * DECIMAL (5, 2)
	 * 
	 * @param from
	 *           the TableColumnInfo as it is
	 * @param to
	 *           the TableColumnInfo as it wants to be
	 * @return the SQL to make the change
	 * @throw UnsupportedOperationException if the database doesn't support modifying column types.
	 */
	@Override
	public List&lt;String&gt; getColumnTypeAlterSQL(TableColumnInfo from, TableColumnInfo to,
		DatabaseObjectQualifier qualifier, SqlGenerationPreferences prefs) throws UnsupportedOperationException
	{
<span class="nc" id="L384">		ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();</span>
<span class="nc" id="L385">		StringBuffer result = new StringBuffer();</span>
<span class="nc" id="L386">		result.append(&quot;ALTER TABLE &quot;);</span>
<span class="nc" id="L387">		result.append(from.getTableName());</span>
<span class="nc" id="L388">		result.append(&quot; ALTER COLUMN &quot;);</span>
<span class="nc" id="L389">		result.append(from.getColumnName());</span>
<span class="nc" id="L390">		result.append(&quot; &quot;);</span>
<span class="nc" id="L391">		result.append(DialectUtils.getTypeName(to, this));</span>
<span class="nc" id="L392">		list.add(result.toString());</span>
<span class="nc" id="L393">		return list;</span>
	}

	/**
	 * Returns a boolean value indicating whether or not this database dialect supports changing a column's
	 * default value.
	 * 
	 * @return true if the database supports modifying column defaults; false otherwise
	 */
	@Override
	public boolean supportsAlterColumnDefault()
	{
<span class="nc" id="L405">		return true;</span>
	}

	/**
	 * Returns the SQL command to change the specified column's default value ALTER TABLE table ADD CONSTRAINT
	 * table_c_def DEFAULT 50 FOR column_b ;
	 * 
	 * @param info
	 *           the column to modify and it's default value.
	 * @return SQL to make the change
	 */
	@Override
	public String getColumnDefaultAlterSQL(TableColumnInfo info, DatabaseObjectQualifier qualifier, SqlGenerationPreferences prefs)
	{
<span class="nc" id="L419">		StringBuffer result = new StringBuffer();</span>
<span class="nc" id="L420">		result.append(&quot;ALTER TABLE &quot;);</span>
<span class="nc" id="L421">		result.append(info.getTableName());</span>
<span class="nc" id="L422">		result.append(&quot; ADD CONSTRAINT &quot;);</span>
<span class="nc" id="L423">		result.append(info.getTableName()).append(&quot;_&quot;).append(info.getColumnName()).append(&quot;_default&quot;);</span>
<span class="nc" id="L424">		result.append(&quot; DEFAULT &quot;);</span>
<span class="nc bnc" id="L425" title="All 2 branches missed.">		if (JDBCTypeMapper.isNumberType(info.getDataType()))</span>
		{
<span class="nc" id="L427">			result.append(info.getDefaultValue());</span>
		} else
		{
<span class="nc" id="L430">			result.append(&quot;'&quot;);</span>
<span class="nc" id="L431">			result.append(info.getDefaultValue());</span>
<span class="nc" id="L432">			result.append(&quot;'&quot;);</span>
		}
<span class="nc" id="L434">		result.append(&quot; FOR &quot;);</span>
<span class="nc" id="L435">		result.append(info.getColumnName());</span>
<span class="nc" id="L436">		return result.toString();</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#getDialectType()
	 */
	@Override
	public DialectType getDialectType()
	{
<span class="nc" id="L445">		return DialectType.MSSQL;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#getAddColumnSQL(net.sourceforge.squirrel_sql.fw.sql.TableColumnInfo,
	 *      net.sourceforge.squirrel_sql.fw.dialects.DatabaseObjectQualifier,
	 *      net.sourceforge.squirrel_sql.fw.dialects.SqlGenerationPreferences)
	 */
	@Override
	public String[] getAddColumnSQL(TableColumnInfo column, DatabaseObjectQualifier qualifier,
		SqlGenerationPreferences prefs)
	{
<span class="nc" id="L457">		ArrayList&lt;String&gt; result = new ArrayList&lt;String&gt;();</span>

		/**
		 * The default must be in the add column sql if the new column is marked not-null in SQLServer 2000, 
		 * but it's optional in SQLServer 2005.
		 */
<span class="nc" id="L463">		boolean addDefaultClause = true;</span>
<span class="nc" id="L464">		boolean supportsNullQualifier = true;</span>
<span class="nc" id="L465">		boolean addNullClause = true;</span>

<span class="nc" id="L467">		String sql =</span>
<span class="nc" id="L468">			DialectUtils.getAddColumSQL(column,</span>
				this,
				addDefaultClause,
				supportsNullQualifier,
				addNullClause,
				qualifier,
				prefs);

<span class="nc" id="L476">		result.add(sql);</span>

<span class="nc" id="L478">		return result.toArray(new String[result.size()]);</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#getDropIndexSQL(java.lang.String,
	 *      java.lang.String, boolean, net.sourceforge.squirrel_sql.fw.dialects.DatabaseObjectQualifier,
	 *      net.sourceforge.squirrel_sql.fw.dialects.SqlGenerationPreferences)
	 */
	@Override
	public String getDropIndexSQL(String tableName, String indexName, boolean cascade,
		DatabaseObjectQualifier qualifier, SqlGenerationPreferences prefs)
	{
<span class="nc" id="L490">		StringTemplate st = new StringTemplate(ST_DROP_INDEX_STYLE_TWO);</span>
<span class="nc" id="L491">		HashMap&lt;String, String&gt; valuesMap = new HashMap&lt;String, String&gt;();</span>
<span class="nc" id="L492">		valuesMap.put(ST_INDEX_NAME_KEY, indexName);</span>
<span class="nc" id="L493">		valuesMap.put(ST_TABLE_NAME_KEY, tableName);</span>
<span class="nc" id="L494">		return DialectUtils.bindAttributes(this, st, valuesMap, qualifier, prefs);</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#getRenameTableSQL(java.lang.String,
	 *      java.lang.String, net.sourceforge.squirrel_sql.fw.dialects.DatabaseObjectQualifier,
	 *      net.sourceforge.squirrel_sql.fw.dialects.SqlGenerationPreferences)
	 */
	@Override
	public String getRenameTableSQL(String oldTableName, String newTableName,
		DatabaseObjectQualifier qualifier, SqlGenerationPreferences prefs)
	{
<span class="nc" id="L506">		final int featureId = DialectUtils.RENAME_TABLE_TYPE;</span>
<span class="nc" id="L507">		final String msg = DialectUtils.getUnsupportedMessage(this, featureId);</span>
<span class="nc" id="L508">		throw new UnsupportedOperationException(msg);</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.SybaseDialectExt#getViewDefinitionSQL(java.lang.String,
	 *      net.sourceforge.squirrel_sql.fw.dialects.DatabaseObjectQualifier,
	 *      net.sourceforge.squirrel_sql.fw.dialects.SqlGenerationPreferences)
	 */
	@Override
	public String getViewDefinitionSQL(String viewName, DatabaseObjectQualifier qualifier,
		SqlGenerationPreferences prefs)
	{
<span class="nc" id="L520">		return &quot;sp_helptext &quot; + viewName;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsRenameTable()
	 */
	@Override
	public boolean supportsRenameTable()
	{
<span class="nc" id="L529">		return false;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.SybaseDialectExt#supportsRenameView()
	 */
	@Override
	public boolean supportsRenameView()
	{
<span class="nc" id="L538">		return false;</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.SybaseDialectExt#getRenameViewSQL(java.lang.String,
	 *      java.lang.String, net.sourceforge.squirrel_sql.fw.dialects.DatabaseObjectQualifier,
	 *      net.sourceforge.squirrel_sql.fw.dialects.SqlGenerationPreferences)
	 */
	@Override
	public String[] getRenameViewSQL(String oldViewName, String newViewName,
		DatabaseObjectQualifier qualifier, SqlGenerationPreferences prefs)
	{
<span class="nc" id="L550">		final int featureId = DialectUtils.RENAME_VIEW_TYPE;</span>
<span class="nc" id="L551">		final String msg = DialectUtils.getUnsupportedMessage(this, featureId);</span>
<span class="nc" id="L552">		throw new UnsupportedOperationException(msg);</span>
	}

	/**
	 * @see net.sourceforge.squirrel_sql.fw.dialects.CommonHibernateDialect#supportsSubSecondTimestamps()
	 */
	@Override
	public boolean supportsSubSecondTimestamps() {
<span class="nc" id="L560">		return false;</span>
	}
	
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>