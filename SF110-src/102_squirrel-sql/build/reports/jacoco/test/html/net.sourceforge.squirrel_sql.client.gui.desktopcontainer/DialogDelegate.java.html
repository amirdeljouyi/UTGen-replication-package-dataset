<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>DialogDelegate.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">102_squirrel-sql</a> &gt; <a href="index.source.html" class="el_package">net.sourceforge.squirrel_sql.client.gui.desktopcontainer</a> &gt; <span class="el_source">DialogDelegate.java</span></div><h1>DialogDelegate.java</h1><pre class="source lang-java linenums">package net.sourceforge.squirrel_sql.client.gui.desktopcontainer;

import net.sourceforge.squirrel_sql.fw.gui.GUIUtils;
import net.sourceforge.squirrel_sql.fw.gui.Dialogs;
import net.sourceforge.squirrel_sql.client.gui.mainframe.MainFrame;

import javax.swing.*;
import javax.swing.border.Border;
import java.awt.*;
import java.awt.event.WindowListener;
import java.awt.event.WindowEvent;
import java.util.HashMap;
import java.beans.VetoableChangeListener;

public class DialogDelegate extends JDialog implements IDialogDelegate
{

   private IWidget _widget;

   private boolean _inWidgetSetVisible;

<span class="nc" id="L22">   private WidgetEventCaster _eventCaster = new WidgetEventCaster();</span>
<span class="nc" id="L23">   private HashMap _clientProperties = new HashMap();</span>
   private boolean _isToolWindow;


   public DialogDelegate(String title, boolean resizable, boolean closable, boolean maximizable, boolean iconifiable, IWidget widget, Window parent)
   {
<span class="nc" id="L29">      super(parent, title);</span>

<span class="nc" id="L31">      setResizable(resizable);</span>
<span class="nc" id="L32">      _widget = widget;</span>

<span class="nc" id="L34">      addWindowListener(new WindowListener()</span>
<span class="nc" id="L35">      {</span>
         public void windowOpened(WindowEvent e)
         {
<span class="nc" id="L38">            _eventCaster.fireWidgetOpened(new WidgetEvent(e, _widget));</span>
<span class="nc" id="L39">         }</span>

         public void windowClosing(WindowEvent e)
         {
<span class="nc" id="L43">            _eventCaster.fireWidgetClosing(new WidgetEvent(e, _widget));</span>
<span class="nc" id="L44">         }</span>

         public void windowClosed(WindowEvent e)
         {
<span class="nc" id="L48">            _eventCaster.fireWidgetClosed(new WidgetEvent(e, _widget));</span>
<span class="nc" id="L49">         }</span>

         public void windowIconified(WindowEvent e)
         {
<span class="nc" id="L53">            _eventCaster.fireWidgetIconified(new WidgetEvent(e, _widget));</span>
<span class="nc" id="L54">         }</span>

         public void windowDeiconified(WindowEvent e)
         {
<span class="nc" id="L58">            _eventCaster.fireWidgetDeiconified(new WidgetEvent(e, _widget));</span>
<span class="nc" id="L59">         }</span>

         public void windowActivated(WindowEvent e)
         {
<span class="nc" id="L63">            _eventCaster.fireWidgetActivated(new WidgetEvent(e, _widget));</span>
<span class="nc" id="L64">         }</span>

         public void windowDeactivated(WindowEvent e)
         {
<span class="nc" id="L68">            _eventCaster.fireWidgetDeactivated(new WidgetEvent(e, _widget));</span>
<span class="nc" id="L69">         }</span>
      });

<span class="nc" id="L72">   }</span>

   public void _dispose()
   {
<span class="nc" id="L76">      super.dispose();</span>
<span class="nc" id="L77">   }</span>
   @Override
   public void dispose()
   {
<span class="nc" id="L81">      super.dispose();</span>
<span class="nc bnc" id="L82" title="All 2 branches missed.">      if(null != _widget)</span>
      {
<span class="nc" id="L84">         _widget.dispose();</span>
      }
<span class="nc" id="L86">   }</span>

   public void _setTitle(String title)
   {
<span class="nc" id="L90">      super.setTitle(title);</span>
<span class="nc" id="L91">   }</span>
   @Override
   public void setTitle(String title)
   {
<span class="nc" id="L95">      super.setTitle(title);</span>
<span class="nc bnc" id="L96" title="All 2 branches missed.">      if(null != _widget)</span>
      {
<span class="nc" id="L98">         _widget.setTitle(title);</span>
      }
<span class="nc" id="L100">   }</span>

   public void _setVisible(boolean aFlag)
   {
<span class="nc" id="L104">      super.setVisible(aFlag);</span>
<span class="nc" id="L105">   }</span>
   @Override
   public void setVisible(boolean b)
   {
<span class="nc" id="L109">      super.setVisible(b);</span>
<span class="nc bnc" id="L110" title="All 2 branches missed.">      if(null != _widget)</span>
      {
<span class="nc" id="L112">         _widget.setVisible(b);</span>
      }
<span class="nc" id="L114">   }</span>

   public void _addNotify()
   {
<span class="nc" id="L118">      super.addNotify();</span>
<span class="nc" id="L119">   }</span>
   @Override
   public void addNotify()
   {
<span class="nc" id="L123">      super.addNotify();</span>
<span class="nc bnc" id="L124" title="All 2 branches missed.">      if(null != _widget)</span>
      {
<span class="nc" id="L126">         _widget.addNotify();</span>
      }
<span class="nc" id="L128">   }</span>

   public void _updateUI()
   {
<span class="nc" id="L132">   }</span>
   
   public void centerWithinDesktop()
   {
<span class="nc" id="L136">      GUIUtils.centerWithinParent(this);</span>
<span class="nc" id="L137">   }</span>

   public Container getAwtContainer()
   {
<span class="nc" id="L141">      return getContentPane();</span>
   }

   public void setContentPane(JPanel contentPane)
   {
<span class="nc" id="L146">      super.setContentPane(contentPane);</span>
<span class="nc" id="L147">   }</span>

   public void showOk(String msg)
   {
<span class="nc" id="L151">      Dialogs.showOk(this, msg);</span>
<span class="nc" id="L152">   }</span>

   public void addVetoableChangeListener(VetoableChangeListener vetoableChangeListener)
   {
<span class="nc" id="L156">   }</span>

   public void removeVetoableChangeListener(VetoableChangeListener vetoableChangeListener)
   {
<span class="nc" id="L160">   }</span>

   public JInternalFrame getInternalFrame()
   {
<span class="nc" id="L164">      return null;</span>
   }

   public void setSelected(boolean b)
   {
<span class="nc" id="L169">      requestFocus();      </span>
<span class="nc" id="L170">   }</span>

   public void setLayer(Integer layer)
   {
<span class="nc" id="L174">   }</span>


   public void makeToolWindow(boolean isToolWindow)
   {
<span class="nc" id="L179">      _isToolWindow = isToolWindow;</span>
<span class="nc" id="L180">   }</span>

   public void _moveToFront()
   {
      //_setVisible(true); Bug 2644778: The widgets setVisible() wasn't called.

<span class="nc bnc" id="L186" title="All 2 branches missed.">      if(false == _inWidgetSetVisible)</span>
      {
         try
         {
<span class="nc" id="L190">            _inWidgetSetVisible = true;</span>
<span class="nc" id="L191">            _widget.setVisible(true);</span>
         }
         finally
         {
            // _inWidgetSetVisible was introduced to allow moveToFront to be called
            // from within setVisible. See EditWhereColsSheet or SQLFilterSheet
<span class="nc" id="L197">            _inWidgetSetVisible = false;</span>
         }
      }
<span class="nc" id="L200">      setSelected(true);</span>
<span class="nc" id="L201">      requestFocus();</span>
<span class="nc" id="L202">   }</span>

   public void addDialogWidgetListener(WidgetListener widgetListener)
   {
<span class="nc" id="L206">      _eventCaster.addDialogWidgetListener(widgetListener);</span>
<span class="nc" id="L207">   }</span>

   public void removeDialogWidgetListener(WidgetListener widgetListener)
   {
<span class="nc" id="L211">      _eventCaster.removeDialogWidgetListener(widgetListener);</span>
<span class="nc" id="L212">   }</span>

   public void putClientProperty(Object key, Object prop)
   {
<span class="nc" id="L216">      _clientProperties.put(key, prop);</span>
<span class="nc" id="L217">   }</span>

   public Object getClientProperty(Object key)
   {
<span class="nc" id="L221">      return _clientProperties.get(key);</span>
   }

   public void fireWidgetClosing()
   {
<span class="nc" id="L226">      _eventCaster.fireWidgetClosing(new WidgetEvent(new WindowEvent(this, WindowEvent.WINDOW_CLOSING), _widget));</span>
<span class="nc" id="L227">   }</span>

   public void fireWidgetClosed()
   {
<span class="nc" id="L231">      _eventCaster.fireWidgetClosed(new WidgetEvent(new WindowEvent(this, WindowEvent.WINDOW_CLOSED), _widget));</span>
<span class="nc" id="L232">   }</span>


   public void setFrameIcon(Icon icon)
   {
<span class="nc" id="L237">   }</span>

   public void setMaximum(boolean b)
   {
      //To change body of implemented methods use File | Settings | File Templates.
<span class="nc" id="L242">   }</span>

   public void setBorder(Border border)
   {
      //To change body of implemented methods use File | Settings | File Templates.
<span class="nc" id="L247">   }</span>

   public boolean isToolWindow()
   {
<span class="nc" id="L251">      return _isToolWindow;   </span>
   }

   public boolean isClosed()
   {
<span class="nc" id="L256">      return isVisible();</span>
   }

   public boolean isIcon()
   {
<span class="nc" id="L261">      return false;</span>
   }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>