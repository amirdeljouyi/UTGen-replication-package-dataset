<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>OverviewHolder.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">102_squirrel-sql</a> &gt; <a href="index.source.html" class="el_package">net.sourceforge.squirrel_sql.client.session.mainpanel.overview</a> &gt; <span class="el_source">OverviewHolder.java</span></div><h1>OverviewHolder.java</h1><pre class="source lang-java linenums">package net.sourceforge.squirrel_sql.client.session.mainpanel.overview;

import net.sourceforge.squirrel_sql.client.session.mainpanel.overview.datascale.DataScale;
import net.sourceforge.squirrel_sql.client.session.mainpanel.overview.datascale.DataScaleTable;
import net.sourceforge.squirrel_sql.fw.datasetviewer.DataSetViewerTablePanel;

import javax.swing.*;
import java.awt.*;

<span class="nc" id="L10">public class OverviewHolder</span>
{
   private DataScaleTable _dataScaleTable;
   private SimpleTable _simpleTable;

   public DataScaleTable getDataScaleTable()
   {
<span class="nc" id="L17">      return _dataScaleTable;</span>
   }

   public boolean isEmpty()
   {
<span class="nc bnc" id="L22" title="All 4 branches missed.">      return null == _dataScaleTable &amp;&amp; null == _simpleTable;</span>
   }

   public void setOverview(DataScaleTable dataScaleTable, boolean keepFormerRelations)
   {

<span class="nc bnc" id="L28" title="All 2 branches missed.">      if(null != _dataScaleTable)</span>
      {
<span class="nc bnc" id="L30" title="All 2 branches missed.">         if (keepFormerRelations)</span>
         {
<span class="nc bnc" id="L32" title="All 2 branches missed.">            if (null != _dataScaleTable.getParentScaleTable())</span>
            {
<span class="nc" id="L34">               dataScaleTable.setParentScaleTable(_dataScaleTable.getParentScaleTable());</span>
            }

<span class="nc bnc" id="L37" title="All 2 branches missed.">            if (null != _dataScaleTable.getKidScaleTable())</span>
            {
<span class="nc" id="L39">               dataScaleTable.setKidScaleTable(_dataScaleTable.getKidScaleTable());</span>
            }
         }
         else
         {
<span class="nc" id="L44">            dataScaleTable.setParentScaleTable(_dataScaleTable);</span>
         }
      }
<span class="nc" id="L47">      _dataScaleTable = dataScaleTable;</span>

<span class="nc" id="L49">      _simpleTable = null;</span>
<span class="nc" id="L50">   }</span>


   public void setOverview(DataSetViewerTablePanel simpleTable)
   {
<span class="nc" id="L55">      _simpleTable = new SimpleTable(simpleTable, _dataScaleTable);</span>
<span class="nc" id="L56">      _dataScaleTable = null;</span>
<span class="nc" id="L57">   }</span>

   public void setParent()
   {
<span class="nc bnc" id="L61" title="All 2 branches missed.">      if(null != _simpleTable)</span>
      {
<span class="nc" id="L63">         _dataScaleTable = _simpleTable.getParent();</span>
<span class="nc" id="L64">         _simpleTable = null;</span>
<span class="nc" id="L65">         return;</span>
      }

<span class="nc bnc" id="L68" title="All 2 branches missed.">      if(null != _dataScaleTable)</span>
      {
<span class="nc" id="L70">         _dataScaleTable = _dataScaleTable.getParentScaleTable();</span>
<span class="nc" id="L71">         _simpleTable = null;</span>
<span class="nc" id="L72">         return;</span>
      }
<span class="nc" id="L74">   }</span>

   public void setKid()
   {
<span class="nc bnc" id="L78" title="All 2 branches missed.">      if (null != _dataScaleTable.getKidScaleTable())</span>
      {
<span class="nc" id="L80">         _dataScaleTable = _dataScaleTable.getKidScaleTable();</span>
<span class="nc" id="L81">         _simpleTable = null;</span>
      }
      else
      {
<span class="nc" id="L85">         _simpleTable = new SimpleTable(_dataScaleTable.getKidSimpleTable(), _dataScaleTable);</span>
<span class="nc" id="L86">         _dataScaleTable = null;</span>
      }
<span class="nc" id="L88">   }</span>


   public boolean hasParent()
   {
<span class="nc bnc" id="L93" title="All 2 branches missed.">      if(null != _simpleTable)</span>
      {
<span class="nc" id="L95">         return true;</span>
      }

<span class="nc bnc" id="L98" title="All 2 branches missed.">      if(null != _dataScaleTable)</span>
      {
<span class="nc bnc" id="L100" title="All 2 branches missed.">         return null != _dataScaleTable.getParentScaleTable();</span>
      }

<span class="nc" id="L103">      throw new IllegalStateException(&quot;Either _simpleTable or _dataScaleTable must be initialized&quot;);</span>
   }

   public boolean hasKid()
   {
<span class="nc bnc" id="L108" title="All 2 branches missed.">      if(null != _simpleTable)</span>
      {
<span class="nc" id="L110">         return false;</span>
      }

<span class="nc bnc" id="L113" title="All 2 branches missed.">      if(null != _dataScaleTable)</span>
      {
<span class="nc bnc" id="L115" title="All 4 branches missed.">         return null != _dataScaleTable.getKidScaleTable() || null != _dataScaleTable.getKidSimpleTable();</span>
      }

<span class="nc" id="L118">      throw new IllegalStateException(&quot;Either _simpleTable or _dataScaleTable must be initialized&quot;);</span>
   }

   public Component getComponent()
   {
<span class="nc bnc" id="L123" title="All 2 branches missed.">      if(null != _simpleTable)</span>
      {
<span class="nc" id="L125">         return _simpleTable.getComponent();</span>
      }

<span class="nc bnc" id="L128" title="All 2 branches missed.">      if(null != _dataScaleTable)</span>
      {
<span class="nc" id="L130">         return _dataScaleTable;</span>
      }

<span class="nc" id="L133">      throw new IllegalStateException(&quot;Either _simpleTable or _dataScaleTable must be initialized&quot;);</span>
   }

   public boolean canShowInSimpleTable()
   {
<span class="nc bnc" id="L138" title="All 2 branches missed.">      return null != _dataScaleTable;</span>
   }

   public boolean isScaleTable()
   {
<span class="nc bnc" id="L143" title="All 2 branches missed.">      return null != _dataScaleTable; </span>
   }

   public void doClickTracing(JButton intervalButtonClicked)
   {
<span class="nc bnc" id="L148" title="All 2 branches missed.">      for (int i = 0; i &lt; _dataScaleTable.getDataScaleTableModel().getDataScaleCount(); i++)</span>
      {
<span class="nc" id="L150">         DataScale dataScale = _dataScaleTable.getDataScaleTableModel().getDataScaleAt(i);</span>
<span class="nc" id="L151">         dataScale.initButtonColor(intervalButtonClicked);</span>
      }
<span class="nc" id="L153">   }</span>


   private static class SimpleTable
   {
      private DataScaleTable _parent;
      private DataSetViewerTablePanel _simpleTable;

      public SimpleTable(DataSetViewerTablePanel simpleTable, DataScaleTable parent)
<span class="nc" id="L162">      {</span>
<span class="nc" id="L163">         _simpleTable = simpleTable;</span>
<span class="nc" id="L164">         _parent = parent;</span>
<span class="nc" id="L165">         _parent.setKidSimpleTable(_simpleTable);</span>
<span class="nc" id="L166">      }</span>

      public DataScaleTable getParent()
      {
<span class="nc" id="L170">         return _parent;</span>
      }

      public Component getComponent()
      {
<span class="nc" id="L175">         return _simpleTable.getComponent();</span>
      }
   }

//   private void stopCellEditing(DataScaleTable dataScaleTable)
//   {
//      TableCellEditor tableCellEditor = dataScaleTable.getCellEditor();
//      if (null != tableCellEditor)
//      {
//         tableCellEditor.stopCellEditing();
//         tableCellEditor.cancelCellEditing();
//      }
//   }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>