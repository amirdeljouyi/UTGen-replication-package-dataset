<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ColorPropertiesPanel.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">102_squirrel-sql</a> &gt; <a href="index.source.html" class="el_package">net.sourceforge.squirrel_sql.client.gui.db.aliasproperties</a> &gt; <span class="el_source">ColorPropertiesPanel.java</span></div><h1>ColorPropertiesPanel.java</h1><pre class="source lang-java linenums">package net.sourceforge.squirrel_sql.client.gui.db.aliasproperties;

/*
 * Copyright (C) 2009 Rob Manning
 * manningr@users.sourceforge.net
 * 
 * Based on initial work from Colin Bell
 *
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 2.1 of the License, or (at your option) any later version.
 *
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public
 * License along with this library; if not, write to the Free Software
 * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
 */

import java.awt.Color;
import java.awt.GridBagConstraints;
import java.awt.GridBagLayout;
import java.awt.Insets;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.BorderFactory;
import javax.swing.Box;
import javax.swing.BoxLayout;
import javax.swing.JButton;
import javax.swing.JCheckBox;
import javax.swing.JColorChooser;
import javax.swing.JLabel;
import javax.swing.JPanel;

import net.sourceforge.squirrel_sql.client.gui.db.SQLAliasColorProperties;
import net.sourceforge.squirrel_sql.fw.gui.MultipleLineLabel;
import net.sourceforge.squirrel_sql.fw.util.StringManager;
import net.sourceforge.squirrel_sql.fw.util.StringManagerFactory;
import net.sourceforge.squirrel_sql.fw.util.Utilities;

/**
 * This panel allows the user to review and maintain the color properties for an Alias. Background colors can
 * be configured for an Alias, so that each time a session is created, certain component background colors can
 * appear differently from sessions created using other Aliases. This allows the user to get visual clues from
 * SQuirreL about the session that they are interacting with to avoid confusing production database sessions
 * and development ones.
 */
public class ColorPropertiesPanel extends JPanel
{
	private static final long serialVersionUID = 1L;

	/** Internationalized strings for this class. */
<span class="nc" id="L58">	private static final StringManager s_stringMgr =</span>
<span class="nc" id="L59">		StringManagerFactory.getStringManager(ColorPropertiesPanel.class);</span>

	// Toolbar

<span class="nc" id="L63">	private JCheckBox toolbarBackgroundColorChk = new JCheckBox(&quot;&quot;);</span>

<span class="nc" id="L65">	private JButton toolbarBackgroundColorBtn = null;</span>

<span class="nc" id="L67">	private JLabel toolBarBackgroundLbl = null;</span>

<span class="nc" id="L69">	private JPanel toolbarBackgroundColorPnl = new JPanel();</span>

<span class="nc" id="L71">	private Color toolbarBackgroundColor = null;</span>

<span class="nc" id="L73">	private JCheckBox syncComponentBackgroundColorChk = null;</span>

	// Object Tree

<span class="nc" id="L77">	private JCheckBox objectTreeBackgroundColorChk = new JCheckBox(&quot;&quot;);</span>

<span class="nc" id="L79">	private JButton objectTreeBackgroundColorBtn = null;</span>

<span class="nc" id="L81">	private JLabel objectTreeBackgroundLbl = null;</span>

<span class="nc" id="L83">	private JPanel objectTreeBackgroundColorPnl = new JPanel();</span>

<span class="nc" id="L85">	private Color objectTreeBackgroundColor = null;</span>

	// Status Bar

<span class="nc" id="L89">	private JCheckBox statusBarBackgroundColorChk = new JCheckBox(&quot;&quot;);</span>

<span class="nc" id="L91">	private JButton statusBarBackgroundColorBtn = null;</span>

<span class="nc" id="L93">	private JLabel statusBarBackgroundLbl = null;</span>

<span class="nc" id="L95">	private JPanel statusBarBackgroundColorPnl = new JPanel();</span>

<span class="nc" id="L97">	private Color statusBarBackgroundColor = null;</span>

	public interface i18n
	{
		// i18n[ColorPropertiesPanel.backgroundColorLabel=Background Color]
<span class="nc" id="L102">		String BACKGROUND_COLOR_LABEL = s_stringMgr.getString(&quot;ColorPropertiesPanel.backgroundColorLabel&quot;);</span>

		// i18n[ColorPropertiesPanel.instructions=These settings control the background colors...]
<span class="nc" id="L105">		String INSTRUCTIONS = s_stringMgr.getString(&quot;ColorPropertiesPanel.instructions&quot;);</span>

		// i18n[ColorPropertiesPanel.objectTreeBackgroundColorChooserDialogTitle=Select Background Color for
		// Object Tree]
		String OBJECT_TREE_BACKGROUND_COLOR_CHOOSER_DIALOG_TITLE =
<span class="nc" id="L110">			s_stringMgr.getString(&quot;ColorPropertiesPanel.objectTreeBackgroundColorChooserDialogTitle&quot;);</span>

		// i18n[ColorPropertiesPanel.statusBarBackgroundColorBtnLabel=Choose Status Bar Color]
		String STATUS_BAR_BACKGROUND_COLOR_BUTTON_LABEL =
<span class="nc" id="L114">			s_stringMgr.getString(&quot;ColorPropertiesPanel.statusBarBackgroundColorBtnLabel&quot;);</span>

		// i18n[ColorPropertiesPanel.toolbarBackgroundColorChooserDialogTitle=Select Background Color for
		// Toolbar]
		String TOOLBAR_BACKGROUND_COLOR_CHOOSER_DIALOG_TITLE =
<span class="nc" id="L119">			s_stringMgr.getString(&quot;ColorPropertiesPanel.toolbarBackgroundColorChooserDialogTitle&quot;);</span>

		// i18n[ColorPropertiesPanel.toolbarBackgroundColorBtnLabel=Choose Toolbar Color]
		String TOOLBAR_BACKGROUND_COLOR_BUTTON_LABEL =
<span class="nc" id="L123">			s_stringMgr.getString(&quot;ColorPropertiesPanel.toolbarBackgroundColorBtnLabel&quot;);</span>

		// i18n[ColorPropertiesPanel.syncComponentBackgroundColorChkLabel=Use toolbar background color for all
		// components]
		String SYNC_COMPONENT_BACKGROUND_COLOR_CHK_LABEL =
<span class="nc" id="L128">			s_stringMgr.getString(&quot;ColorPropertiesPanel.syncComponentBackgroundColorChkLabel&quot;);</span>

		// i18n[ColorPropertiesPanel.objectTreeBackgroundColorButtonLabel=Choose Object Tree Color]
		String OBJECT_TREE_BACKGROUND_COLOR_BUTTON_LABEL =
<span class="nc" id="L132">			s_stringMgr.getString(&quot;ColorPropertiesPanel.objectTreeBackgroundColorButtonLabel&quot;);</span>

		// i18n[ColorPropertiesPanel.statusBarBackgroundColorChooserDialogTitle=Select Background Color for
		// Status Bar]
<span class="nc" id="L136">		String STATUS_BAR_BACKGROUND_COLOR_CHOOSER_DIALOG_TITLE =</span>
<span class="nc" id="L137">			s_stringMgr.getString(&quot;ColorPropertiesPanel.statusBarBackgroundColorChooserDialogTitle&quot;);</span>

	}

<span class="nc" id="L141">	private SQLAliasColorProperties _props = null;</span>

	public ColorPropertiesPanel(SQLAliasColorProperties props)
<span class="nc" id="L144">	{</span>
<span class="nc" id="L145">		Utilities.checkNull(&quot;ColorPropertiesPanel.init&quot;, &quot;props&quot;, props);</span>

<span class="nc" id="L147">		this._props = props;</span>

<span class="nc" id="L149">		createUserInterface();</span>
<span class="nc" id="L150">	}</span>

	/**
	 * Retrieve the database properties.
	 * 
	 * @return the database properties.
	 */
	public SQLAliasColorProperties getSQLAliasColorProperties()
	{
<span class="nc bnc" id="L159" title="All 2 branches missed.">		if (toolbarBackgroundColorChk.isSelected())</span>
		{
<span class="nc bnc" id="L161" title="All 2 branches missed.">			if (toolbarBackgroundColor != null)</span>
			{
<span class="nc" id="L163">				_props.setOverrideToolbarBackgroundColor(true);</span>
<span class="nc" id="L164">				_props.setToolbarBackgroundColorRgbValue(toolbarBackgroundColor.getRGB());</span>
			}
		}
		else
		{
<span class="nc" id="L169">			_props.setOverrideToolbarBackgroundColor(false);</span>
		}
<span class="nc bnc" id="L171" title="All 2 branches missed.">		if (objectTreeBackgroundColorChk.isSelected())</span>
		{
<span class="nc bnc" id="L173" title="All 2 branches missed.">			if (objectTreeBackgroundColor != null)</span>
			{
<span class="nc" id="L175">				_props.setOverrideObjectTreeBackgroundColor(true);</span>
<span class="nc" id="L176">				_props.setObjectTreeBackgroundColorRgbValue(objectTreeBackgroundColor.getRGB());</span>
			}
		}
		else
		{
<span class="nc" id="L181">			_props.setOverrideObjectTreeBackgroundColor(false);</span>
		}
<span class="nc bnc" id="L183" title="All 2 branches missed.">		if (statusBarBackgroundColorChk.isSelected())</span>
		{
<span class="nc bnc" id="L185" title="All 2 branches missed.">			if (statusBarBackgroundColor != null)</span>
			{
<span class="nc" id="L187">				_props.setOverrideStatusBarBackgroundColor(true);</span>
<span class="nc" id="L188">				_props.setStatusBarBackgroundColorRgbValue(statusBarBackgroundColor.getRGB());</span>
			}
		}
		else
		{
<span class="nc" id="L193">			_props.setOverrideStatusBarBackgroundColor(false);</span>
		}
<span class="nc" id="L195">		return _props;</span>
	}

	private void createUserInterface()
	{
<span class="nc" id="L200">		setLayout(new GridBagLayout());</span>

<span class="nc" id="L202">		final GridBagConstraints gbc = new GridBagConstraints();</span>

<span class="nc" id="L204">		setBorder(BorderFactory.createEmptyBorder(2, 2, 2, 2));</span>

<span class="nc" id="L206">		gbc.anchor = GridBagConstraints.WEST;</span>
<span class="nc" id="L207">		gbc.insets = new Insets(5, 5, 5, 5);</span>
<span class="nc" id="L208">		gbc.fill = GridBagConstraints.HORIZONTAL;</span>
<span class="nc" id="L209">		gbc.gridx = 0;</span>
<span class="nc" id="L210">		gbc.gridy = 0;</span>
<span class="nc" id="L211">		gbc.weightx = 0;</span>
<span class="nc" id="L212">		gbc.weighty = 0;</span>

		// Instructions
<span class="nc" id="L215">		gbc.gridwidth = GridBagConstraints.REMAINDER;</span>
<span class="nc" id="L216">		add(createInfoPanel(), gbc);</span>

<span class="nc" id="L218">		prepareNewRow(gbc);</span>

<span class="nc" id="L220">		addToolbarColorComponents(gbc);</span>

<span class="nc" id="L222">		prepareNewRow(gbc);</span>

<span class="nc" id="L224">		addSyncComponentColorsWithToolbarCheckBox(gbc);</span>

<span class="nc" id="L226">		prepareNewRow(gbc);</span>

<span class="nc" id="L228">		addObjectTreeColorComponents(gbc);</span>

<span class="nc" id="L230">		prepareNewRow(gbc);</span>

<span class="nc" id="L232">		addStatusBarColorComponents(gbc);</span>
<span class="nc" id="L233">	}</span>

	private void addSyncComponentColorsWithToolbarCheckBox(final GridBagConstraints gbc)
	{
<span class="nc" id="L237">		++gbc.gridx;</span>
<span class="nc" id="L238">		gbc.gridwidth = 2;</span>
<span class="nc" id="L239">		syncComponentBackgroundColorChk = new JCheckBox(i18n.SYNC_COMPONENT_BACKGROUND_COLOR_CHK_LABEL);</span>
<span class="nc" id="L240">		add(syncComponentBackgroundColorChk, gbc);</span>

<span class="nc" id="L242">		syncComponentBackgroundColorChk.addActionListener(new ActionListener()</span>
<span class="nc" id="L243">		{</span>

			@Override
			public void actionPerformed(ActionEvent e)
			{
<span class="nc bnc" id="L248" title="All 2 branches missed.">				if (syncComponentBackgroundColorChk.isSelected())</span>
				{
<span class="nc" id="L250">					objectTreeBackgroundColorChk.setSelected(true);</span>
<span class="nc" id="L251">					objectTreeBackgroundColor = toolbarBackgroundColor;</span>
<span class="nc" id="L252">					objectTreeBackgroundColorBtn.setEnabled(true);</span>
<span class="nc" id="L253">					objectTreeBackgroundColorPnl.setBackground(toolbarBackgroundColor);</span>
<span class="nc" id="L254">					objectTreeBackgroundColorPnl.setEnabled(true);</span>
<span class="nc" id="L255">					objectTreeBackgroundLbl.setEnabled(true);</span>
<span class="nc" id="L256">					statusBarBackgroundColorChk.setSelected(true);</span>
<span class="nc" id="L257">					statusBarBackgroundColor = toolbarBackgroundColor;</span>
<span class="nc" id="L258">					statusBarBackgroundColorBtn.setEnabled(true);</span>
<span class="nc" id="L259">					statusBarBackgroundColorPnl.setBackground(toolbarBackgroundColor);</span>
<span class="nc" id="L260">					statusBarBackgroundColorPnl.setEnabled(true);</span>
<span class="nc" id="L261">					statusBarBackgroundLbl.setEnabled(true);</span>
				}
<span class="nc" id="L263">			}</span>
		});
<span class="nc" id="L265">	}</span>

	private void addStatusBarColorComponents(GridBagConstraints gbc)
	{
		// Object Tree Color checkbox
<span class="nc" id="L270">		statusBarBackgroundColorChk.setSelected(_props.isOverrideStatusBarBackgroundColor());</span>
<span class="nc" id="L271">		add(statusBarBackgroundColorChk, gbc);</span>

		// Set object tree color button
<span class="nc" id="L274">		++gbc.gridx;</span>
<span class="nc" id="L275">		statusBarBackgroundColorBtn = new JButton(i18n.STATUS_BAR_BACKGROUND_COLOR_BUTTON_LABEL);</span>
<span class="nc" id="L276">		add(statusBarBackgroundColorBtn, gbc);</span>

		// Set object tree color panel
<span class="nc" id="L279">		++gbc.gridx;</span>
<span class="nc" id="L280">		gbc.anchor = GridBagConstraints.EAST;</span>
<span class="nc" id="L281">		gbc.fill = GridBagConstraints.HORIZONTAL;</span>
<span class="nc" id="L282">		statusBarBackgroundColorChk.setSelected(_props.isOverrideStatusBarBackgroundColor());</span>
<span class="nc" id="L283">		statusBarBackgroundColorBtn.setEnabled(_props.isOverrideObjectTreeBackgroundColor());</span>

<span class="nc" id="L285">		statusBarBackgroundLbl = new JLabel(i18n.BACKGROUND_COLOR_LABEL);</span>
<span class="nc" id="L286">		statusBarBackgroundLbl.setEnabled(_props.isOverrideStatusBarBackgroundColor());</span>

<span class="nc" id="L288">		statusBarBackgroundColorPnl.add(statusBarBackgroundLbl);</span>
<span class="nc" id="L289">		statusBarBackgroundColorPnl.setEnabled(_props.isOverrideStatusBarBackgroundColor());</span>

<span class="nc bnc" id="L291" title="All 2 branches missed.">		if (_props.isOverrideStatusBarBackgroundColor())</span>
		{
<span class="nc" id="L293">			statusBarBackgroundColor = new Color(_props.getStatusBarBackgroundColorRgbValue());</span>
<span class="nc" id="L294">			statusBarBackgroundColorPnl.setBackground(statusBarBackgroundColor);</span>
		}
<span class="nc" id="L296">		add(statusBarBackgroundColorPnl, gbc);</span>

<span class="nc" id="L298">		statusBarBackgroundColorChk.addActionListener(new ActionListener()</span>
<span class="nc" id="L299">		{</span>

			@Override
			public void actionPerformed(ActionEvent e)
			{
<span class="nc bnc" id="L304" title="All 2 branches missed.">				if (statusBarBackgroundColorChk.isSelected())</span>
				{
<span class="nc" id="L306">					statusBarBackgroundColorBtn.setEnabled(true);</span>
<span class="nc" id="L307">					statusBarBackgroundColorPnl.setEnabled(true);</span>
<span class="nc" id="L308">					statusBarBackgroundLbl.setEnabled(true);</span>
				}
				else
				{
<span class="nc" id="L312">					statusBarBackgroundColorBtn.setEnabled(false);</span>
<span class="nc" id="L313">					statusBarBackgroundColorPnl.setEnabled(false);</span>
<span class="nc" id="L314">					statusBarBackgroundLbl.setEnabled(false);</span>
				}
<span class="nc" id="L316">			}</span>
		});

<span class="nc" id="L319">		statusBarBackgroundColorBtn.addActionListener(new ActionListener()</span>
<span class="nc" id="L320">		{</span>

			@Override
			public void actionPerformed(ActionEvent e)
			{
<span class="nc bnc" id="L325" title="All 2 branches missed.">				Color startColor = statusBarBackgroundColor == null ? Color.WHITE : statusBarBackgroundColor;</span>
<span class="nc" id="L326">				Color newColor =</span>
<span class="nc" id="L327">					JColorChooser.showDialog(null, i18n.STATUS_BAR_BACKGROUND_COLOR_CHOOSER_DIALOG_TITLE,</span>
						startColor);
<span class="nc bnc" id="L329" title="All 2 branches missed.">				if (newColor != null)</span>
				{
<span class="nc" id="L331">					statusBarBackgroundColor = newColor;</span>
<span class="nc" id="L332">					statusBarBackgroundColorPnl.setBackground(newColor);</span>
<span class="nc" id="L333">					statusBarBackgroundColorPnl.validate();</span>
				}
<span class="nc" id="L335">			}</span>
		});
<span class="nc" id="L337">	}</span>

	private void prepareNewRow(final GridBagConstraints gbc)
	{
<span class="nc" id="L341">		gbc.gridx = 0;</span>
<span class="nc" id="L342">		++gbc.gridy;</span>
<span class="nc" id="L343">		gbc.anchor = GridBagConstraints.WEST;</span>
<span class="nc" id="L344">		gbc.gridwidth = 1;</span>
<span class="nc" id="L345">	}</span>

	private void addObjectTreeColorComponents(final GridBagConstraints gbc)
	{
		// Object Tree Color checkbox
<span class="nc" id="L350">		objectTreeBackgroundColorChk.setSelected(_props.isOverrideObjectTreeBackgroundColor());</span>
<span class="nc" id="L351">		add(objectTreeBackgroundColorChk, gbc);</span>

		// Set object tree color button
<span class="nc" id="L354">		++gbc.gridx;</span>
<span class="nc" id="L355">		objectTreeBackgroundColorBtn = new JButton(i18n.OBJECT_TREE_BACKGROUND_COLOR_BUTTON_LABEL);</span>
<span class="nc" id="L356">		add(objectTreeBackgroundColorBtn, gbc);</span>

		// Set object tree color panel
<span class="nc" id="L359">		++gbc.gridx;</span>
<span class="nc" id="L360">		gbc.anchor = GridBagConstraints.EAST;</span>
<span class="nc" id="L361">		gbc.fill = GridBagConstraints.HORIZONTAL;</span>
<span class="nc" id="L362">		objectTreeBackgroundColorChk.setSelected(_props.isOverrideObjectTreeBackgroundColor());</span>
<span class="nc" id="L363">		objectTreeBackgroundColorBtn.setEnabled(_props.isOverrideObjectTreeBackgroundColor());</span>
<span class="nc" id="L364">		objectTreeBackgroundLbl = new JLabel(i18n.BACKGROUND_COLOR_LABEL);</span>
<span class="nc" id="L365">		objectTreeBackgroundColorPnl.add(objectTreeBackgroundLbl);</span>
<span class="nc" id="L366">		objectTreeBackgroundColorPnl.setEnabled(_props.isOverrideObjectTreeBackgroundColor());</span>
<span class="nc" id="L367">		objectTreeBackgroundLbl.setEnabled(_props.isOverrideObjectTreeBackgroundColor());</span>
<span class="nc bnc" id="L368" title="All 2 branches missed.">		if (_props.isOverrideObjectTreeBackgroundColor())</span>
		{
<span class="nc" id="L370">			objectTreeBackgroundColor = new Color(_props.getObjectTreeBackgroundColorRgbValue());</span>
<span class="nc" id="L371">			objectTreeBackgroundColorPnl.setBackground(objectTreeBackgroundColor);</span>
		}
<span class="nc" id="L373">		add(objectTreeBackgroundColorPnl, gbc);</span>

<span class="nc" id="L375">		objectTreeBackgroundColorChk.addActionListener(new ActionListener()</span>
<span class="nc" id="L376">		{</span>

			@Override
			public void actionPerformed(ActionEvent e)
			{
<span class="nc bnc" id="L381" title="All 2 branches missed.">				if (objectTreeBackgroundColorChk.isSelected())</span>
				{
<span class="nc" id="L383">					objectTreeBackgroundColorBtn.setEnabled(true);</span>
<span class="nc" id="L384">					objectTreeBackgroundColorPnl.setEnabled(true);</span>
<span class="nc" id="L385">					objectTreeBackgroundLbl.setEnabled(true);</span>
				}
				else
				{
<span class="nc" id="L389">					objectTreeBackgroundColorBtn.setEnabled(false);</span>
<span class="nc" id="L390">					objectTreeBackgroundColorPnl.setEnabled(false);</span>
<span class="nc" id="L391">					objectTreeBackgroundLbl.setEnabled(false);</span>
				}
<span class="nc" id="L393">			}</span>
		});

<span class="nc" id="L396">		objectTreeBackgroundColorBtn.addActionListener(new ActionListener()</span>
<span class="nc" id="L397">		{</span>

			@Override
			public void actionPerformed(ActionEvent e)
			{
<span class="nc bnc" id="L402" title="All 2 branches missed.">				Color startColor = objectTreeBackgroundColor == null ? Color.WHITE : objectTreeBackgroundColor;</span>
<span class="nc" id="L403">				Color newColor =</span>
<span class="nc" id="L404">					JColorChooser.showDialog(null, i18n.OBJECT_TREE_BACKGROUND_COLOR_CHOOSER_DIALOG_TITLE,</span>
						startColor);
<span class="nc bnc" id="L406" title="All 2 branches missed.">				if (newColor != null)</span>
				{
<span class="nc" id="L408">					objectTreeBackgroundColor = newColor;</span>
<span class="nc" id="L409">					objectTreeBackgroundColorPnl.setBackground(newColor);</span>
<span class="nc" id="L410">					objectTreeBackgroundColorPnl.validate();</span>
				}
<span class="nc" id="L412">			}</span>
		});

<span class="nc" id="L415">	}</span>

	private void addToolbarColorComponents(final GridBagConstraints gbc)
	{
		// Toolbar Color Checkbox
<span class="nc" id="L420">		toolbarBackgroundColorChk.setSelected(_props.isOverrideToolbarBackgroundColor());</span>
<span class="nc" id="L421">		add(toolbarBackgroundColorChk, gbc);</span>

		// Set toolbar color button
<span class="nc" id="L424">		++gbc.gridx;</span>
<span class="nc" id="L425">		toolbarBackgroundColorBtn = new JButton(i18n.TOOLBAR_BACKGROUND_COLOR_BUTTON_LABEL);</span>
<span class="nc" id="L426">		add(toolbarBackgroundColorBtn, gbc);</span>

		// Set toolbar color panel
<span class="nc" id="L429">		++gbc.gridx;</span>
<span class="nc" id="L430">		gbc.anchor = GridBagConstraints.EAST;</span>
<span class="nc" id="L431">		gbc.fill = GridBagConstraints.HORIZONTAL;</span>
<span class="nc" id="L432">		toolbarBackgroundColorChk.setSelected(_props.isOverrideToolbarBackgroundColor());</span>
<span class="nc" id="L433">		toolbarBackgroundColorBtn.setEnabled(_props.isOverrideToolbarBackgroundColor());</span>
<span class="nc" id="L434">		toolBarBackgroundLbl = new JLabel(i18n.BACKGROUND_COLOR_LABEL);</span>
<span class="nc" id="L435">		toolbarBackgroundColorPnl.add(toolBarBackgroundLbl);</span>
<span class="nc" id="L436">		toolbarBackgroundColorPnl.setEnabled(_props.isOverrideToolbarBackgroundColor());</span>
<span class="nc" id="L437">		toolBarBackgroundLbl.setEnabled(_props.isOverrideToolbarBackgroundColor());</span>
<span class="nc bnc" id="L438" title="All 2 branches missed.">		if (_props.isOverrideToolbarBackgroundColor())</span>
		{
<span class="nc" id="L440">			toolbarBackgroundColor = new Color(_props.getToolbarBackgroundColorRgbValue());</span>
<span class="nc" id="L441">			toolbarBackgroundColorPnl.setBackground(toolbarBackgroundColor);</span>
		}
<span class="nc" id="L443">		add(toolbarBackgroundColorPnl, gbc);</span>

<span class="nc" id="L445">		toolbarBackgroundColorChk.addActionListener(new ActionListener()</span>
<span class="nc" id="L446">		{</span>

			@Override
			public void actionPerformed(ActionEvent e)
			{
<span class="nc bnc" id="L451" title="All 2 branches missed.">				if (toolbarBackgroundColorChk.isSelected())</span>
				{
<span class="nc" id="L453">					toolbarBackgroundColorBtn.setEnabled(true);</span>
<span class="nc" id="L454">					toolbarBackgroundColorPnl.setEnabled(true);</span>
<span class="nc" id="L455">					toolBarBackgroundLbl.setEnabled(true);</span>
				}
				else
				{
<span class="nc" id="L459">					toolbarBackgroundColorBtn.setEnabled(false);</span>
<span class="nc" id="L460">					toolbarBackgroundColorPnl.setEnabled(false);</span>
<span class="nc" id="L461">					toolBarBackgroundLbl.setEnabled(false);</span>
				}
<span class="nc" id="L463">			}</span>
		});

<span class="nc" id="L466">		toolbarBackgroundColorBtn.addActionListener(new ActionListener()</span>
<span class="nc" id="L467">		{</span>

			@Override
			public void actionPerformed(ActionEvent e)
			{
<span class="nc bnc" id="L472" title="All 2 branches missed.">				Color startColor = toolbarBackgroundColor == null ? Color.WHITE : toolbarBackgroundColor;</span>
<span class="nc" id="L473">				Color newColor =</span>
<span class="nc" id="L474">					JColorChooser.showDialog(null, i18n.TOOLBAR_BACKGROUND_COLOR_CHOOSER_DIALOG_TITLE, startColor);</span>
<span class="nc bnc" id="L475" title="All 2 branches missed.">				if (newColor != null)</span>
				{
<span class="nc" id="L477">					toolbarBackgroundColor = newColor;</span>
<span class="nc" id="L478">					toolbarBackgroundColorPnl.setBackground(newColor);</span>
<span class="nc" id="L479">					toolbarBackgroundColorPnl.validate();</span>
				}
<span class="nc" id="L481">			}</span>
		});

<span class="nc" id="L484">	}</span>

	private Box createInfoPanel()
	{
<span class="nc" id="L488">		final Box pnl = new Box(BoxLayout.X_AXIS);</span>
<span class="nc" id="L489">		pnl.add(new MultipleLineLabel(i18n.INSTRUCTIONS));</span>
<span class="nc" id="L490">		return pnl;</span>
	}

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>