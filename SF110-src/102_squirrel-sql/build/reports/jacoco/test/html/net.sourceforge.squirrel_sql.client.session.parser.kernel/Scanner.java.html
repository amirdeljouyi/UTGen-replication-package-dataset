<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Scanner.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">102_squirrel-sql</a> &gt; <a href="index.source.html" class="el_package">net.sourceforge.squirrel_sql.client.session.parser.kernel</a> &gt; <span class="el_source">Scanner.java</span></div><h1>Scanner.java</h1><pre class="source lang-java linenums">package net.sourceforge.squirrel_sql.client.session.parser.kernel;
import net.sourceforge.squirrel_sql.client.session.parser.kernel.ErrorStream;

import java.io.*;
import java.util.*;

<span class="nc" id="L7">class Token {</span>
	int kind;    // token kind
	int pos;     // token position in the source text (starting at 0)
	int col;     // token column (starting at 0)
	int line;    // token line (starting at 1)
	String str;  // exact string value
	String val;  // token string value (uppercase if ignoreCase)
}

public class Scanner
{



<span class="nc" id="L21">   public abstract static class Buffer</span>
   {
       public static final char eof = 65535;

       int _bufLen;
       int _pos;

       protected void setIndex(int position) {
<span class="nc bnc" id="L29" title="All 4 branches missed.">           if (position &lt; 0) position = 0; else if (position &gt;= _bufLen) position = _bufLen;</span>
<span class="nc" id="L30">           _pos = position;</span>
<span class="nc" id="L31">       }</span>
       protected abstract char read();
   }

    static class FBuffer extends Buffer
    {
        static char[] buf;

        FBuffer(File file) throws IOException
<span class="nc" id="L40">        {</span>
<span class="nc" id="L41">            _bufLen = (int) file.length();</span>

<span class="nc" id="L43">            FileReader fr = new FileReader(file);</span>
<span class="nc" id="L44">            buf = new char[_bufLen];</span>

<span class="nc" id="L46">            fr.read(buf);</span>
<span class="nc" id="L47">            _pos = 0;</span>
<span class="nc" id="L48">        }</span>
        protected char read() {
<span class="nc bnc" id="L50" title="All 2 branches missed.">            if (_pos &lt; _bufLen) return buf[_pos++];</span>
<span class="nc" id="L51">            else return eof;</span>
        }
    }

    static class SBuffer extends Buffer
    {
        String chars;

        SBuffer(String string)
<span class="nc" id="L60">        {</span>
<span class="nc" id="L61">            _bufLen = string.length();</span>
<span class="nc" id="L62">            chars = string;</span>
<span class="nc" id="L63">            _pos = 0;</span>
<span class="nc" id="L64">        }</span>
        protected char read() {
<span class="nc bnc" id="L66" title="All 2 branches missed.">            if (_pos &lt; _bufLen)</span>
<span class="nc" id="L67">                return chars.charAt(_pos++);</span>
<span class="nc" id="L68">            else return eof;</span>
        }
    }

	private static final char EOF = '\0';
	private static final char CR  = '\r';
	private static final char LF  = '\n';
	private static final int noSym = 103;
   
	/**
	 * The constants in this array are very confusing.
	 * I don't think, that the constants don't mean, what their name said. e.g. for the '*' character, the constant ParsingConstants.KW_UNION is used.
	 * Seems, that this is the result of a refactoring task.  
	 */
<span class="nc" id="L82">	private static final int[] start = {</span>
    ParsingConstants.KW_AS,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
     0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
     0,  1,  4,  1,  1,  0,  0,  ParsingConstants.KIND_OPENING_BRAKET,  ParsingConstants.KW_UNION, 22, ParsingConstants.KW_ALL, ParsingConstants.KW_INSERT, ParsingConstants.KW_DISTINCT, ParsingConstants.KW_UPDATE,  2, ParsingConstants.KIND_EQUALS,
     ParsingConstants.KW_EXCEPT,  ParsingConstants.KW_EXCEPT,  ParsingConstants.KW_EXCEPT,  ParsingConstants.KW_EXCEPT,  ParsingConstants.KW_EXCEPT,  ParsingConstants.KW_EXCEPT,  ParsingConstants.KW_EXCEPT,  ParsingConstants.KW_EXCEPT,  ParsingConstants.KW_EXCEPT,  ParsingConstants.KW_EXCEPT, ParsingConstants.KW_SET,  ParsingConstants.KW_INTERSECT, ParsingConstants.KW_INTO, ParsingConstants.KW_MINUS, ParsingConstants.KW_FROM,  0,
     1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,
     1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,
     1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,
     1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  0,  1,  1,  1,
     0};


    // set of characters to be ignored by the scanner
<span class="nc" id="L95">    private static BitSet ignore = new BitSet(128);</span>
   static {
<span class="nc" id="L97">      ignore.set(1); ignore.set(2); ignore.set(3); ignore.set(4);</span>
<span class="nc" id="L98">      ignore.set(ParsingConstants.KIND_OPENING_BRAKET); ignore.set(6); ignore.set(ParsingConstants.KW_UNION); ignore.set(ParsingConstants.KW_EXCEPT);</span>
<span class="nc" id="L99">      ignore.set(ParsingConstants.KW_INTERSECT); ignore.set(ParsingConstants.KW_MINUS); ignore.set(ParsingConstants.KW_ALL); ignore.set(ParsingConstants.KW_UPDATE);</span>
<span class="nc" id="L100">      ignore.set(ParsingConstants.KW_SET); ignore.set(ParsingConstants.KIND_EQUALS); ignore.set(ParsingConstants.KW_INSERT); ignore.set(ParsingConstants.KW_INTO);</span>
<span class="nc" id="L101">      ignore.set(ParsingConstants.KW_VALUES); ignore.set(ParsingConstants.KW_DELETE); ignore.set(ParsingConstants.KW_FROM); ignore.set(ParsingConstants.KW_SELECT);</span>
<span class="nc" id="L102">      ignore.set(ParsingConstants.KW_DISTINCT); ignore.set(22); ignore.set(ParsingConstants.KW_AS); ignore.set(ParsingConstants.KW_JOIN);</span>
<span class="nc" id="L103">      ignore.set(ParsingConstants.KW_CROSS); ignore.set(ParsingConstants.KW_NATURAL); ignore.set(ParsingConstants.KW_INNER); ignore.set(ParsingConstants.KW_FULL);</span>
<span class="nc" id="L104">      ignore.set(ParsingConstants.KW_LEFT); ignore.set(ParsingConstants.KW_RIGHT); ignore.set(ParsingConstants.KW_OUTER); ignore.set(ParsingConstants.KW_ON);</span>

<span class="nc" id="L106">    }</span>

	ErrorStream err;  // error messages

    private Buffer buf;        // data, random accessible
	protected Token t;           // current token
	protected char strCh;        // current input character (original)
	protected char ch;           // current input character (for token)
	protected char lastCh;       // last input character
	protected int pos;           // position of current character
	protected int line;          // line number of current character
	protected int lineStart;     // start position of current line

   public Scanner (Buffer buff, ErrorStream e)
<span class="nc" id="L120">	{</span>
<span class="nc" id="L121">		this.buf = buff;</span>
<span class="nc" id="L122">        init(e, &quot;&quot;);</span>
<span class="nc" id="L123">	}</span>

	private void init(ErrorStream e, String eName) {
<span class="nc" id="L126">		err = e;</span>
<span class="nc" id="L127">		err.fileName = eName;</span>

<span class="nc" id="L129">		pos = -1; line = 1; lineStart = 0; lastCh = 0;</span>
<span class="nc" id="L130">		NextCh();</span>
<span class="nc" id="L131">	}</span>

	void setPos(int position) {
<span class="nc" id="L134">	    buf.setIndex(position);</span>
<span class="nc" id="L135">	}</span>

	private void NextCh() {
<span class="nc" id="L138">		lastCh = ch;</span>
<span class="nc" id="L139">		strCh = buf.read(); pos++;</span>
<span class="nc" id="L140">		ch = Character.toUpperCase(strCh);</span>
<span class="nc bnc" id="L141" title="All 2 branches missed.">		if (ch == '\uffff') ch = EOF;</span>
<span class="nc bnc" id="L142" title="All 2 branches missed.">		else if (ch == CR) {line++; lineStart = pos + 1;}</span>
<span class="nc bnc" id="L143" title="All 2 branches missed.">		else if (ch == LF) {</span>
<span class="nc bnc" id="L144" title="All 2 branches missed.">			if (lastCh != CR) line++;</span>
<span class="nc" id="L145">			lineStart = pos + 1;</span>
		}
<span class="nc" id="L147">	}</span>

	private final boolean Comment0() {
<span class="nc" id="L150">		int level = 1, line0 = line, lineStart0 = lineStart; char startCh;</span>
<span class="nc" id="L151">		NextCh();</span>
<span class="nc bnc" id="L152" title="All 2 branches missed.">		if (ch == '-') {</span>
<span class="nc" id="L153">			NextCh();</span>
			for(;;) {
<span class="nc bnc" id="L155" title="All 2 branches missed.">				if (ch == ParsingConstants.KW_MINUS) {</span>
<span class="nc" id="L156">					level--;</span>
<span class="nc bnc" id="L157" title="All 2 branches missed.">					if (level == 0) {NextCh(); return true;}</span>
<span class="nc" id="L158">					NextCh();</span>
<span class="nc bnc" id="L159" title="All 2 branches missed.">					} else if (ch == EOF) return false;</span>
<span class="nc" id="L160">					else NextCh();</span>
				}
		} else {
<span class="nc bnc" id="L163" title="All 4 branches missed.">			if (ch == CR || ch == LF) {line--; lineStart = lineStart0;}</span>
<span class="nc" id="L164">			pos = pos - 2; setPos(pos+1); NextCh();</span>
		}
<span class="nc" id="L166">		return false;</span>
	}
	private final boolean Comment1() {
<span class="nc" id="L169">		int level = 1, line0 = line, lineStart0 = lineStart; char startCh;</span>
<span class="nc" id="L170">		NextCh();</span>
<span class="nc bnc" id="L171" title="All 2 branches missed.">		if (ch == '*') {</span>
<span class="nc" id="L172">			NextCh();</span>
			for(;;) {
<span class="nc bnc" id="L174" title="All 2 branches missed.">				if (ch == '*') {</span>
<span class="nc" id="L175">					NextCh();</span>
<span class="nc bnc" id="L176" title="All 2 branches missed.">					if (ch == '/') {</span>
<span class="nc" id="L177">						level--;</span>
<span class="nc bnc" id="L178" title="All 2 branches missed.">						if (level == 0) {NextCh(); return true;}</span>
<span class="nc" id="L179">						NextCh();</span>
					}
<span class="nc bnc" id="L181" title="All 2 branches missed.">				} else if (ch == '/') {</span>
<span class="nc" id="L182">					NextCh();</span>
<span class="nc bnc" id="L183" title="All 2 branches missed.">					if (ch == '*') {</span>
<span class="nc" id="L184">						level++; NextCh();</span>
					}
<span class="nc bnc" id="L186" title="All 2 branches missed.">					} else if (ch == EOF) return false;</span>
<span class="nc" id="L187">					else NextCh();</span>
				}
		} else {
<span class="nc bnc" id="L190" title="All 4 branches missed.">			if (ch == CR || ch == LF) {line--; lineStart = lineStart0;}</span>
<span class="nc" id="L191">			pos = pos - 2; setPos(pos+1); NextCh();</span>
		}
<span class="nc" id="L193">		return false;</span>
	}


	private void CheckLiteral(StringBuffer buf) {
<span class="nc" id="L198">		t.val = buf.toString().toUpperCase();</span>
<span class="nc bnc" id="L199" title="All 24 branches missed.">		switch (t.val.charAt(0)) {</span>
			case 'A': {
<span class="nc bnc" id="L201" title="All 2 branches missed.">				if (t.val.equals(&quot;ACTION&quot;)) t.kind = ParsingConstants.KW_ACTION;</span>
<span class="nc bnc" id="L202" title="All 2 branches missed.">				else if (t.val.equals(&quot;ADD&quot;)) t.kind = ParsingConstants.KW_ADD;</span>
<span class="nc bnc" id="L203" title="All 2 branches missed.">				else if (t.val.equals(&quot;ALL&quot;)) t.kind = ParsingConstants.KW_ALL;</span>
<span class="nc bnc" id="L204" title="All 2 branches missed.">				else if (t.val.equals(&quot;ALTER&quot;)) t.kind = ParsingConstants.KW_ALTER;</span>
<span class="nc bnc" id="L205" title="All 2 branches missed.">				else if (t.val.equals(&quot;AND&quot;)) t.kind = ParsingConstants.KW_AND;</span>
<span class="nc bnc" id="L206" title="All 2 branches missed.">				else if (t.val.equals(&quot;AS&quot;)) t.kind = ParsingConstants.KW_AS;</span>
<span class="nc bnc" id="L207" title="All 2 branches missed.">				else if (t.val.equals(&quot;ASC&quot;)) t.kind = ParsingConstants.KW_ASC;</span>
<span class="nc bnc" id="L208" title="All 2 branches missed.">				else if (t.val.equals(&quot;AVG&quot;)) t.kind = ParsingConstants.KW_AVG;</span>
				break;}
			case 'B': {
<span class="nc bnc" id="L211" title="All 2 branches missed.">				if (t.val.equals(&quot;BETWEEN&quot;)) t.kind = ParsingConstants.KW_BETWEEN;</span>
<span class="nc bnc" id="L212" title="All 2 branches missed.">				else if (t.val.equals(&quot;BY&quot;)) t.kind = ParsingConstants.KW_BY;</span>
				break;}
			case 'C': {
<span class="nc bnc" id="L215" title="All 2 branches missed.">				if (t.val.equals(&quot;CASCADE&quot;)) t.kind = ParsingConstants.KW_CASCADE;</span>
<span class="nc bnc" id="L216" title="All 2 branches missed.">				else if (t.val.equals(&quot;CHAR&quot;)) t.kind = ParsingConstants.KW_CHAR;</span>
<span class="nc bnc" id="L217" title="All 2 branches missed.">				else if (t.val.equals(&quot;CHARACTER&quot;)) t.kind = ParsingConstants.KW_CHARACTER;</span>
<span class="nc bnc" id="L218" title="All 2 branches missed.">				else if (t.val.equals(&quot;CASE&quot;)) t.kind = ParsingConstants.KW_CASE;</span>
<span class="nc bnc" id="L219" title="All 2 branches missed.">				else if (t.val.equals(&quot;CHECK&quot;)) t.kind = ParsingConstants.KW_CHECK;</span>
<span class="nc bnc" id="L220" title="All 2 branches missed.">				else if (t.val.equals(&quot;COMMIT&quot;)) t.kind = ParsingConstants.KW_COMMIT;</span>
<span class="nc bnc" id="L221" title="All 2 branches missed.">				else if (t.val.equals(&quot;CONSTRAINT&quot;)) t.kind = ParsingConstants.KW_CONSTRAINT;</span>
<span class="nc bnc" id="L222" title="All 2 branches missed.">				else if (t.val.equals(&quot;COUNT&quot;)) t.kind = ParsingConstants.KW_COUNT;</span>
<span class="nc bnc" id="L223" title="All 2 branches missed.">				else if (t.val.equals(&quot;CREATE&quot;)) t.kind = ParsingConstants.KW_CREATE;</span>
<span class="nc bnc" id="L224" title="All 2 branches missed.">				else if (t.val.equals(&quot;CROSS&quot;)) t.kind = ParsingConstants.KW_CROSS;</span>
				break;}
			case 'D': {
<span class="nc bnc" id="L227" title="All 2 branches missed.">				if (t.val.equals(&quot;DATE&quot;)) t.kind = ParsingConstants.KW_DATE;</span>
<span class="nc bnc" id="L228" title="All 2 branches missed.">				else if (t.val.equals(&quot;DEFAULT&quot;)) t.kind = ParsingConstants.KW_DEFAULT;</span>
<span class="nc bnc" id="L229" title="All 2 branches missed.">				else if (t.val.equals(&quot;DELETE&quot;)) t.kind = ParsingConstants.KW_DELETE;</span>
<span class="nc bnc" id="L230" title="All 2 branches missed.">				else if (t.val.equals(&quot;DESC&quot;)) t.kind = ParsingConstants.KW_DESC;</span>
<span class="nc bnc" id="L231" title="All 2 branches missed.">				else if (t.val.equals(&quot;DISTINCT&quot;)) t.kind = ParsingConstants.KW_DISTINCT;</span>
<span class="nc bnc" id="L232" title="All 2 branches missed.">				else if (t.val.equals(&quot;DROP&quot;)) t.kind = ParsingConstants.KW_DROP;</span>
				break;}
			case 'E': {
<span class="nc bnc" id="L235" title="All 2 branches missed.">            if (t.val.equals(&quot;ELSE&quot;)) t.kind = ParsingConstants.KW_ELSE;</span>
<span class="nc bnc" id="L236" title="All 2 branches missed.">            else if (t.val.equals(&quot;END&quot;)) t.kind = ParsingConstants.KW_END;</span>
<span class="nc bnc" id="L237" title="All 2 branches missed.">				else if (t.val.equals(&quot;ESCAPE&quot;)) t.kind = ParsingConstants.KW_ESCAPE;</span>
<span class="nc bnc" id="L238" title="All 2 branches missed.">				else if (t.val.equals(&quot;EXCEPT&quot;)) t.kind = ParsingConstants.KW_EXCEPT;</span>
				break;}
			case 'F': {
<span class="nc bnc" id="L241" title="All 2 branches missed.">				if (t.val.equals(&quot;FOREIGN&quot;)) t.kind = ParsingConstants.KW_FOREIGN;</span>
<span class="nc bnc" id="L242" title="All 2 branches missed.">				else if (t.val.equals(&quot;FROM&quot;)) t.kind = ParsingConstants.KW_FROM;</span>
<span class="nc bnc" id="L243" title="All 2 branches missed.">				else if (t.val.equals(&quot;FULL&quot;)) t.kind = ParsingConstants.KW_FULL;</span>
				break;}
			case 'G': {
<span class="nc bnc" id="L246" title="All 2 branches missed.">				if (t.val.equals(&quot;GROUP&quot;)) t.kind = ParsingConstants.KW_GROUP;</span>
				break;}
			case 'H': {
<span class="nc bnc" id="L249" title="All 2 branches missed.">				if (t.val.equals(&quot;HAVING&quot;)) t.kind = ParsingConstants.KW_HAVING;</span>
				break;}
			case 'I': {
<span class="nc bnc" id="L252" title="All 2 branches missed.">				if (t.val.equals(&quot;IN&quot;)) t.kind = ParsingConstants.KW_IN;</span>
<span class="nc bnc" id="L253" title="All 2 branches missed.">				else if (t.val.equals(&quot;INDEX&quot;)) t.kind = ParsingConstants.KW_INDEX;</span>
<span class="nc bnc" id="L254" title="All 2 branches missed.">				else if (t.val.equals(&quot;INNER&quot;)) t.kind = ParsingConstants.KW_INNER;</span>
<span class="nc bnc" id="L255" title="All 2 branches missed.">				else if (t.val.equals(&quot;INSERT&quot;)) t.kind = ParsingConstants.KW_INSERT;</span>
<span class="nc bnc" id="L256" title="All 2 branches missed.">				else if (t.val.equals(&quot;INT&quot;)) t.kind = ParsingConstants.KW_INT;</span>
<span class="nc bnc" id="L257" title="All 2 branches missed.">				else if (t.val.equals(&quot;INTEGER&quot;)) t.kind = ParsingConstants.KW_INTEGER;</span>
<span class="nc bnc" id="L258" title="All 2 branches missed.">				else if (t.val.equals(&quot;INTERSECT&quot;)) t.kind = ParsingConstants.KW_INTERSECT;</span>
<span class="nc bnc" id="L259" title="All 2 branches missed.">				else if (t.val.equals(&quot;INTO&quot;)) t.kind = ParsingConstants.KW_INTO;</span>
<span class="nc bnc" id="L260" title="All 2 branches missed.">				else if (t.val.equals(&quot;IS&quot;)) t.kind = ParsingConstants.KW_IS;</span>
				break;}
			case 'J': {
<span class="nc bnc" id="L263" title="All 2 branches missed.">				if (t.val.equals(&quot;JOIN&quot;)) t.kind = ParsingConstants.KW_JOIN;</span>
				break;}
			case 'K': {
<span class="nc bnc" id="L266" title="All 2 branches missed.">				if (t.val.equals(&quot;KEY&quot;)) t.kind = ParsingConstants.KW_KEY;</span>
				break;}
			case 'L': {
<span class="nc bnc" id="L269" title="All 2 branches missed.">				if (t.val.equals(&quot;LEFT&quot;)) t.kind = ParsingConstants.KW_LEFT;</span>
<span class="nc bnc" id="L270" title="All 2 branches missed.">				else if (t.val.equals(&quot;LIKE&quot;)) t.kind = ParsingConstants.KW_LIKE;</span>
				break;}
			case 'M': {
<span class="nc bnc" id="L273" title="All 2 branches missed.">				if (t.val.equals(&quot;MATCH&quot;)) t.kind = ParsingConstants.KW_MATCH;</span>
<span class="nc bnc" id="L274" title="All 2 branches missed.">				else if (t.val.equals(&quot;MAX&quot;)) t.kind = ParsingConstants.KW_MAX;</span>
<span class="nc bnc" id="L275" title="All 2 branches missed.">				else if (t.val.equals(&quot;MIN&quot;)) t.kind = ParsingConstants.KW_MIN;</span>
<span class="nc bnc" id="L276" title="All 2 branches missed.">				else if (t.val.equals(&quot;MINUS&quot;)) t.kind = ParsingConstants.KW_MINUS;</span>
<span class="nc bnc" id="L277" title="All 2 branches missed.">				else if (t.val.equals(&quot;MONTH&quot;)) t.kind = ParsingConstants.KW_MONTH;</span>
				break;}
			case 'N': {
<span class="nc bnc" id="L280" title="All 2 branches missed.">				if (t.val.equals(&quot;NATURAL&quot;)) t.kind = ParsingConstants.KW_NATURAL;</span>
<span class="nc bnc" id="L281" title="All 2 branches missed.">				else if (t.val.equals(&quot;NO&quot;)) t.kind = ParsingConstants.KW_NO;</span>
<span class="nc bnc" id="L282" title="All 2 branches missed.">				else if (t.val.equals(&quot;NOT&quot;)) t.kind = ParsingConstants.KW_NOT;</span>
<span class="nc bnc" id="L283" title="All 2 branches missed.">				else if (t.val.equals(&quot;NULL&quot;)) t.kind = ParsingConstants.KW_NULL;</span>
<span class="nc bnc" id="L284" title="All 2 branches missed.">				else if (t.val.equals(&quot;NUMERIC&quot;)) t.kind = ParsingConstants.KW_NUMERIC;</span>
				break;}
			case 'O': {
<span class="nc bnc" id="L287" title="All 2 branches missed.">				if (t.val.equals(&quot;ON&quot;)) t.kind = ParsingConstants.KW_ON;</span>
<span class="nc bnc" id="L288" title="All 2 branches missed.">				else if (t.val.equals(&quot;OR&quot;)) t.kind = ParsingConstants.KW_OR;</span>
<span class="nc bnc" id="L289" title="All 2 branches missed.">				else if (t.val.equals(&quot;ORDER&quot;)) t.kind = ParsingConstants.KW_ORDER;</span>
<span class="nc bnc" id="L290" title="All 2 branches missed.">				else if (t.val.equals(&quot;OUTER&quot;)) t.kind = ParsingConstants.KW_OUTER;</span>
				break;}
			case 'P': {
<span class="nc bnc" id="L293" title="All 2 branches missed.">				if (t.val.equals(&quot;PARTIAL&quot;)) t.kind = ParsingConstants.KW_PARTIAL;</span>
<span class="nc bnc" id="L294" title="All 2 branches missed.">				else if (t.val.equals(&quot;PRIMARY&quot;)) t.kind = ParsingConstants.KW_PRIMARY;</span>
				break;}
			case 'R': {
<span class="nc bnc" id="L297" title="All 2 branches missed.">				if (t.val.equals(&quot;REFERENCES&quot;)) t.kind = ParsingConstants.KW_REFERENCES;</span>
<span class="nc bnc" id="L298" title="All 2 branches missed.">				else if (t.val.equals(&quot;RESTRICT&quot;)) t.kind = ParsingConstants.KW_RESTRICT;</span>
<span class="nc bnc" id="L299" title="All 2 branches missed.">				else if (t.val.equals(&quot;RIGHT&quot;)) t.kind = ParsingConstants.KW_RIGHT;</span>
<span class="nc bnc" id="L300" title="All 2 branches missed.">				else if (t.val.equals(&quot;ROLLBACK&quot;)) t.kind = ParsingConstants.KW_ROLLBACK;</span>
				break;}
			case 'S': {
<span class="nc bnc" id="L303" title="All 2 branches missed.">				if (t.val.equals(&quot;SELECT&quot;)) t.kind = ParsingConstants.KW_SELECT;</span>
<span class="nc bnc" id="L304" title="All 2 branches missed.">				else if (t.val.equals(&quot;SET&quot;)) t.kind = ParsingConstants.KW_SET;</span>
<span class="nc bnc" id="L305" title="All 2 branches missed.">				else if (t.val.equals(&quot;SMALLINT&quot;)) t.kind = ParsingConstants.KW_SMALLINT;</span>
<span class="nc bnc" id="L306" title="All 2 branches missed.">				else if (t.val.equals(&quot;SUM&quot;)) t.kind = ParsingConstants.KW_SUM;</span>
				break;}
			case 'T': {
<span class="nc bnc" id="L309" title="All 2 branches missed.">				if (t.val.equals(&quot;TABLE&quot;)) t.kind = ParsingConstants.KW_TABLE;</span>
<span class="nc bnc" id="L310" title="All 2 branches missed.">				else if (t.val.equals(&quot;THEN&quot;)) t.kind = ParsingConstants.KW_THEN;</span>
<span class="nc bnc" id="L311" title="All 2 branches missed.">				else if (t.val.equals(&quot;TIME&quot;)) t.kind = ParsingConstants.KW_TIME;</span>
<span class="nc bnc" id="L312" title="All 2 branches missed.">				else if (t.val.equals(&quot;TIMESTAMP&quot;)) t.kind = ParsingConstants.KW_TIMESTAMP;</span>
				break;}
			case 'U': {
<span class="nc bnc" id="L315" title="All 2 branches missed.">				if (t.val.equals(&quot;UNION&quot;)) t.kind = ParsingConstants.KW_UNION;</span>
<span class="nc bnc" id="L316" title="All 2 branches missed.">				else if (t.val.equals(&quot;UNIQUE&quot;)) t.kind = ParsingConstants.KW_UNIQUE;</span>
<span class="nc bnc" id="L317" title="All 2 branches missed.">				else if (t.val.equals(&quot;UPDATE&quot;)) t.kind = ParsingConstants.KW_UPDATE;</span>
<span class="nc bnc" id="L318" title="All 2 branches missed.">				else if (t.val.equals(&quot;UPPER&quot;)) t.kind = ParsingConstants.KW_UPPER;</span>
<span class="nc bnc" id="L319" title="All 2 branches missed.">				else if (t.val.equals(&quot;USING&quot;)) t.kind = ParsingConstants.KW_USING;</span>
				break;}
			case 'V': {
<span class="nc bnc" id="L322" title="All 2 branches missed.">				if (t.val.equals(&quot;VALUES&quot;)) t.kind = ParsingConstants.KW_VALUES;</span>
<span class="nc bnc" id="L323" title="All 2 branches missed.">				else if (t.val.equals(&quot;VARCHAR&quot;)) t.kind = ParsingConstants.KW_VARCHAR;</span>
<span class="nc bnc" id="L324" title="All 2 branches missed.">				else if (t.val.equals(&quot;VIEW&quot;)) t.kind = ParsingConstants.KW_VIEW;</span>
				break;}
			case 'W': {
<span class="nc bnc" id="L327" title="All 2 branches missed.">				if (t.val.equals(&quot;WHERE&quot;)) t.kind = ParsingConstants.KW_WHERE;</span>
<span class="nc bnc" id="L328" title="All 2 branches missed.">				else if (t.val.equals(&quot;WHEN&quot;)) t.kind = ParsingConstants.KW_WHEN;</span>
<span class="nc bnc" id="L329" title="All 2 branches missed.">				else if (t.val.equals(&quot;WORK&quot;)) t.kind = ParsingConstants.KW_WORK;</span>
				break;}
			case 'Y': {
<span class="nc bnc" id="L332" title="All 2 branches missed.">				if (t.val.equals(&quot;YEAR&quot;)) t.kind = ParsingConstants.KW_YEAR;</span>
				break;}
		}
<span class="nc" id="L335">	}</span>

	Token Scan() {
<span class="nc bnc" id="L338" title="All 2 branches missed.">		while (ignore.get((int)ch)) NextCh();</span>
<span class="nc bnc" id="L339" title="All 8 branches missed.">		if (ch == '-' &amp;&amp; Comment0()  || ch == '/' &amp;&amp; Comment1() ) return Scan();</span>
<span class="nc" id="L340">		t = new Token();</span>
<span class="nc" id="L341">		t.pos = pos; t.col = pos - lineStart + 1; t.line = line;</span>
<span class="nc" id="L342">		StringBuffer buf = new StringBuffer();</span>
		int state;
<span class="nc bnc" id="L344" title="All 2 branches missed.">		if(ch &lt; start.length){</span>
			// the start state is only defined for the first 128 characters.
<span class="nc" id="L346">			state = start[ch];</span>
		}else{
			// for the rest, assume the value 1;
<span class="nc" id="L349">			state = 1;</span>
		}
		loop: for (;;) {
<span class="nc" id="L352">			buf.append(strCh);</span>
<span class="nc" id="L353">			NextCh();</span>
<span class="nc bnc" id="L354" title="All 25 branches missed.">			switch (state) {</span>
				case 0:
<span class="nc" id="L356">					{t.kind = noSym; break loop;} // NextCh already done</span>
				case 1:
<span class="nc bnc" id="L358" title="All 16 branches missed.">					if ((ch == '!'</span>
					  || ch &gt;= '#' &amp;&amp; ch &lt;= '$'
					  || ch &gt;= '0' &amp;&amp; ch &lt;= '9'
					  || ch &gt;= '@' &amp;&amp; ch &lt;= '{'
<span class="nc" id="L362">					  || ch &gt;= '}')) {break;}</span>
<span class="nc" id="L363">					else {t.kind = 1; CheckLiteral(buf); break loop;}</span>
				case 2:
<span class="nc bnc" id="L365" title="All 4 branches missed.">					if ((ch &gt;= '0' &amp;&amp; ch &lt;= '9')) {state = 3; break;}</span>
<span class="nc" id="L366">					else {t.kind = 22; break loop;}</span>
				case 3:
<span class="nc bnc" id="L368" title="All 4 branches missed.">					if ((ch &gt;= '0' &amp;&amp; ch &lt;= '9')) {break;}</span>
<span class="nc" id="L369">					else {t.kind = 3; break loop;}</span>
				case 4:
<span class="nc bnc" id="L371" title="All 6 branches missed.">					if ((ch &gt;= ' ' &amp;&amp; ch &lt;= '!'</span>
<span class="nc" id="L372">					  || ch &gt;= '#')) {break;}</span>
<span class="nc bnc" id="L373" title="All 2 branches missed.">					else if (ch == '&quot;') {state = 6; break;}</span>
<span class="nc" id="L374">					else {t.kind = noSym; break loop;}</span>
				case ParsingConstants.KIND_OPENING_BRAKET:
<span class="nc bnc" id="L376" title="All 6 branches missed.">					if ((ch &gt;= ' ' &amp;&amp; ch &lt;= '&amp;'</span>
<span class="nc" id="L377">					  || ch &gt;= '(')) {break;}</span>
<span class="nc bnc" id="L378" title="All 2 branches missed.">					else if (ch == 39) {state = 6; break;}</span>
<span class="nc" id="L379">					else {t.kind = noSym; break loop;}</span>
				case 6:
<span class="nc" id="L381">					{t.kind = 4; break loop;}</span>
				case ParsingConstants.KW_UNION:
<span class="nc" id="L383">					{t.kind = ParsingConstants.KIND_OPENING_BRAKET; break loop;}</span>
				case ParsingConstants.KW_EXCEPT:
<span class="nc bnc" id="L385" title="All 4 branches missed.">					if ((ch &gt;= '0' &amp;&amp; ch &lt;= '9')) {break;}</span>
<span class="nc bnc" id="L386" title="All 2 branches missed.">					else if (ch == '.') {state = 2; break;}</span>
<span class="nc" id="L387">					else {t.kind = 2; break loop;}</span>
				case ParsingConstants.KW_INTERSECT:
<span class="nc" id="L389">					{t.kind = 6; break loop;}</span>
				case ParsingConstants.KW_MINUS:
<span class="nc" id="L391">					{t.kind = ParsingConstants.KIND_EQUALS; break loop;}</span>
				case ParsingConstants.KW_ALL:
<span class="nc" id="L393">					{t.kind = ParsingConstants.KIND_ASTERISK; break loop;}</span>
				case ParsingConstants.KW_UPDATE:
<span class="nc" id="L395">					{t.kind = ParsingConstants.KW_MINUS_SIGN; break loop;}</span>
				case ParsingConstants.KW_SET:
<span class="nc" id="L397">					{t.kind = 53; break loop;}</span>
				case ParsingConstants.KIND_EQUALS:
<span class="nc" id="L399">					{t.kind = 55; break loop;}</span>
				case ParsingConstants.KW_INSERT:
<span class="nc" id="L401">					{t.kind = 56; break loop;}</span>
				case ParsingConstants.KW_INTO:
<span class="nc bnc" id="L403" title="All 2 branches missed.">					if (ch == '&gt;') {state = ParsingConstants.KW_VALUES; break;}</span>
<span class="nc bnc" id="L404" title="All 2 branches missed.">					else if (ch == '=') {state = ParsingConstants.KW_DELETE; break;}</span>
<span class="nc" id="L405">					else {t.kind = 63; break loop;}</span>
				case ParsingConstants.KW_VALUES:
<span class="nc" id="L407">					{t.kind = 62; break loop;}</span>
				case ParsingConstants.KW_DELETE:
<span class="nc" id="L409">					{t.kind = 64; break loop;}</span>
				case ParsingConstants.KW_FROM:
<span class="nc bnc" id="L411" title="All 2 branches missed.">					if (ch == '=') {state = ParsingConstants.KW_SELECT; break;}</span>
<span class="nc" id="L412">					else {t.kind = 65; break loop;}</span>
				case ParsingConstants.KW_SELECT:
<span class="nc" id="L414">					{t.kind = 66; break loop;}</span>
				case ParsingConstants.KW_DISTINCT:
<span class="nc" id="L416">					{t.kind = ParsingConstants.KIND_COMMA; break loop;}</span>
				case 22:
<span class="nc" id="L418">					{t.kind = ParsingConstants.KIND_CLOSING_BRAKET; break loop;}</span>
				case ParsingConstants.KW_AS:
<span class="nc" id="L420">					{t.kind = 0; break loop;}</span>
			}
		}
<span class="nc" id="L423">		t.str = buf.toString();</span>
<span class="nc" id="L424">		t.val = t.str.toUpperCase();</span>
<span class="nc" id="L425">		return t;</span>
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>