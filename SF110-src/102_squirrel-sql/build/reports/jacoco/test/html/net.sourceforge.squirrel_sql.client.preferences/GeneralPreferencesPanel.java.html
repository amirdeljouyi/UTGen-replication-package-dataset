<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>GeneralPreferencesPanel.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">102_squirrel-sql</a> &gt; <a href="index.source.html" class="el_package">net.sourceforge.squirrel_sql.client.preferences</a> &gt; <span class="el_source">GeneralPreferencesPanel.java</span></div><h1>GeneralPreferencesPanel.java</h1><pre class="source lang-java linenums">package net.sourceforge.squirrel_sql.client.preferences;
/*
 * Copyright (C) 2001-2004 Colin Bell
 * colbell@users.sourceforge.net
 *
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 2.1 of the License, or (at your option) any later version.
 *
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public
 * License along with this library; if not, write to the Free Software
 * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
 */
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.ArrayList;

import javax.swing.BorderFactory;
import javax.swing.BoxLayout;
import javax.swing.ButtonGroup;
import javax.swing.JCheckBox;
import javax.swing.JComboBox;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JRadioButton;
import javax.swing.JScrollPane;
import javax.swing.JTextField;
import javax.swing.border.EmptyBorder;

import com.jidesoft.swing.MultilineLabel;
import net.sourceforge.squirrel_sql.client.ApplicationArguments;
import net.sourceforge.squirrel_sql.client.IApplication;
import net.sourceforge.squirrel_sql.client.util.ApplicationFiles;
import net.sourceforge.squirrel_sql.fw.util.LocaleUtils;
import net.sourceforge.squirrel_sql.fw.util.StringManager;
import net.sourceforge.squirrel_sql.fw.util.StringManagerFactory;

import org.apache.commons.lang.StringUtils;

class GeneralPreferencesPanel implements IGlobalPreferencesPanel
{
	/** Internationalized strings for this class. */
<span class="nc" id="L50">	private static final StringManager s_stringMgr =</span>
<span class="nc" id="L51">		StringManagerFactory.getStringManager(GeneralPreferencesPanel.class);</span>

	/** Panel to be displayed in preferences dialog. */
	private MyPanel _myPanel;
	private JScrollPane _myScrollPane;

	/** Application API. */
	private IApplication _app;

	/**
	 * Default ctor.
	 */
	public GeneralPreferencesPanel()
	{
<span class="nc" id="L65">		super();</span>
<span class="nc" id="L66">	}</span>

	public void initialize(IApplication app)
	{
<span class="nc bnc" id="L70" title="All 2 branches missed.">		if (app == null)</span>
		{
<span class="nc" id="L72">			throw new IllegalArgumentException(&quot;IApplication == null&quot;);</span>
		}

<span class="nc" id="L75">		_app = app;</span>

<span class="nc" id="L77">		getPanelComponent();</span>
<span class="nc" id="L78">      _myPanel.loadData(_app.getSquirrelPreferences());</span>

<span class="nc" id="L80">   }</span>

   public void uninitialize(IApplication app)
   {
<span class="nc" id="L84">   }</span>

   public synchronized Component getPanelComponent()
	{
<span class="nc bnc" id="L88" title="All 2 branches missed.">		if (_myPanel == null)</span>
		{
<span class="nc" id="L90">			_myPanel = new MyPanel();</span>
<span class="nc" id="L91">         _myScrollPane = new JScrollPane(_myPanel);</span>
      }
<span class="nc" id="L93">		return _myScrollPane;</span>
	}

	public void applyChanges()
	{
<span class="nc" id="L98">		_myPanel.applyChanges(_app.getSquirrelPreferences());</span>
<span class="nc" id="L99">	}</span>

	public String getTitle()
	{
<span class="nc" id="L103">		return s_stringMgr.getString(&quot;GeneralPreferencesPanel.tabtitle&quot;);</span>
	}

	public String getHint()
	{
<span class="nc" id="L108">		return s_stringMgr.getString(&quot;GeneralPreferencesPanel.tabhint&quot;);</span>
	}

    @SuppressWarnings(&quot;serial&quot;)
	private static final class MyPanel extends JPanel
	{

<span class="nc" id="L115">      private JRadioButton _tabbedStyle = new JRadioButton(s_stringMgr.getString(&quot;GeneralPreferencesPanel.tabbedStyle&quot;));      </span>
<span class="nc" id="L116">      private JRadioButton _internalFrameStyle = new JRadioButton(s_stringMgr.getString(&quot;GeneralPreferencesPanel.internalFrameStyle&quot;));</span>
<span class="nc" id="L117">      private JCheckBox _useScrollableTabbedPanesForSessionTabs = new JCheckBox(s_stringMgr.getString(&quot;GeneralPreferencesPanel.useScrollableTabbedPanesForSessionTabs&quot;));</span>
<span class="nc" id="L118">      private JCheckBox _showContents = new JCheckBox(s_stringMgr.getString(&quot;GeneralPreferencesPanel.showwindowcontents&quot;));</span>
<span class="nc" id="L119">      private JCheckBox _maximimizeSessionSheet = new JCheckBox(s_stringMgr.getString(&quot;GeneralPreferencesPanel.maxonopen&quot;));</span>
<span class="nc" id="L120">      private JCheckBox _showTabbedStyleHint = new JCheckBox(s_stringMgr.getString(&quot;GeneralPreferencesPanel.showTabbedStyleHint&quot;));</span>


<span class="nc" id="L123">      private JCheckBox _showAliasesToolBar = new JCheckBox(s_stringMgr.getString(&quot;GeneralPreferencesPanel.showaliasestoolbar&quot;));</span>
<span class="nc" id="L124">      private JCheckBox _showDriversToolBar = new JCheckBox(s_stringMgr.getString(&quot;GeneralPreferencesPanel.showdriverstoolbar&quot;));</span>
<span class="nc" id="L125">      private JCheckBox _showMainStatusBar = new JCheckBox(s_stringMgr.getString(&quot;GeneralPreferencesPanel.showmainwinstatusbar&quot;));</span>
<span class="nc" id="L126">      private JCheckBox _showMainToolBar = new JCheckBox(s_stringMgr.getString(&quot;GeneralPreferencesPanel.showmainwintoolbar&quot;));</span>
<span class="nc" id="L127">      private JCheckBox _showToolTips = new JCheckBox(s_stringMgr.getString(&quot;GeneralPreferencesPanel.showtooltips&quot;));</span>
<span class="nc" id="L128">      private JCheckBox _useScrollableTabbedPanes = new JCheckBox(s_stringMgr.getString(&quot;GeneralPreferencesPanel.usescrolltabs&quot;));</span>

<span class="nc" id="L130">      private JCheckBox _showColoriconsInToolbar = new JCheckBox(s_stringMgr.getString(&quot;GeneralPreferencesPanel.showcoloricons&quot;));</span>
<span class="nc" id="L131">      private JCheckBox _showPluginFilesInSplashScreen = new JCheckBox(s_stringMgr.getString(&quot;GeneralPreferencesPanel.showpluginfiles&quot;));</span>
//      private JLabel _executionLogFileNameLbl = new OutputLabel(&quot; &quot;);
//      // Must have at least 1 blank otherwise width gets set to zero.
//      private JLabel _logConfigFileNameLbl = new OutputLabel(&quot; &quot;);
//      // Must have at least 1 blank otherwise width gets set to zero.
<span class="nc" id="L136">      private JCheckBox _confirmSessionCloseChk = new JCheckBox(s_stringMgr.getString(&quot;GeneralPreferencesPanel.confirmSessionClose&quot;));</span>
<span class="nc" id="L137">      private JCheckBox _warnJreJdbcMismatch = new JCheckBox(s_stringMgr.getString(&quot;GeneralPreferencesPanel.warnJreJdbcMismatch&quot;));</span>
<span class="nc" id="L138">      private JCheckBox _warnForUnsavedFileEdits = new JCheckBox(s_stringMgr.getString(&quot;GeneralPreferencesPanel.warnForUnsavedFileEdits&quot;));</span>
<span class="nc" id="L139">      private JCheckBox _warnForUnsavedBufferEdits = new JCheckBox(s_stringMgr.getString(&quot;GeneralPreferencesPanel.warnForUnsavedBufferEdits&quot;));</span>
<span class="nc" id="L140">      private JCheckBox _showSessionStartupTimeHint = new JCheckBox(s_stringMgr.getString(&quot;GeneralPreferencesPanel.showSessionStartupTimeHint&quot;));</span>
<span class="nc" id="L141">      private JCheckBox _savePreferencesImmediately = new JCheckBox(s_stringMgr.getString(&quot;GeneralPreferencesPanel.savePreferencesImmediately&quot;));</span>
<span class="nc" id="L142">      private JCheckBox _selectOnRightMouseClick = new JCheckBox(s_stringMgr.getString(&quot;GeneralPreferencesPanel.selectOnRightMouseClick&quot;));</span>
<span class="nc" id="L143">      private JCheckBox _showPleaseWaitDialog = new JCheckBox(s_stringMgr.getString(&quot;GeneralPreferencesPanel.showPleaseWaitDialog&quot;));</span>
<span class="nc" id="L144">      private JLabel _localeChooserLabel = new JLabel(s_stringMgr.getString(&quot;GeneralPreferencesPanel.localeChooserLabel&quot;));</span>
      
<span class="nc" id="L146">      ArrayList&lt;String&gt; localeDisplayStrings = new ArrayList&lt;String&gt;();</span>
            
<span class="nc" id="L148">      private JComboBox _localeChooser = new JComboBox(LocaleUtils.getAvailableLocaleStrings());</span>
	
      
      
      MyPanel()
		{
<span class="nc" id="L154">			super(new GridBagLayout());</span>
<span class="nc" id="L155">			createUserInterface();</span>
<span class="nc" id="L156">		}</span>

      void loadData(SquirrelPreferences prefs)
      {
<span class="nc" id="L160">         _tabbedStyle.setSelected(prefs.getTabbedStyle());</span>
<span class="nc" id="L161">         _useScrollableTabbedPanesForSessionTabs.setSelected(prefs.getUseScrollableTabbedPanesForSessionTabs());</span>
<span class="nc bnc" id="L162" title="All 2 branches missed.">         _internalFrameStyle.setSelected(!prefs.getTabbedStyle());</span>
<span class="nc" id="L163">         onStyleChanged();</span>
<span class="nc" id="L164">         _showTabbedStyleHint.setSelected(prefs.getShowTabbedStyleHint());</span>


<span class="nc" id="L167">         _showContents.setSelected(prefs.getShowContentsWhenDragging());</span>
<span class="nc" id="L168">         _maximimizeSessionSheet.setSelected(prefs.getMaximizeSessionSheetOnOpen());</span>

<span class="nc" id="L170">         _showToolTips.setSelected(prefs.getShowToolTips());</span>
<span class="nc" id="L171">         _useScrollableTabbedPanes.setSelected(prefs.getUseScrollableTabbedPanes());</span>
<span class="nc" id="L172">         _showMainStatusBar.setSelected(prefs.getShowMainStatusBar());</span>
<span class="nc" id="L173">         _showMainToolBar.setSelected(prefs.getShowMainToolBar());</span>
<span class="nc" id="L174">         _showAliasesToolBar.setSelected(prefs.getShowAliasesToolBar());</span>
<span class="nc" id="L175">         _showDriversToolBar.setSelected(prefs.getShowDriversToolBar());</span>
<span class="nc" id="L176">         _showColoriconsInToolbar.setSelected(prefs.getShowColoriconsInToolbar());</span>
<span class="nc" id="L177">         _showPluginFilesInSplashScreen.setSelected(prefs.getShowPluginFilesInSplashScreen());</span>

<span class="nc" id="L179">         _confirmSessionCloseChk.setSelected(prefs.getConfirmSessionClose());</span>
<span class="nc" id="L180">         _warnJreJdbcMismatch.setSelected(prefs.getWarnJreJdbcMismatch());</span>
<span class="nc" id="L181">         _warnForUnsavedFileEdits.setSelected(prefs.getWarnForUnsavedFileEdits());</span>
<span class="nc" id="L182">         _warnForUnsavedBufferEdits.setSelected(prefs.getWarnForUnsavedBufferEdits());</span>
<span class="nc" id="L183">         _showSessionStartupTimeHint.setSelected(prefs.getShowSessionStartupTimeHint());</span>
<span class="nc" id="L184">         _savePreferencesImmediately.setSelected(prefs.getSavePreferencesImmediately());</span>
<span class="nc" id="L185">         _selectOnRightMouseClick.setSelected(prefs.getSelectOnRightMouseClick());</span>
<span class="nc" id="L186">         _showPleaseWaitDialog.setSelected(prefs.getShowPleaseWaitDialog());</span>
<span class="nc" id="L187">         String preferredLocalString = prefs.getPreferredLocale();</span>
<span class="nc bnc" id="L188" title="All 2 branches missed.">         if (StringUtils.isEmpty(preferredLocalString))</span>
         {
<span class="nc" id="L190">            preferredLocalString = &quot;en_US&quot;;</span>
         }
<span class="nc" id="L192">         _localeChooser.setSelectedItem(preferredLocalString);</span>

<span class="nc" id="L194">         _tabbedStyle.addActionListener(new ActionListener()</span>
<span class="nc" id="L195">         {</span>
            public void actionPerformed(ActionEvent e)
            {
<span class="nc" id="L198">               onStyleChanged();</span>
<span class="nc" id="L199">            }</span>
         });

<span class="nc" id="L202">         _internalFrameStyle.addActionListener(new ActionListener()</span>
<span class="nc" id="L203">         {</span>
            public void actionPerformed(ActionEvent e)
            {
<span class="nc" id="L206">               onStyleChanged();</span>
<span class="nc" id="L207">            }</span>
         });

<span class="nc" id="L210">      }</span>

      private void onStyleChanged()
      {
<span class="nc" id="L214">         _useScrollableTabbedPanesForSessionTabs.setEnabled(_tabbedStyle.isSelected());</span>
<span class="nc" id="L215">         _showContents.setEnabled(_internalFrameStyle.isSelected());</span>
<span class="nc" id="L216">         _maximimizeSessionSheet.setEnabled(_internalFrameStyle.isSelected());</span>
<span class="nc" id="L217">         _showTabbedStyleHint.setEnabled(_internalFrameStyle.isSelected());</span>
<span class="nc" id="L218">      }</span>

      void applyChanges(SquirrelPreferences prefs)
		{
<span class="nc" id="L222">         prefs.setTabbedStyle(_tabbedStyle.isSelected());</span>
<span class="nc" id="L223">         prefs.setUseScrollableTabbedPanesForSessionTabs(_useScrollableTabbedPanesForSessionTabs.isSelected());</span>
<span class="nc" id="L224">         prefs.setShowContentsWhenDragging(_showContents.isSelected());</span>
<span class="nc" id="L225">         prefs.setShowTabbedStyleHint(_showTabbedStyleHint.isSelected());</span>
<span class="nc" id="L226">         prefs.setShowToolTips(_showToolTips.isSelected());</span>
<span class="nc" id="L227">         prefs.setUseScrollableTabbedPanes(_useScrollableTabbedPanes.isSelected());</span>
<span class="nc" id="L228">         prefs.setShowMainStatusBar(_showMainStatusBar.isSelected());</span>
<span class="nc" id="L229">         prefs.setShowMainToolBar(_showMainToolBar.isSelected());</span>
<span class="nc" id="L230">         prefs.setShowAliasesToolBar(_showAliasesToolBar.isSelected());</span>
<span class="nc" id="L231">         prefs.setShowDriversToolBar(_showDriversToolBar.isSelected());</span>
<span class="nc" id="L232">         prefs.setMaximizeSessionSheetOnOpen(_maximimizeSessionSheet.isSelected());</span>
<span class="nc" id="L233">         prefs.setShowColoriconsInToolbar(_showColoriconsInToolbar.isSelected());</span>
<span class="nc" id="L234">         prefs.setShowPluginFilesInSplashScreen(_showPluginFilesInSplashScreen.isSelected());</span>
<span class="nc" id="L235">         prefs.setConfirmSessionClose(_confirmSessionCloseChk.isSelected());</span>
<span class="nc" id="L236">         prefs.setWarnJreJdbcMismatch(_warnJreJdbcMismatch.isSelected());</span>
<span class="nc" id="L237">         prefs.setWarnForUnsavedFileEdits(_warnForUnsavedFileEdits.isSelected());</span>
<span class="nc" id="L238">         prefs.setWarnForUnsavedBufferEdits(_warnForUnsavedBufferEdits.isSelected());</span>
<span class="nc" id="L239">         prefs.setShowSessionStartupTimeHint(_showSessionStartupTimeHint.isSelected());</span>
<span class="nc" id="L240">         prefs.setSavePreferencesImmediately(_savePreferencesImmediately.isSelected());</span>
<span class="nc" id="L241">         prefs.setSelectOnRightMouseClick(_selectOnRightMouseClick.isSelected());</span>
<span class="nc" id="L242">         prefs.setShowPleaseWaitDialog(_showPleaseWaitDialog.isSelected());</span>
<span class="nc" id="L243">         prefs.setPreferredLocale(_localeChooser.getSelectedItem().toString());</span>
<span class="nc" id="L244">      }</span>

		private void createUserInterface()
		{
<span class="nc" id="L248">			final GridBagConstraints gbc = new GridBagConstraints();</span>
<span class="nc" id="L249">			gbc.fill = GridBagConstraints.HORIZONTAL;</span>
<span class="nc" id="L250">			gbc.anchor = GridBagConstraints.NORTHWEST;</span>
<span class="nc" id="L251">			gbc.insets = new Insets(4, 4, 4, 4);</span>
<span class="nc" id="L252">			gbc.gridx = 0;</span>
<span class="nc" id="L253">			gbc.gridy = 0;</span>
<span class="nc" id="L254">			gbc.weightx = 1;</span>
<span class="nc" id="L255">			add(createAppearancePanel(), gbc);</span>
<span class="nc" id="L256">			++gbc.gridx;</span>
<span class="nc" id="L257">			add(createGeneralPanel(), gbc);</span>
<span class="nc" id="L258">			gbc.gridx = 0;</span>
<span class="nc" id="L259">			++gbc.gridy;</span>
<span class="nc" id="L260">			gbc.gridwidth = 2;</span>
<span class="nc" id="L261">			add(createLoggingPanel(), gbc);</span>
<span class="nc" id="L262">         gbc.gridx = 0;</span>
<span class="nc" id="L263">         ++gbc.gridy;</span>
<span class="nc" id="L264">         gbc.gridwidth = 2;</span>
<span class="nc" id="L265">         add(createPathsPanel(), gbc);</span>
<span class="nc" id="L266">		}</span>

		private JPanel createAppearancePanel()
		{
<span class="nc" id="L270">			final JPanel pnl = new JPanel(new GridBagLayout());</span>
<span class="nc" id="L271">			pnl.setBorder(BorderFactory.createTitledBorder(s_stringMgr.getString(&quot;GeneralPreferencesPanel.appearance&quot;)));</span>
<span class="nc" id="L272">			pnl.setLayout(new GridBagLayout());</span>

<span class="nc" id="L274">         ButtonGroup g = new ButtonGroup();</span>
         
<span class="nc" id="L276">         g.add(_tabbedStyle);</span>
<span class="nc" id="L277">         g.add(_internalFrameStyle);</span>
<span class="nc" id="L278">			final GridBagConstraints gbc = new GridBagConstraints();</span>
<span class="nc" id="L279">			gbc.fill = GridBagConstraints.HORIZONTAL;</span>
<span class="nc" id="L280">			gbc.insets = new Insets(2, 4, 2, 4);</span>
<span class="nc" id="L281">			gbc.gridx = 0;</span>
<span class="nc" id="L282">			gbc.weightx = 1;</span>
<span class="nc" id="L283">         gbc.insets.top = 0;</span>

<span class="nc" id="L285">         gbc.gridy = 0;</span>
<span class="nc" id="L286">         _tabbedStyle.setName(&quot;tabbedStyleRadioButton&quot;);</span>
<span class="nc" id="L287">			pnl.add(_tabbedStyle, gbc);</span>
<span class="nc" id="L288">         ++gbc.gridy;</span>
<span class="nc" id="L289">         _internalFrameStyle.setName(&quot;internalFrameStyleRadioButton&quot;);</span>
<span class="nc" id="L290">         pnl.add(_internalFrameStyle, gbc);</span>
<span class="nc" id="L291">         ++gbc.gridy;</span>
         
<span class="nc" id="L293">         _useScrollableTabbedPanesForSessionTabs.setName(&quot;useScrollableTabbedPanes&quot;);</span>
<span class="nc" id="L294">			pnl.add(_useScrollableTabbedPanesForSessionTabs, gbc);</span>
<span class="nc" id="L295">         ++gbc.gridy;</span>

<span class="nc" id="L297">         _showContents.setName(&quot;showContentsCheckBox&quot;);</span>
<span class="nc" id="L298">			pnl.add(_showContents, gbc);</span>
<span class="nc" id="L299">         ++gbc.gridy;</span>
<span class="nc" id="L300">         _maximimizeSessionSheet.setName(&quot;maximizeSessionSheetCheckBox&quot;);</span>
<span class="nc" id="L301">         pnl.add(_maximimizeSessionSheet, gbc);</span>
<span class="nc" id="L302">         ++gbc.gridy;</span>
<span class="nc" id="L303">         _showTabbedStyleHint.setName(&quot;showTabbedStyleHintCheckBox&quot;);</span>
<span class="nc" id="L304">         pnl.add(_showTabbedStyleHint, gbc);</span>


<span class="nc" id="L307">			++gbc.gridy;</span>
<span class="nc" id="L308">			pnl.add(_showToolTips, gbc);</span>
<span class="nc" id="L309">			++gbc.gridy;</span>
<span class="nc" id="L310">			pnl.add(_useScrollableTabbedPanes, gbc);</span>
<span class="nc" id="L311">			++gbc.gridy;</span>
<span class="nc" id="L312">			pnl.add(_showMainToolBar, gbc);</span>
<span class="nc" id="L313">			++gbc.gridy;</span>
<span class="nc" id="L314">			pnl.add(_showMainStatusBar, gbc);</span>
<span class="nc" id="L315">			++gbc.gridy;</span>
<span class="nc" id="L316">			pnl.add(_showDriversToolBar, gbc);</span>
<span class="nc" id="L317">			++gbc.gridy;</span>
<span class="nc" id="L318">			pnl.add(_showAliasesToolBar, gbc);</span>
<span class="nc" id="L319">			++gbc.gridy;</span>
<span class="nc" id="L320">			pnl.add(_showColoriconsInToolbar, gbc);</span>
<span class="nc" id="L321">         ++gbc.gridy;</span>
<span class="nc" id="L322">         pnl.add(_showPluginFilesInSplashScreen, gbc);</span>

<span class="nc" id="L324">			return pnl;</span>
		}
		private JPanel createGeneralPanel()
		{
<span class="nc" id="L328">			final JPanel pnl = new JPanel();</span>
<span class="nc" id="L329">			pnl.setBorder(BorderFactory.createTitledBorder(s_stringMgr.getString(</span>
											&quot;GeneralPreferencesPanel.general&quot;)));
<span class="nc" id="L331">			pnl.setLayout(new GridBagLayout());</span>

<span class="nc" id="L333">         final GridBagConstraints gbc = new GridBagConstraints();</span>
<span class="nc" id="L334">         gbc.fill = GridBagConstraints.HORIZONTAL;</span>
<span class="nc" id="L335">         gbc.insets = new Insets(2, 4, 2, 4);</span>
<span class="nc" id="L336">         gbc.gridx = 0;</span>
<span class="nc" id="L337">         gbc.gridy = 0;</span>
<span class="nc" id="L338">         gbc.weightx = 1;</span>
<span class="nc" id="L339">         pnl.add(_confirmSessionCloseChk, gbc);</span>

<span class="nc" id="L341">         gbc.gridx = 0;</span>
<span class="nc" id="L342">         gbc.gridy = 1;</span>
<span class="nc" id="L343">         pnl.add(_warnJreJdbcMismatch, gbc);</span>

<span class="nc" id="L345">         gbc.gridx = 0;</span>
<span class="nc" id="L346">         gbc.gridy = 2;</span>
<span class="nc" id="L347">         pnl.add(_warnForUnsavedFileEdits, gbc);</span>

<span class="nc" id="L349">         gbc.gridx = 0;</span>
<span class="nc" id="L350">         gbc.gridy = 3;</span>
<span class="nc" id="L351">         pnl.add(_warnForUnsavedBufferEdits, gbc);</span>

<span class="nc" id="L353">         gbc.gridx = 0;</span>
<span class="nc" id="L354">         gbc.gridy = 4;</span>
<span class="nc" id="L355">         pnl.add(_showSessionStartupTimeHint, gbc);</span>

<span class="nc" id="L357">         gbc.gridx = 0;</span>
<span class="nc" id="L358">         gbc.gridy = 5;</span>
<span class="nc" id="L359">         pnl.add(getSavePreferencesImmediatelyPanel(), gbc);</span>

<span class="nc" id="L361">         gbc.gridx = 0;</span>
<span class="nc" id="L362">         gbc.gridy = 6;</span>
<span class="nc" id="L363">         pnl.add(_selectOnRightMouseClick, gbc);</span>

<span class="nc" id="L365">         gbc.gridx = 0;</span>
<span class="nc" id="L366">         gbc.gridy = 7;</span>
<span class="nc" id="L367">         pnl.add(_showPleaseWaitDialog, gbc);</span>

<span class="nc" id="L369">         _localeChooser.setBorder(new EmptyBorder(5, 20, 5, 30));</span>
<span class="nc" id="L370">         JPanel localePanel = new JPanel();</span>
<span class="nc" id="L371">         BoxLayout layout = new BoxLayout(localePanel, BoxLayout.X_AXIS);</span>
<span class="nc" id="L372">         localePanel.setLayout(layout);</span>
<span class="nc" id="L373">         localePanel.add(_localeChooserLabel);</span>
<span class="nc" id="L374">         localePanel.add(_localeChooser);</span>
         
<span class="nc" id="L376">         gbc.gridx = 0;</span>
<span class="nc" id="L377">         gbc.gridy = 8;</span>
<span class="nc" id="L378">         pnl.add(localePanel, gbc);</span>
         
         
<span class="nc" id="L381">         return pnl;</span>
		}

      private JPanel getSavePreferencesImmediatelyPanel()
      {
<span class="nc" id="L386">         JPanel ret = new JPanel(new BorderLayout(3,3));</span>

<span class="nc" id="L388">         ret.add(new MultilineLabel(s_stringMgr.getString(&quot;GeneralPreferencesPanel.savePreferencesImmediatelyWarning&quot;)), BorderLayout.CENTER);</span>
<span class="nc" id="L389">         ret.add(_savePreferencesImmediately, BorderLayout.SOUTH);</span>

<span class="nc" id="L391">         ret.setBorder(BorderFactory.createEtchedBorder());</span>
<span class="nc" id="L392">         return ret;</span>
      }


      private JPanel createLoggingPanel()
		{
<span class="nc" id="L398">			final JPanel pnl = new JPanel();</span>
<span class="nc" id="L399">			pnl.setBorder(BorderFactory.createTitledBorder(s_stringMgr.getString(&quot;GeneralPreferencesPanel.logging&quot;)));</span>

<span class="nc" id="L401">			pnl.setLayout(new GridBagLayout());</span>
<span class="nc" id="L402">			final GridBagConstraints gbc = new GridBagConstraints();</span>
<span class="nc" id="L403">			gbc.fill = GridBagConstraints.HORIZONTAL;</span>
<span class="nc" id="L404">         gbc.fill = GridBagConstraints.NONE;</span>
<span class="nc" id="L405">         gbc.insets = new Insets(2, 4, 2, 4);</span>
<span class="nc" id="L406">         gbc.anchor = GridBagConstraints.NORTHWEST;</span>

<span class="nc" id="L408">         ApplicationFiles appFiles = new ApplicationFiles();</span>
<span class="nc" id="L409">         String execLogFile = appFiles.getExecutionLogFile().getPath();</span>
<span class="nc" id="L410">         String configFile = ApplicationArguments.getInstance().getLoggingConfigFileName();</span>
<span class="nc bnc" id="L411" title="All 2 branches missed.">         configFile = null == configFile ? s_stringMgr.getString(&quot;GeneralPreferencesPanel.unspecified&quot;) :configFile;</span>

<span class="nc" id="L413">         gbc.gridx = 0;</span>
<span class="nc" id="L414">			gbc.gridy = 0;</span>
<span class="nc" id="L415">         JTextField execLogFileField = new JTextField(s_stringMgr.getString(&quot;GeneralPreferencesPanel.execlogfileNew&quot;, execLogFile));</span>
<span class="nc" id="L416">         execLogFileField.setEditable(false);</span>
<span class="nc" id="L417">         execLogFileField.setBackground(pnl.getBackground());</span>
<span class="nc" id="L418">         execLogFileField.setBorder(null);</span>
<span class="nc" id="L419">         pnl.add(execLogFileField, gbc);</span>

<span class="nc" id="L421">			++gbc.gridy;</span>
<span class="nc" id="L422">         JTextField configFileField = new JTextField(s_stringMgr.getString(&quot;GeneralPreferencesPanel.configfileNew&quot;, configFile));</span>
<span class="nc" id="L423">         configFileField.setEditable(false);</span>
<span class="nc" id="L424">         configFileField.setBackground(pnl.getBackground());</span>
<span class="nc" id="L425">         configFileField.setBorder(null);</span>
<span class="nc" id="L426">         pnl.add(configFileField, gbc);</span>

<span class="nc" id="L428">         gbc.weightx = 1.0;</span>

<span class="nc" id="L430">         gbc.gridy = 0;</span>
<span class="nc" id="L431">         ++gbc.gridx;</span>
<span class="nc" id="L432">         pnl.add(new JPanel(), gbc);</span>

<span class="nc" id="L434">         ++gbc.gridy;</span>
<span class="nc" id="L435">         pnl.add(new JPanel(), gbc);</span>

<span class="nc" id="L437">         return pnl;</span>
		}

      private JPanel createPathsPanel()
      {
<span class="nc" id="L442">         final JPanel pnl = new JPanel();</span>
         // i18n[GeneralPreferencesPanel.paths=SQuirreL paths]
<span class="nc" id="L444">         pnl.setBorder(BorderFactory.createTitledBorder(s_stringMgr.getString(&quot;GeneralPreferencesPanel.paths&quot;)));</span>

<span class="nc" id="L446">         pnl.setLayout(new GridBagLayout());</span>
<span class="nc" id="L447">         final GridBagConstraints gbc = new GridBagConstraints();</span>
<span class="nc" id="L448">         gbc.fill = GridBagConstraints.NONE;</span>
<span class="nc" id="L449">         gbc.insets = new Insets(2, 4, 2, 4);</span>
<span class="nc" id="L450">         gbc.anchor = GridBagConstraints.NORTHWEST; </span>

<span class="nc" id="L452">         ApplicationFiles appFiles = new ApplicationFiles();</span>
<span class="nc" id="L453">         String userDir = appFiles.getUserSettingsDirectory().getPath();</span>
<span class="nc" id="L454">         String homeDir = appFiles.getSquirrelHomeDir().getPath();</span>


<span class="nc" id="L457">         gbc.gridx = 0;</span>
<span class="nc" id="L458">         gbc.gridy = 0;</span>
         // i18n[GeneralPreferencesPanel.squirrelHomePath=Home directory: -home {0}]
<span class="nc" id="L460">         JTextField homePathField = new JTextField(s_stringMgr.getString(&quot;GeneralPreferencesPanel.squirrelHomePath&quot;, homeDir));</span>
<span class="nc" id="L461">         homePathField.setEditable(false);</span>
<span class="nc" id="L462">         homePathField.setBackground(pnl.getBackground());</span>
<span class="nc" id="L463">         homePathField.setBorder(null);</span>
<span class="nc" id="L464">         pnl.add(homePathField, gbc);</span>

<span class="nc" id="L466">         ++gbc.gridy;</span>
         // i18n[GeneralPreferencesPanel.squirrelUserPath=User directory: -userdir {0}]
<span class="nc" id="L468">         JTextField userPathField = new JTextField(s_stringMgr.getString(&quot;GeneralPreferencesPanel.squirrelUserPath&quot;, userDir));</span>
<span class="nc" id="L469">         userPathField.setEditable(false);</span>
<span class="nc" id="L470">         userPathField.setBackground(pnl.getBackground());</span>
<span class="nc" id="L471">         userPathField.setBorder(null);</span>
<span class="nc" id="L472">         pnl.add(userPathField, gbc);</span>

<span class="nc" id="L474">         gbc.weightx = 1.0;</span>

<span class="nc" id="L476">         gbc.gridy = 0;</span>
<span class="nc" id="L477">         ++gbc.gridx;</span>
<span class="nc" id="L478">         pnl.add(new JPanel(), gbc);</span>

<span class="nc" id="L480">         ++gbc.gridy;</span>
<span class="nc" id="L481">         pnl.add(new JPanel(), gbc);</span>

<span class="nc" id="L483">         return pnl;</span>
      }


   }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>