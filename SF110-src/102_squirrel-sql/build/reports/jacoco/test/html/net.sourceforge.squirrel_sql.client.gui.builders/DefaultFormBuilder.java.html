<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>DefaultFormBuilder.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">102_squirrel-sql</a> &gt; <a href="index.source.html" class="el_package">net.sourceforge.squirrel_sql.client.gui.builders</a> &gt; <span class="el_source">DefaultFormBuilder.java</span></div><h1>DefaultFormBuilder.java</h1><pre class="source lang-java linenums">/*
 * Copyright (c) 2003 JGoodies Karsten Lentzsch. All Rights Reserved.
 *
 * Redistribution and use in source and binary forms, with or without 
 * modification, are permitted provided that the following conditions are met:
 * 
 *  o Redistributions of source code must retain the above copyright notice, 
 *    this list of conditions and the following disclaimer. 
 *     
 *  o Redistributions in binary form must reproduce the above copyright notice, 
 *    this list of conditions and the following disclaimer in the documentation 
 *    and/or other materials provided with the distribution. 
 *     
 *  o Neither the name of JGoodies Karsten Lentzsch nor the names of 
 *    its contributors may be used to endorse or promote products derived 
 *    from this software without specific prior written permission. 
 *     
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; 
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, 
 * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR 
 * PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
 * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, 
 * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, 
 * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; 
 * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE 
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, 
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. 
 */package net.sourceforge.squirrel_sql.client.gui.builders;
import java.awt.Component;
import java.util.ResourceBundle;

import javax.swing.JComponent;
import javax.swing.JLabel;
import javax.swing.JPanel;
import com.jgoodies.forms.factories.FormFactory;
import com.jgoodies.forms.layout.ConstantSize;
import com.jgoodies.forms.layout.FormLayout;
import com.jgoodies.forms.layout.RowSpec;
/** * Provides a means to build consistent form-oriented panels quickly
 * using the {@link FormLayout}. This builder combines frequently used
 * panel building steps: add a new row, add a label, proceed to the next 
 * data column, then add a component.
 * &lt;p&gt;
 * This builder can map resource keys to internationalized (i15d) texts
 * when creating text labels, titles and titled separators. Therefore
 * you must specify a &lt;code&gt;ResourceBundle&lt;/code&gt; in the constructor.
 * The builder methods throw an &lt;code&gt;IllegalStateException&lt;/code&gt;
 * if one of the mapping builder methods is invoked and no bundle has been set.
 * &lt;p&gt;
 * This class is not yet part of the binary Forms library; 
 * it comes with the Forms distributions as an extra.
 * &lt;b&gt;The API is work in progress and may change without notice.&lt;/b&gt;
 * If you want to use this class, you may consider copying it into your codebase.
 * &lt;p&gt;
 * &lt;b&gt;Example:&lt;/b&gt;
 * &lt;pre&gt;
 * public void build() {
 *     FormLayout layout = new FormLayout(
 *         &quot;right:max(40dlu;pref), 3dlu, 80dlu, 7dlu, &quot; // 1st major colum
 *       + &quot;right:max(40dlu;pref), 3dlu, 80dlu&quot;,        // 2nd major column
 *         &quot;&quot;);                                         // add rows dynamically
 *     DefaultFormBuilder builder = new DefaultFormBuilder(layout);
 *     builder.setDefaultDialogBorder();
 *
 *     builder.appendSeparator(&quot;Flange&quot;);
 *
 *     builder.append(&quot;Identifier&quot;, identifierField);
 *     builder.nextLine();
 *
 *     builder.append(&quot;PTI [kW]&quot;,   new JTextField());          
 *     builder.append(&quot;Power [kW]&quot;, new JTextField());
 *
 *     builder.append(&quot;s [mm]&quot;,     new JTextField());
 *     builder.nextLine();
 *
 *     builder.appendSeparator(&quot;Diameters&quot;);
 *
 *     builder.append(&quot;da [mm]&quot;,    new JTextField());          
 *     builder.append(&quot;di [mm]&quot;,    new JTextField());
 *
 *     builder.append(&quot;da2 [mm]&quot;,   new JTextField());          
 *     builder.append(&quot;di2 [mm]&quot;,   new JTextField());
 *
 *     builder.append(&quot;R [mm]&quot;,     new JTextField());          
 *     builder.append(&quot;D [mm]&quot;,     new JTextField());
 *
 *     builder.appendSeparator(&quot;Criteria&quot;);
 *
 *     builder.append(&quot;Location&quot;,   buildLocationComboBox());   
 *     builder.append(&quot;k-factor&quot;,   new JTextField());
 *
 *     builder.appendSeparator(&quot;Bolts&quot;);
 *
 *     builder.append(&quot;Material&quot;,   ViewerUIFactory.buildMaterialComboBox());
 *     builder.nextLine();
 *
 *     builder.append(&quot;Numbers&quot;,    new JTextField());
 *     builder.nextLine();
 *
 *     builder.append(&quot;ds [mm]&quot;,    new JTextField());
 * }
 * &lt;/pre&gt;
 *
 * @author	Karsten Lentzsch
 * @see	com.jgoodies.forms.builder.AbstractFormBuilder
 * @see	com.jgoodies.forms.factories.FormFactory
 * @see	com.jgoodies.forms.layout.FormLayout
 */
public final class DefaultFormBuilder extends I15dPanelBuilder {
    /**
     * Holds the row specification that is reused to describe
     * the constant gaps between component lines.
     */
<span class="nc" id="L115">    private RowSpec lineGapSpec = FormFactory.LINE_GAP_ROWSPEC;</span>
    /**
     * Holds the row specification that describes the constant gaps 
     * between paragraphs.
     */
<span class="nc" id="L120">    private RowSpec paragraphGapSpec = FormFactory.PARAGRAPH_GAP_ROWSPEC;</span>
    /**
     * Holds the offset of the leading column - often 0 or 1.
     */
<span class="nc" id="L124">    private int leadingColumnOffset = 0;</span>
    /**
     * Determines wether new data rows are being grouped or not. 
     */
<span class="nc" id="L128">    private boolean rowGroupingEnabled = false;</span>
    // Instance Creation ****************************************************
    /**     * Constructs an instance of &lt;code&gt;DefaultFormBuilder&lt;/code&gt; for the given
     * layout.
     * 
     * @param layout	the &lt;code&gt;FormLayout&lt;/code&gt; to be used
     */    
    public DefaultFormBuilder(FormLayout layout) {
<span class="nc" id="L136">        this(new JPanel(), layout);</span>
<span class="nc" id="L137">    }</span>
    /**
     * Constructs an instance of &lt;code&gt;DefaultFormBuilder&lt;/code&gt; for the given
     * panel and layout.
     * 
     * @param panel		the layout container
     * @param layout		the &lt;code&gt;FormLayout&lt;/code&gt; to be used
     */    
    public DefaultFormBuilder(JPanel panel, FormLayout layout) {
<span class="nc" id="L146">        this(panel, layout, null);</span>
<span class="nc" id="L147">    }</span>
    /**
     * Constructs an instance of &lt;code&gt;DefaultFormBuilder&lt;/code&gt; for the given
     * layout and resource bundle.
     * 
     * @param layout    the &lt;code&gt;FormLayout&lt;/code&gt; to be used
     * @param bundle    the &lt;code&gt;ResourceBundle&lt;/code&gt; used to lookup i15d
     * strings
     */    
    public DefaultFormBuilder(FormLayout layout, ResourceBundle bundle) {
<span class="nc" id="L157">        this(new JPanel(), layout, bundle);</span>
<span class="nc" id="L158">    }</span>
    /**
     * Constructs an instance of &lt;code&gt;DefaultFormBuilder&lt;/code&gt; for the given
     * panel, layout and resource bundle.
     * 
     * @param panel     the layout container
     * @param layout    the &lt;code&gt;FormLayout&lt;/code&gt; to be used
     * @param bundle    the &lt;code&gt;ResourceBundle&lt;/code&gt; used to lookup i15d
     * strings
     */    
    public DefaultFormBuilder(JPanel panel, FormLayout layout, ResourceBundle bundle) {
<span class="nc" id="L169">        super(panel, layout, bundle);</span>
<span class="nc" id="L170">    }</span>
    // Settings Gap Sizes ***************************************************
    /**
     * Sets the size of gaps between component lines using the given 
     * constant size.
     *  
     * @param lineGapSize   the &lt;coide&gt;ConstantSize&lt;/code&gt; that describes 
     *     the size of the gaps between component lines
     */
    public void setLineGapSize(ConstantSize lineGapSize) {
<span class="nc" id="L180">        RowSpec rowSpec = FormFactory.createGapRowSpec(lineGapSize);</span>
        // No longer supported in version 1.0.4/1.0.5 which are the oldest available versions in maven 
        // central repo
        //
        //this.lineGapSpec = rowSpec.asUnmodifyable();
<span class="nc" id="L185">        this.lineGapSpec = rowSpec ;</span>
<span class="nc" id="L186">    }</span>
    /**
     * Returns the row specification that is used to separate component lines.
     *  
     * @return the &lt;code&gt;RowSpec&lt;/code&gt; that is used to separate lines 
     */
    public RowSpec getLineGapSpec() {
<span class="nc" id="L193">        return lineGapSpec;</span>
    }
    /**
     * Sets the size of gaps between paragraphs using the given 
     * constant size.
     *  
     * @param paragraphGapSize   the &lt;coide&gt;ConstantSize&lt;/code&gt; that describes 
     *     the size of the gaps between paragraphs
     */
    public void setParagraphGapSize(ConstantSize paragraphGapSize) {
<span class="nc" id="L203">        RowSpec rowSpec = FormFactory.createGapRowSpec(paragraphGapSize);</span>
        // No longer supported in version 1.0.4/1.0.5 which are the oldest available versions in maven 
        // central repo
        //        
        //this.paragraphGapSpec = rowSpec.asUnmodifyable();
<span class="nc" id="L208">        this.paragraphGapSpec = rowSpec;</span>
<span class="nc" id="L209">    }</span>
    /**
     * Returns the offset of the leading column, often 0 or 1.
     * 
     * @return the offset of the leading column
     */
    public int getLeadingColumnOffset() {
<span class="nc" id="L216">        return leadingColumnOffset;</span>
    }
    /**
     * Sets the offset of the leading column, often 0 or 1.
     * 
     * @param columnOffset  the new offset of the leading column
     */
    public void setLeadingColumnOffset(int columnOffset) {
<span class="nc" id="L224">        this.leadingColumnOffset = columnOffset;</span>
<span class="nc" id="L225">    }</span>
    /**
     * Returns whether new data rows are being grouped or not.
     * 
     * @return true indicates grouping enabled, false disabled
     */
    public boolean isRowGroupingEnabled() {
<span class="nc" id="L232">        return rowGroupingEnabled;</span>
    }
    /**
     * Enables or disables the grouping of new data rows.
     * 
     * @param enabled  indicates grouping enabled, false disabled
     */
    public void setRowGroupingEnabled(boolean enabled) {
<span class="nc" id="L240">        rowGroupingEnabled = enabled;</span>
<span class="nc" id="L241">    }</span>
    // Filling Columns ******************************************************
    /**
     * Adds a component to the panel using the default constraints.
     * Proceeds to the next data column.
     * 
     * @param component	the component to add
     */
    public void append(Component component) {
<span class="nc" id="L250">        append(component, 1);</span>
<span class="nc" id="L251">    }</span>
    /**
     * Adds a component to the panel using the default constraints with
     * the given columnSpan. Proceeds to the next data column.
     * 
     * @param component the component to append
     * @param columnSpan    the column span used to add 
     */
    public void append(Component component, int columnSpan) {
<span class="nc" id="L260">        ensureCursorColumnInGrid();</span>
<span class="nc" id="L261">        ensureHasGapRow(lineGapSpec);</span>
<span class="nc" id="L262">        ensureHasComponentLine();</span>
<span class="nc" id="L263">        setColumnSpan(columnSpan);</span>
<span class="nc" id="L264">        add(component);</span>
<span class="nc" id="L265">        setColumnSpan(1);</span>
<span class="nc" id="L266">        nextColumn(columnSpan + 1);</span>
<span class="nc" id="L267">    }</span>
    /**
     * Adds two components to the panel; each component will span a single
     * data column. Proceeds to the next data column.
     * 
     * @param c1    the first component to add
     * @param c2    the second component to add
     */    
    public void append(Component c1, Component c2) {
<span class="nc" id="L276">        append(c1);</span>
<span class="nc" id="L277">        append(c2);</span>
<span class="nc" id="L278">    }</span>
    /**
     * Adds three components to the panel; each component will span a single
     * data column. Proceeds to the next data column.
     * 
     * @param c1    the first component to add
     * @param c2    the second component to add
     * @param c3    the third component to add
     */    
    public void append(Component c1, Component c2, Component c3) {
<span class="nc" id="L288">        append(c1);</span>
<span class="nc" id="L289">        append(c2);</span>
<span class="nc" id="L290">        append(c3);</span>
<span class="nc" id="L291">    }</span>
    // Appending Labels with optional components ------------------------------
    /**
     * Adds a text label to the panel and proceeds to the next column.
     * 
     * @param textWithMnemonic  the label's text - may mark a mnemonic
     * @return the added label
     */
    public JLabel append(String textWithMnemonic) {
<span class="nc" id="L300">        JLabel label = getComponentFactory().createLabel(textWithMnemonic);</span>
<span class="nc" id="L301">        append(label);</span>
<span class="nc" id="L302">        return label;</span>
    }
    /**
     * Adds a text label and component to the panel. 
     * Then proceeds to the next data column.
     * 
     * @param textWithMnemonic  the label's text - may mark a mnemonic
     * @param component         the component to add
     * @return the added label
     */    
    public JLabel append(String textWithMnemonic, Component component) {
<span class="nc" id="L313">        return append(textWithMnemonic, component, 1);</span>
    }
    /**
     * Adds a text label and component to the panel; the component will span
     * the specified number columns. Proceeds to the next data column.
     * &lt;p&gt;
     * The created label is labelling the given component; so the component
     * gets the focus if the (optional) label mnemonic is pressed.
     * 
     * @param textWithMnemonic  the label's text - may mark a mnemonic
     * @param c                 the component to add
     * @param columnSpan        number of columns the component shall span
     * @return the added label
     * @see JLabel#setLabelFor
     */    
    public JLabel append(String textWithMnemonic, Component c, int columnSpan) {
<span class="nc" id="L329">        JLabel label = append(textWithMnemonic);</span>
<span class="nc" id="L330">        label.setLabelFor(c);</span>
<span class="nc" id="L331">        append(c, columnSpan);</span>
<span class="nc" id="L332">        return label;</span>
    }
    /**
     * Adds a text label and two components to the panel; each component
     * will span a single column. Proceeds to the next data column.
     * 
     * @param textWithMnemonic  the label's text - may mark a mnemonic
     * @param c1    the first component to add
     * @param c2    the second component to add
     * @return the added label
     */    
    public JLabel append(String textWithMnemonic, Component c1, Component c2) {
<span class="nc" id="L344">        JLabel label = append(textWithMnemonic, c1);</span>
<span class="nc" id="L345">        append(c2);</span>
<span class="nc" id="L346">        return label;</span>
    }
    /**
     * Adds a text label and two components to the panel; each component
     * will span a single column. Proceeds to the next data column.
     * 
     * @param textWithMnemonic  the label's text - may mark a mnemonic
     * @param c1      the first component to add
     * @param c2      the second component to add
     * @param colSpan the column span for the second component
     */    
    public void append(String textWithMnemonic, Component c1, Component c2, int colSpan) {
<span class="nc" id="L358">        append(textWithMnemonic, c1);</span>
<span class="nc" id="L359">        append(c2, colSpan);</span>
<span class="nc" id="L360">    }</span>
    /**
     * Adds a text label and three components to the panel; each component
     * will span a single column. Proceeds to the next data column.
     * 
     * @param textWithMnemonic  the label's text - may mark a mnemonic
     * @param c1    the first component to add
     * @param c2    the second component to add
     * @param c3    the third component to add
     * @return the added label
     */    
    public JLabel append(String textWithMnemonic, Component c1, Component c2, Component c3) {
<span class="nc" id="L372">        JLabel label = append(textWithMnemonic, c1, c2);</span>
<span class="nc" id="L373">        append(c3);</span>
<span class="nc" id="L374">        return label;</span>
    }
    /**
     * Adds a text label and four components to the panel; each component
     * will span a single column. Proceeds to the next data column.
     * 
     * @param textWithMnemonic  the label's text - may mark a mnemonic
     * @param c1    the first component to add
     * @param c2    the second component to add
     * @param c3    the third component to add
     * @param c4    the fourth component to add
     * @return the added label
     */    
    public JLabel append(String textWithMnemonic, Component c1, Component c2, Component c3, Component c4) {
<span class="nc" id="L388">        JLabel label = append(textWithMnemonic, c1, c2, c3);</span>
<span class="nc" id="L389">        append(c4);</span>
<span class="nc" id="L390">        return label;</span>
    }
    // Appending internationalized labels with optional components ------------
    /**
     * Adds an internationalized (i15d) text label to the panel using 
     * the given resource key and proceeds to the next column.
     * 
     * @param resourceKey      the resource key for the the label's text
     * @return the added label
     */
    public JLabel appendI15d(String resourceKey) {
<span class="nc" id="L401">        return append(getI15dString(resourceKey));</span>
    }
    /**
     * Adds an internationalized (i15d) text label to the panel using the given resource key; 
     * then proceeds to the next data column and adds a component with 
     * the given column span. Proceeds to the next data column.
     * 
     * @param resourceKey  the resource key for the text to add
     * @param c           the component to add
     * @param columnSpan  number of columns the component shall span
     * @return the added label
     */    
    public JLabel appendI15d(String resourceKey, Component c, int columnSpan) {
<span class="nc" id="L414">        JLabel label = appendI15d(resourceKey);</span>
<span class="nc" id="L415">        append(c, columnSpan);</span>
<span class="nc" id="L416">        return label;</span>
    }
    /**
     * Adds an internationalized (i15d) text label and component to the panel. 
     * Then proceeds to the next data column.
     * 
     * @param resourceKey  the resource key for the text to add
     * @param component  the component to add
     * @return the added label
     */    
    public JLabel appendI15d(String resourceKey, Component component) {
<span class="nc" id="L427">        return appendI15d(resourceKey, component, 1);</span>
    }
    /**
     * Adds an internationalized (i15d) text label and component to the panel. 
     * Then proceeds to the next data column.
     * Goes to the next line if the boolean flag is set.
     * 
     * @param resourceKey  the resource key for the text to add
     * @param component    the component to add
     * @param nextLine     true forces a next line
     * @return the added label
     */    
    public JLabel appendI15d(String resourceKey, Component component, boolean nextLine) {
<span class="nc" id="L440">        JLabel label = appendI15d(resourceKey, component, 1);</span>
<span class="nc bnc" id="L441" title="All 2 branches missed.">        if (nextLine) {</span>
<span class="nc" id="L442">            nextLine();</span>
        }
<span class="nc" id="L444">        return label;</span>
    }
    /**
     * Adds an internationalized (i15d) text label and two components to the panel; each component
     * will span a single column. Proceeds to the next data column.
     * 
     * @param resourceKey  the resource key for the text to add
     * @param c1    the first component to add
     * @param c2    the second component to add
     * @return the added label
     */    
    public JLabel appendI15d(String resourceKey, Component c1, Component c2) {
<span class="nc" id="L456">        JLabel label = appendI15d(resourceKey, c1);</span>
<span class="nc" id="L457">        append(c2);</span>
<span class="nc" id="L458">        return label;</span>
    }
    /**
     * Adds an internationalized (i15d) text label and two components to the panel; each component
     * will span a single column. Proceeds to the next data column.
     * 
     * @param resourceKey  the resource key for the text to add
     * @param c1      the first component to add
     * @param c2      the second component to add
     * @param colSpan the column span for the second component
     * @return the added label
     */    
    public JLabel appendI15d(String resourceKey, Component c1, Component c2, int colSpan) {
<span class="nc" id="L471">        JLabel label = appendI15d(resourceKey, c1);</span>
<span class="nc" id="L472">        append(c2, colSpan);</span>
<span class="nc" id="L473">        return label;</span>
    }
    /**
     * Adds an internationalized (i15d) text label and three components to the panel; each component
     * will span a single column. Proceeds to the next data column.
     * 
     * @param resourceKey  the resource key for the text to add
     * @param c1    the first component to add
     * @param c2    the second component to add
     * @param c3    the third component to add
     * @return the added label
     */    
    public JLabel appendI15d(String resourceKey, Component c1, Component c2, Component c3) {
<span class="nc" id="L486">        JLabel label = appendI15d(resourceKey, c1, c2);</span>
<span class="nc" id="L487">        append(c3);</span>
<span class="nc" id="L488">        return label;</span>
    }
    /**
     * Adds an internationalized (i15d) text label and four components to the panel; 
     * each component will span a single column. Proceeds to the next data column.
     * 
     * @param resourceKey  the resource key for the text to add
     * @param c1    the first component to add
     * @param c2    the second component to add
     * @param c3    the third component to add
     * @param c4    the third component to add
     * @return the added label
     */    
    public JLabel appendI15d(String resourceKey, Component c1, Component c2, Component c3, Component c4) {
<span class="nc" id="L502">        JLabel label = appendI15d(resourceKey, c1, c2, c3);</span>
<span class="nc" id="L503">        append(c4);</span>
<span class="nc" id="L504">        return label;</span>
    }
    // Adding Titles ----------------------------------------------------------
    /**
     * Adds a title label to the panel and proceeds to the next column.
     * 
     * @param textWithMnemonic  the label's text - may mark a mnemonic
     * @return the added title label
     */
    public JLabel appendTitle(String textWithMnemonic) {
<span class="nc" id="L514">        JLabel titleLabel = getComponentFactory().createTitle(textWithMnemonic);</span>
<span class="nc" id="L515">        append(titleLabel);</span>
<span class="nc" id="L516">        return titleLabel;</span>
    }
    /**
     * Adds an internationalized title label to the panel and 
     * proceeds to the next column.
     * 
     * @param resourceKey   the resource key for the title's text
     * @return the added title label
     */
    public JLabel appendI15dTitle(String resourceKey) {
<span class="nc" id="L526">        return appendTitle(getI15dString(resourceKey));</span>
    }
    // Appending Separators ---------------------------------------------------
    /**
     * Adds a separator without text that spans all columns.
     * 
     * @return the added titled separator 
     */
    public JComponent appendSeparator() {
<span class="nc" id="L535">        return appendSeparator(&quot;&quot;);</span>
    }
    /**
     * Adds a separator with the given text that spans all columns.
     * 
     * @param text      the separator title text
     * @return the added titled separator 
     */
    public JComponent appendSeparator(String text) {
<span class="nc" id="L544">        ensureCursorColumnInGrid();</span>
<span class="nc" id="L545">        ensureHasGapRow(paragraphGapSpec);</span>
<span class="nc" id="L546">        ensureHasComponentLine();</span>
<span class="nc" id="L547">        setColumn(super.getLeadingColumn());</span>
<span class="nc" id="L548">        int columnSpan = getColumnCount();</span>
<span class="nc" id="L549">        setColumnSpan(getColumnCount());</span>
<span class="nc" id="L550">        JComponent titledSeparator = addSeparator(text);</span>
<span class="nc" id="L551">        setColumnSpan(1);</span>
<span class="nc" id="L552">        nextColumn(columnSpan);</span>
<span class="nc" id="L553">        return titledSeparator;</span>
    }
    /**
     * Appends an internationalized titled separator for 
     * the given resource key that spans all columns.
     * 
     * @param resourceKey   the resource key for the separator title's text
     */
    public void appendI15dSeparator(String resourceKey) {
<span class="nc" id="L562">        appendSeparator(getI15dString(resourceKey));</span>
<span class="nc" id="L563">    }</span>
    // Overriding Superclass Behavior ***************************************
    /**
     * Returns the leading column. Unlike the superclass we take a 
     * column offset into account.
     * 
     * @return the leading column
     */
    protected int getLeadingColumn() {
<span class="nc" id="L572">        int column = super.getLeadingColumn();</span>
<span class="nc" id="L573">        return column + getLeadingColumnOffset() * getColumnIncrementSign();</span>
    }
    // Adding Rows **********************************************************
    /**
     * Ensures that the cursor is in the grid. In case it's beyond the 
     * form's right hand side, the cursor is moved to the leading column
     * of the next line.
     */
    private void ensureCursorColumnInGrid() {
<span class="nc bnc" id="L582" title="All 2 branches missed.">        if (getColumn() &gt; getColumnCount()) {</span>
<span class="nc" id="L583">            nextLine();</span>
        }
<span class="nc" id="L585">    }</span>
    /**
     * Ensures that we have a gap row before the next component row.
     * Checks if the current row is the given &lt;code&gt;RowSpec&lt;/code&gt;
     * and appends this row spec if necessary.
     * 
     * @param gapRowSpec  the row specification to check for
     */
    private void ensureHasGapRow(RowSpec gapRowSpec) {
<span class="nc bnc" id="L594" title="All 4 branches missed.">        if ((getRow() == 1) || (getRow() &lt;= getRowCount()))</span>
<span class="nc" id="L595">            return;</span>
<span class="nc bnc" id="L596" title="All 2 branches missed.">        if (getRow() &lt;= getRowCount()) {</span>
<span class="nc" id="L597">            RowSpec rowSpec = getCursorRowSpec();</span>
<span class="nc bnc" id="L598" title="All 2 branches missed.">            if ((rowSpec == gapRowSpec))</span>
<span class="nc" id="L599">                return;</span>
        }
<span class="nc" id="L601">        appendRow(gapRowSpec);</span>
<span class="nc" id="L602">        nextLine();</span>
<span class="nc" id="L603">    }</span>
    /**
     * Ensures that the form has a component row. Adds a component row
     * if the cursor is beyond the form's bottom.
     */
    private void ensureHasComponentLine() {
<span class="nc bnc" id="L609" title="All 2 branches missed.">        if (getRow() &lt;= getRowCount()) return;</span>
<span class="nc" id="L610">        appendRow(FormFactory.PREF_ROWSPEC);  </span>
<span class="nc bnc" id="L611" title="All 2 branches missed.">        if (isRowGroupingEnabled()) {</span>
<span class="nc" id="L612">            getLayout().addGroupedRow(getRow());</span>
        }      
<span class="nc" id="L614">    }</span>
    /**
     * Looks up and answers the row specification of the current row.
     *  
     * @return the row specification of the current row
     */
    private RowSpec getCursorRowSpec() {
<span class="nc" id="L621">        return getLayout().getRowSpec(getRow());</span>
    }
    
    
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>