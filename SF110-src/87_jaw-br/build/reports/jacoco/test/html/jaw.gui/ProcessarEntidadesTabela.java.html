<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ProcessarEntidadesTabela.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">87_jaw-br</a> &gt; <a href="index.source.html" class="el_package">jaw.gui</a> &gt; <span class="el_source">ProcessarEntidadesTabela.java</span></div><h1>ProcessarEntidadesTabela.java</h1><pre class="source lang-java linenums">/*
 * ProcessarEntidadesTabela.java
 *
 * Created on 13 de Maio de 2007, 12:59
 */
package jaw.gui;

import java.util.List;
import java.util.Vector;
import javax.swing.JOptionPane;
import jaw.metamodelo.Atributo;
import jaw.metamodelo.Entidade;

/**
 *
 * @author  robson
 */
public class ProcessarEntidadesTabela extends ProcessarEntidades {

    /** Creates new form ProcessarEntidadesTabela */
<span class="fc" id="L21">    private List&lt;Entidade&gt; entidades = new Vector();</span>
<span class="fc" id="L22">    private Atributo atributo = new Atributo();</span>
<span class="fc" id="L23">    private int entidadeSelecionada = -1;</span>
<span class="fc" id="L24">    private int atributoSelecionado = -1;</span>
<span class="fc" id="L25">    private String nomeArquivoSalvo = &quot;Novo Projeto&quot;;</span>

<span class="fc" id="L27">    public ProcessarEntidadesTabela() {</span>
<span class="fc" id="L28">        this.setLocation(420, 200);</span>
<span class="fc" id="L29">        initComponents();</span>
<span class="fc" id="L30">    }</span>

    public List&lt;Entidade&gt; selecionarEntidades() {
<span class="nc" id="L33">        int[] linhas = jTable1.getSelectedRows();</span>
<span class="nc" id="L34">        Vector&lt;Entidade&gt; lista = new Vector();</span>
<span class="nc bnc" id="L35" title="All 2 branches missed.">        for (int i = 0; i &lt; linhas.length; i++) {</span>
<span class="nc" id="L36">            lista.add((Entidade) jTable1.getValueAt(linhas[i], 0));</span>
        }
<span class="nc" id="L38">        return lista;</span>
    }

    public void removerEntidades() {
<span class="nc" id="L42">        int[] linhas = jTable1.getSelectedRows();</span>
<span class="nc bnc" id="L43" title="All 2 branches missed.">        for (int i = 0; i &lt; linhas.length; i++) {</span>
<span class="nc" id="L44">            this.getEntidades().remove(linhas[i]);</span>
        }
<span class="nc" id="L46">        this.atualizarEntidades();</span>
<span class="nc" id="L47">    }</span>

    public void carregarEntidades(List&lt;Entidade&gt; entidades) {
<span class="nc" id="L50">        this.setEntidades(entidades);</span>
<span class="nc" id="L51">        ((javax.swing.table.DefaultTableModel) jTable1.getModel()).setRowCount(0);</span>
<span class="nc" id="L52">        java.util.Collections.sort(this.getEntidades());</span>
<span class="nc bnc" id="L53" title="All 2 branches missed.">        for (int i = 0; i &lt; entidades.size(); i++) {</span>
<span class="nc" id="L54">            ((javax.swing.table.DefaultTableModel) jTable1.getModel()).addRow(new Object[]{this.getEntidades().get(i), this.getEntidades().get(i).getPacote()});</span>
        }
<span class="nc" id="L56">    }</span>

    public void atualizarEntidades() {
<span class="nc" id="L59">        ((javax.swing.table.DefaultTableModel) jTable1.getModel()).setRowCount(0);</span>
<span class="nc" id="L60">        java.util.Collections.sort(this.getEntidades());</span>
<span class="nc bnc" id="L61" title="All 2 branches missed.">        for (int i = 0; i &lt; this.getEntidades().size(); i++) {</span>
<span class="nc" id="L62">            ((javax.swing.table.DefaultTableModel) jTable1.getModel()).addRow(new Object[]{this.getEntidades().get(i), this.getEntidades().get(i).getPacote()});</span>
        }

<span class="nc" id="L65">    }</span>

    public void listarAtributos() {
<span class="nc" id="L68">        ((javax.swing.table.DefaultTableModel) jTable2.getModel()).setRowCount(0);</span>
<span class="nc" id="L69">        int linhaSelecionada = this.jTable1.getSelectedRow();</span>
<span class="nc" id="L70">        java.util.Collections.sort(this.getEntidades().get(linhaSelecionada).getAtributos());</span>
<span class="nc bnc" id="L71" title="All 2 branches missed.">        for (int i = 0; i &lt; this.getEntidades().get(linhaSelecionada).getAtributos().size(); i++) {</span>
<span class="nc" id="L72">            ((javax.swing.table.DefaultTableModel) jTable2.getModel()).addRow(new Object[]{this.getEntidades().get(linhaSelecionada).getAtributos().get(i).getNome(), this.getEntidades().get(linhaSelecionada).getAtributos().get(i).getTipo(), Boolean.FALSE});</span>
        }

<span class="nc" id="L75">    }</span>

    public void resetAtributos() {
<span class="nc" id="L78">        ((javax.swing.table.DefaultTableModel) jTable2.getModel()).setRowCount(0);</span>

<span class="nc" id="L80">    }</span>

    private void popularEntidades() {
<span class="nc bnc" id="L83" title="All 2 branches missed.">        if (jTable1.getSelectedRow() == -1) {</span>
<span class="nc" id="L84">            javax.swing.JOptionPane.showMessageDialog(null, &quot;Por Favor Selecione Uma Entidade!&quot;, &quot;Jaw - Entidades&quot;, JOptionPane.WARNING_MESSAGE);</span>
<span class="nc" id="L85">            return;</span>
        }
<span class="nc" id="L87">        this.listarAtributos();</span>
<span class="nc" id="L88">    }</span>

    public List&lt;Entidade&gt; getEntidades() {
<span class="nc" id="L91">        return this.entidades;</span>
    }

    public void setEntidades(List&lt;Entidade&gt; entidades) {
<span class="nc" id="L95">        this.entidades = entidades;</span>
<span class="nc" id="L96">        this.atualizarEntidades();</span>
<span class="nc" id="L97">    }</span>

    public int getEntidadeSelecionada() {
<span class="nc" id="L100">        return entidadeSelecionada;</span>
    }

    public void setEntidadeSelecionada(int entidadeSelecionada) {
<span class="nc" id="L104">        this.entidadeSelecionada = entidadeSelecionada;</span>
<span class="nc" id="L105">    }</span>

    public int getAtributoSelecionado() {
<span class="nc" id="L108">        return atributoSelecionado;</span>
    }

    public void setAtributoSelecionado(int atributoSelecionado) {
<span class="nc" id="L112">        this.atributoSelecionado = atributoSelecionado;</span>
<span class="nc" id="L113">    }</span>

    public String getNomeArquivoSalvo() {
<span class="nc" id="L116">        return nomeArquivoSalvo;</span>
    }

    public void setNomeArquivoSalvo(String nomeArquivoSalvo) {
<span class="fc" id="L120">        this.nomeArquivoSalvo = nomeArquivoSalvo;</span>
<span class="fc" id="L121">    }</span>

    public Atributo getAtributo() {
<span class="nc" id="L124">        return atributo;</span>
    }

    public void setAtributo(Atributo atributo) {
<span class="nc" id="L128">        this.entidades.get(this.entidadeSelecionada).getAtributos().add(atributo);</span>
<span class="nc" id="L129">        this.listarAtributos();</span>
<span class="nc" id="L130">    }</span>

    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;//GEN-BEGIN:initComponents
    private void initComponents() {

<span class="fc" id="L135">        jPanel1 = new javax.swing.JPanel();</span>
<span class="fc" id="L136">        jScrollPane1 = new javax.swing.JScrollPane();</span>
<span class="fc" id="L137">        jTable1 = new javax.swing.JTable();</span>
<span class="fc" id="L138">        jSeparator2 = new javax.swing.JSeparator();</span>
<span class="fc" id="L139">        jScrollPane2 = new javax.swing.JScrollPane();</span>
<span class="fc" id="L140">        jTable2 = new javax.swing.JTable();</span>
<span class="fc" id="L141">        jPanel2 = new javax.swing.JPanel();</span>
<span class="fc" id="L142">        jLabel1 = new javax.swing.JLabel();</span>
<span class="fc" id="L143">        jPanel4 = new javax.swing.JPanel();</span>
<span class="fc" id="L144">        jPanel5 = new javax.swing.JPanel();</span>

<span class="fc" id="L146">        setName(&quot;FF&quot;); // NOI18N</span>
<span class="fc" id="L147">        addComponentListener(new java.awt.event.ComponentAdapter() {</span>
            public void componentShown(java.awt.event.ComponentEvent evt) {
<span class="nc" id="L149">                formComponentShown(evt);</span>
<span class="nc" id="L150">            }</span>
        });
<span class="fc" id="L152">        setLayout(new java.awt.BorderLayout());</span>

<span class="fc" id="L154">        jPanel1.setLayout(new javax.swing.BoxLayout(jPanel1, javax.swing.BoxLayout.Y_AXIS));</span>

<span class="fc" id="L156">        jTable1.setModel(new javax.swing.table.DefaultTableModel(</span>
            new Object [][] {

            },
            new String [] {
                &quot;Entidades&quot;, &quot;Pacote&quot;
            }
<span class="fc" id="L163">        ) {</span>
<span class="fc" id="L164">            Class[] types = new Class [] {</span>
                java.lang.Object.class, java.lang.String.class
            };
<span class="fc" id="L167">            boolean[] canEdit = new boolean [] {</span>
                false, false
            };

            public Class getColumnClass(int columnIndex) {
<span class="nc" id="L172">                return types [columnIndex];</span>
            }

            public boolean isCellEditable(int rowIndex, int columnIndex) {
<span class="nc" id="L176">                return canEdit [columnIndex];</span>
            }
        });
<span class="fc" id="L179">        jTable1.addMouseListener(new java.awt.event.MouseAdapter() {</span>
            public void mouseClicked(java.awt.event.MouseEvent evt) {
<span class="nc" id="L181">                jTable1MouseClicked(evt);</span>
<span class="nc" id="L182">            }</span>
        });
<span class="fc" id="L184">        jScrollPane1.setViewportView(jTable1);</span>

<span class="fc" id="L186">        jPanel1.add(jScrollPane1);</span>

<span class="fc" id="L188">        jSeparator2.setPreferredSize(new java.awt.Dimension(100, 5));</span>
<span class="fc" id="L189">        jPanel1.add(jSeparator2);</span>

<span class="fc" id="L191">        jTable2.setModel(new javax.swing.table.DefaultTableModel(</span>
            new Object [][] {

            },
            new String [] {
                &quot;Nome&quot;, &quot;Tipo&quot;, &quot;Selecione&quot;
            }
<span class="fc" id="L198">        ) {</span>
<span class="fc" id="L199">            Class[] types = new Class [] {</span>
                java.lang.String.class, java.lang.String.class, java.lang.Boolean.class
            };
<span class="fc" id="L202">            boolean[] canEdit = new boolean [] {</span>
                false, false, true
            };

            public Class getColumnClass(int columnIndex) {
<span class="nc" id="L207">                return types [columnIndex];</span>
            }

            public boolean isCellEditable(int rowIndex, int columnIndex) {
<span class="nc" id="L211">                return canEdit [columnIndex];</span>
            }
        });
<span class="fc" id="L214">        jScrollPane2.setViewportView(jTable2);</span>

<span class="fc" id="L216">        jPanel1.add(jScrollPane2);</span>

<span class="fc" id="L218">        add(jPanel1, java.awt.BorderLayout.CENTER);</span>

<span class="fc" id="L220">        jPanel2.setPreferredSize(new java.awt.Dimension(100, 40));</span>
<span class="fc" id="L221">        jPanel2.setLayout(new java.awt.GridBagLayout());</span>

<span class="fc" id="L223">        jLabel1.setText(&quot;Extração dos Dados&quot;);</span>
<span class="fc" id="L224">        jPanel2.add(jLabel1, new java.awt.GridBagConstraints());</span>

<span class="fc" id="L226">        add(jPanel2, java.awt.BorderLayout.NORTH);</span>

<span class="fc" id="L228">        jPanel4.setPreferredSize(new java.awt.Dimension(2, 100));</span>

<span class="fc" id="L230">        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);</span>
<span class="fc" id="L231">        jPanel4.setLayout(jPanel4Layout);</span>
<span class="fc" id="L232">        jPanel4Layout.setHorizontalGroup(</span>
<span class="fc" id="L233">            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="fc" id="L234">            .addGap(0, 2, Short.MAX_VALUE)</span>
        );
<span class="fc" id="L236">        jPanel4Layout.setVerticalGroup(</span>
<span class="fc" id="L237">            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="fc" id="L238">            .addGap(0, 690, Short.MAX_VALUE)</span>
        );

<span class="fc" id="L241">        add(jPanel4, java.awt.BorderLayout.EAST);</span>

<span class="fc" id="L243">        jPanel5.setPreferredSize(new java.awt.Dimension(2, 100));</span>

<span class="fc" id="L245">        javax.swing.GroupLayout jPanel5Layout = new javax.swing.GroupLayout(jPanel5);</span>
<span class="fc" id="L246">        jPanel5.setLayout(jPanel5Layout);</span>
<span class="fc" id="L247">        jPanel5Layout.setHorizontalGroup(</span>
<span class="fc" id="L248">            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="fc" id="L249">            .addGap(0, 2, Short.MAX_VALUE)</span>
        );
<span class="fc" id="L251">        jPanel5Layout.setVerticalGroup(</span>
<span class="fc" id="L252">            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)</span>
<span class="fc" id="L253">            .addGap(0, 690, Short.MAX_VALUE)</span>
        );

<span class="fc" id="L256">        add(jPanel5, java.awt.BorderLayout.WEST);</span>
<span class="fc" id="L257">    }// &lt;/editor-fold&gt;//GEN-END:initComponents</span>

    private void formWindowOpened(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_formWindowOpened
        
<span class="nc" id="L261">    }//GEN-LAST:event_formWindowOpened</span>

    private void jTable1MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jTable1MouseClicked
<span class="nc" id="L264">        this.setEntidadeSelecionada(this.jTable1.getSelectedRow());</span>
<span class="nc bnc" id="L265" title="All 2 branches missed.">        if (evt.getClickCount() == 2) {</span>
<span class="nc" id="L266">            this.popularEntidades();</span>
        }
<span class="nc" id="L268">    }//GEN-LAST:event_jTable1MouseClicked</span>

    private void formComponentShown(java.awt.event.ComponentEvent evt) {//GEN-FIRST:event_formComponentShown
        
        
<span class="nc" id="L273">    }//GEN-LAST:event_formComponentShown</span>
    /**
     * @param args the command line arguments
     */
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel jLabel1;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JSeparator jSeparator2;
    private javax.swing.JTable jTable1;
    private javax.swing.JTable jTable2;
    // End of variables declaration//GEN-END:variables
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>