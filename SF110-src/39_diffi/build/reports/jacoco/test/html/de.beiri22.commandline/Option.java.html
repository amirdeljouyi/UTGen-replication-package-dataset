<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Option.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">39_diffi</a> &gt; <a href="index.source.html" class="el_package">de.beiri22.commandline</a> &gt; <span class="el_source">Option.java</span></div><h1>Option.java</h1><pre class="source lang-java linenums">/*
 * Option.java
 *
 * Created on 04.11.2007, 16:58:29
 *
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

package de.beiri22.commandline;

/**
 * Klasse, die eine Kommandozeilenoption darstellt.
 * \author Rico
 */
public class Option {

    private String mname; ///&lt;Optionsname
    private String mbeschriebung;///&lt;Beschreibung der Option fuer eine Debugausgabe.
    private String mdelim;///&lt;Trennzeichen zwischen Option und uebergebenem Wert.
    private boolean mhasArg;///&lt;Gibt an, ob ein Wert zu dieser Option erwartet wird.
    private String mdefaultv;///&lt;Defaultwert, der verwendet wird, wenn kein Wert uebergeben wurde.
    private String mvalue;///&lt;Uebergebener Wert, der nach Durchlauf des Checks abgerufen werden kann.
    private boolean misSet;///&lt;Gibt an, ob diese Option bereits gesetzt ist.

    /**
     * erstellt eine neue Option.
     * \param name Optionsname
     * \param beschreibung Optionsbeschreibung
     * \param hasArg erwartet die Option einen Wert?
     * \param delim Trennzeichen zwischen Option und uebergebenem Wert 
     * \param defaultv Defaultwert, der verwendet wird, wenn kein Wert uebergeben wurde
     */
<span class="nc" id="L34">    public Option(String name, String beschreibung, boolean hasArg, String delim, String defaultv) {</span>
<span class="nc" id="L35">        this.mname = name;</span>
<span class="nc" id="L36">        this.mbeschriebung = beschreibung;</span>
<span class="nc" id="L37">        this.mdelim = delim;</span>
<span class="nc" id="L38">        this.mhasArg = hasArg;</span>
<span class="nc" id="L39">        this.mdefaultv = defaultv;</span>
<span class="nc" id="L40">        misSet = false;</span>
<span class="nc" id="L41">    }</span>
    
    /**
     * erstellt eine neue Option, die keine Parameter erwartet.
     * \param name Optionsname
     * \param beschreibung Optionsbeschreibung
     */
    public Option(String name, String beschreibung) {
<span class="nc" id="L49">        this(name, beschreibung, false, &quot;&quot;, &quot;&quot;);</span>
<span class="nc" id="L50">    }</span>
    
    /**
     * erstellt eine neue Option, die keine Parameter erwartet und keine Beschreibung
     * enthaelt.
     * \param name Optionsname
     */
    public Option(String name) {
<span class="nc" id="L58">        this(name, &quot;&quot;, false, &quot;&quot;, &quot;&quot;);</span>
<span class="nc" id="L59">    }</span>
    
    /**
     * erstellt eine neue Option ohne Beschreibung.
     * \param name Optionsname
     * \param hasArg erwartet die Option einen Wert?
     * \param delim Trennzeichen zwischen Option und uebergebenem Wert 
     * \param defaultv Defaultwert, der verwendet wird, wenn kein Wert uebergeben wurde
     */
    public Option(String name, boolean hasArg, String delim, String defaultv) {
<span class="nc" id="L69">        this(name, &quot;&quot;, hasArg, delim, defaultv);</span>
<span class="nc" id="L70">    }</span>

    /**
     * gibt die Beschreibung zurück.
     * \return Beschreibung der Option
     */
    public String getBeschriebung() {
<span class="nc" id="L77">        return mbeschriebung;</span>
    }
    
    /**
     * gibt das Trennzeichen zurück.
     * \return Trennezeichen zwischen Optionsname und Wert
     */
    public String getDelim() {
<span class="nc" id="L85">        return mdelim;</span>
    }

    /**
     * gibt zurück, ob die Option einen Wert erwartet.
     * \return braucht Option?
     */
    public boolean isHasArg() {
<span class="nc" id="L93">        return mhasArg;</span>
    }

    /**
     * gibt den Namen zurück.
     * \return Name der Option
     */
    public String getName() {
<span class="nc" id="L101">        return mname;</span>
    }

    /**
     * gibt den Defaultwert zurück.
     * \return Defaultwert der Option
     */
    public String getDefaultv() {
<span class="nc" id="L109">        return mdefaultv;</span>
    }

    /**
     * gibt zurück, ob die Option schon gesetzt ist.
     * \return schon gesetzt?
     */
    public boolean isIsSet() {
<span class="nc" id="L117">        return misSet;</span>
    }

    /**
     * gibt den uebergebenen Wert zurück.
     * \return uebergebener Wert
     * \throws RuntimeException falls die Option nicht gesetzt wurde oder keinen
     * Wert besitzt.
     */
    public String getValue() {
<span class="nc bnc" id="L127" title="All 2 branches missed.">        if (!mhasArg) {</span>
<span class="nc" id="L128">            throw new RuntimeException(&quot;Option has no argument.&quot;);</span>
        }
<span class="nc bnc" id="L130" title="All 2 branches missed.">        if (!misSet) {</span>
<span class="nc" id="L131">            throw new RuntimeException(&quot;Option is not set.&quot;);</span>
        }
<span class="nc" id="L133">        return mvalue;</span>
    }

    /**
     * prueft, ob der uebergebene String zu dieser Option passt(sie darstellt)
     * \param s zu pruefender String.
     * \return Ergebnis dieser Prüfung
     */
    public boolean is(String s) {
<span class="nc bnc" id="L142" title="All 8 branches missed.">        return s.startsWith((mname.isEmpty() ? &quot;&quot; : &quot;-&quot;) + mname + (mhasArg ? mdelim : &quot;&quot;)) &amp;&amp; !misSet;</span>
    }

    /**
     * liest den Wert, falls erwartet, ein und setzt die Option.
     * \param s zu parsender String.
     */
    public void parse(String s) {
<span class="nc" id="L150">        misSet = true;</span>
<span class="nc bnc" id="L151" title="All 2 branches missed.">        if (mhasArg) {</span>
<span class="nc bnc" id="L152" title="All 2 branches missed.">            mvalue = s.substring(mname.length() + (mname.isEmpty() ? 0 : 1) + mdelim.length());</span>
        } else {
<span class="nc" id="L154">            mvalue = mdefaultv;</span>
        }
<span class="nc" id="L156">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>