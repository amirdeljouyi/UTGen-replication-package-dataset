<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>AboutDialog.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">74_fixsuite</a> &gt; <a href="index.source.html" class="el_package">org.fixsuite.message.view</a> &gt; <span class="el_source">AboutDialog.java</span></div><h1>AboutDialog.java</h1><pre class="source lang-java linenums">/**
 * AboutDialog.java 12:16:14 PM May 1, 2008
 * 
 * &lt;PRE&gt;
 * Copyright (c) 2008, Jan Amoyo
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 *     - Redistributions of source code must retain the above copyright
 *       notice, this list of conditions and the following disclaimer.
 *     - Redistributions in binary form must reproduce the above copyright
 *       notice, this list of conditions and the following disclaimer in the
 *       documentation and/or other materials provided with the distribution.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS';
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDERS AND CONTRIBUTORS 
 * BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR 
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF 
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS 
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN 
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE 
 * POSSIBILITY OF SUCH DAMAGE.
 * &lt;/PRE&gt;
 */

package org.fixsuite.message.view;

import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Cursor;
import java.awt.Font;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.MouseEvent;
import java.awt.event.MouseListener;
import java.io.IOException;

import javax.swing.BorderFactory;
import javax.swing.BoxLayout;
import javax.swing.ImageIcon;
import javax.swing.JButton;
import javax.swing.JDialog;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.SwingConstants;

import org.fixsuite.message.LibrarySuite;

/**
 * @author jramoyo
 */
public class AboutDialog extends JDialog implements ActionListener,
        MouseListener {

    private static final long serialVersionUID = 1L;

    private JPanel mainPanel;

    private JPanel buttonPanel;

    private JPanel infoPanel;

    private JLabel nameLabel;

    private JLabel descriptionLabel;

    private JLabel linkLabel;

    private JLabel authorLabel;

    private JButton closeButton;

    public AboutDialog() {
<span class="nc" id="L79">        super();</span>
<span class="nc" id="L80">        initGUI();</span>
<span class="nc" id="L81">    }</span>

    private void initGUI() {
<span class="nc" id="L84">        setLayout(new BorderLayout());</span>
<span class="nc" id="L85">        setTitle(&quot;About&quot;);</span>
<span class="nc" id="L86">        setIconImage(new ImageIcon(&quot;.\\resources\\gray.gif&quot;).getImage());</span>
<span class="nc" id="L87">        setModal(true);</span>

<span class="nc" id="L89">        mainPanel = new JPanel(new BorderLayout());</span>
<span class="nc" id="L90">        mainPanel.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));</span>
<span class="nc" id="L91">        buttonPanel = new JPanel();</span>
<span class="nc" id="L92">        infoPanel = new JPanel();</span>
<span class="nc" id="L93">        infoPanel.setLayout(new BoxLayout(infoPanel, BoxLayout.Y_AXIS));</span>

<span class="nc" id="L95">        nameLabel = new JLabel(LibrarySuite.TITLE + &quot; (&quot; + LibrarySuite.VERSION</span>
                + &quot;)&quot;, new ImageIcon(&quot;.\\resources\\logo.gif&quot;),
                SwingConstants.LEFT);
<span class="nc" id="L98">        nameLabel</span>
<span class="nc" id="L99">                .setFont(new Font(nameLabel.getFont().getName(), Font.BOLD, 14));</span>
<span class="nc" id="L100">        descriptionLabel = new JLabel(LibrarySuite.TITLE</span>
                + &quot; is part of the FixSuite package&quot;, new ImageIcon(
                &quot;.\\resources\\bullet.gif&quot;), SwingConstants.LEFT);
<span class="nc" id="L103">        authorLabel = new JLabel(&quot;Copyright (c) 2008, Jan Amoyo (BSD License)&quot;,</span>
                new ImageIcon(&quot;.\\resources\\bullet.gif&quot;), SwingConstants.LEFT);
<span class="nc" id="L105">        linkLabel = new JLabel(LibrarySuite.URL, new ImageIcon(</span>
                &quot;.\\resources\\bullet.gif&quot;), SwingConstants.LEFT);
<span class="nc" id="L107">        linkLabel.addMouseListener(this);</span>
<span class="nc" id="L108">        linkLabel.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));</span>
<span class="nc" id="L109">        linkLabel.setForeground(Color.BLUE);</span>
<span class="nc" id="L110">        infoPanel.add(nameLabel);</span>
<span class="nc" id="L111">        infoPanel.add(descriptionLabel);</span>
<span class="nc" id="L112">        infoPanel.add(authorLabel);</span>
<span class="nc" id="L113">        infoPanel.add(linkLabel);</span>
<span class="nc" id="L114">        mainPanel.add(infoPanel, BorderLayout.NORTH);</span>

<span class="nc" id="L116">        closeButton = new JButton(&quot;Close&quot;);</span>
<span class="nc" id="L117">        closeButton.addActionListener(this);</span>
<span class="nc" id="L118">        buttonPanel.add(closeButton);</span>
<span class="nc" id="L119">        mainPanel.add(buttonPanel, BorderLayout.SOUTH);</span>

<span class="nc" id="L121">        add(mainPanel, BorderLayout.CENTER);</span>
<span class="nc" id="L122">        pack();</span>
<span class="nc" id="L123">    }</span>

    public void actionPerformed(ActionEvent e) {
<span class="nc bnc" id="L126" title="All 2 branches missed.">        if (e.getSource().equals(closeButton)) {</span>
<span class="nc" id="L127">            setVisible(false);</span>
        }
<span class="nc" id="L129">    }</span>

    public void mouseClicked(MouseEvent e) {
<span class="nc bnc" id="L132" title="All 2 branches missed.">        if (e.getSource().equals(linkLabel)) {</span>
<span class="nc bnc" id="L133" title="All 2 branches missed.">            if (e.getButton() == MouseEvent.BUTTON1) {</span>
<span class="nc" id="L134">                invokeBrowser(LibrarySuite.URL);</span>
            }
        }
<span class="nc" id="L137">    }</span>

    public void mouseEntered(MouseEvent e) {
<span class="nc" id="L140">    }</span>

    public void mouseExited(MouseEvent e) {
<span class="nc" id="L143">    }</span>

    public void mousePressed(MouseEvent e) {
<span class="nc" id="L146">    }</span>

    public void mouseReleased(MouseEvent e) {
<span class="nc" id="L149">    }</span>

    private boolean invokeBrowser(String url) {
<span class="nc" id="L152">        boolean flag = operatingSystem();</span>
<span class="nc" id="L153">        String s1 = null;</span>
        try {
<span class="nc bnc" id="L155" title="All 2 branches missed.">            if (flag) {</span>
<span class="nc" id="L156">                s1 = &quot;rundll32 url.dll,FileProtocolHandler &quot; + url;</span>
<span class="nc" id="L157">                Runtime.getRuntime().exec(s1);</span>
            } else {
<span class="nc" id="L159">                s1 = &quot;netscape -remote openURL(&quot; + url + &quot;)&quot;;</span>
<span class="nc" id="L160">                Process process1 = Runtime.getRuntime().exec(s1);</span>
                try {
<span class="nc" id="L162">                    int i = process1.waitFor();</span>
<span class="nc bnc" id="L163" title="All 2 branches missed.">                    if (i != 0) {</span>
<span class="nc" id="L164">                        s1 = &quot;netscape &quot; + url;</span>
<span class="nc" id="L165">                        Runtime.getRuntime().exec(s1);</span>
                    }
<span class="nc" id="L167">                } catch (InterruptedException ex) {</span>
<span class="nc" id="L168">                    System.err.println(&quot;Error bringing up browser, cmd='&quot; + s1</span>
                            + &quot;'&quot;);
<span class="nc" id="L170">                    System.err.println(&quot;Caught: &quot; + ex);</span>
<span class="nc" id="L171">                    return false;</span>
<span class="nc" id="L172">                }</span>
            }
<span class="nc" id="L174">        } catch (IOException ex) {</span>
<span class="nc" id="L175">            System.err.println(&quot;Could not invoke browser, command=&quot; + s1);</span>
<span class="nc" id="L176">            System.err.println(&quot;Caught: &quot; + ex);</span>
<span class="nc" id="L177">            return false;</span>
<span class="nc" id="L178">        }</span>
<span class="nc" id="L179">        return true;</span>
    }

    private boolean operatingSystem() {
<span class="nc" id="L183">        String name = System.getProperty(&quot;os.name&quot;);</span>
<span class="nc bnc" id="L184" title="All 4 branches missed.">        return ((name != null) &amp;&amp; (name.startsWith(&quot;Windows&quot;)));</span>
    }

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>