<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>InternalHeroFrame.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">12_dsachat</a> &gt; <a href="index.source.html" class="el_package">dsachat.client.gui</a> &gt; <span class="el_source">InternalHeroFrame.java</span></div><h1>InternalHeroFrame.java</h1><pre class="source lang-java linenums">package dsachat.client.gui;

import java.awt.Dimension;
import java.awt.GridBagConstraints;
import java.awt.GridBagLayout;
import java.awt.Insets;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.Vector;

import javax.swing.ButtonGroup;
import javax.swing.JButton;
import javax.swing.JCheckBox;
import javax.swing.JComboBox;
import javax.swing.JInternalFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JRadioButton;
import javax.swing.JScrollPane;
import javax.swing.JSpinner;
import javax.swing.JTabbedPane;
import javax.swing.JTree;
import javax.swing.SpinnerModel;
import javax.swing.SpinnerNumberModel;
import javax.swing.event.TreeSelectionEvent;
import javax.swing.event.TreeSelectionListener;
import javax.swing.tree.TreeSelectionModel;

import dsachat.share.hero.FightValue;
import dsachat.share.hero.Hero;
import dsachat.share.hero.Weapon;


public class InternalHeroFrame extends JInternalFrame
implements TreeSelectionListener, ActionListener{
	
	/**
	 * 
	 */
	private static final long serialVersionUID = 3492106812827564696L;
	private MainFrame parent;
	private JTree tree;
	private JButton btnExec;
	private JSpinner spnMod;
	private SingleHeroTreeModel model;
	private JCheckBox chkSilent;
	private JComboBox cmbUsers;
	private JRadioButton radAttack;
	private JRadioButton radDefense;
	private JLabel lblATPA;
	private JComboBox cmbWeapon;
	private JButton btnIni;
	private JLabel lblINIval;
	private JLabel lblLEPval;
	private JLabel lblAUPval;
	private JLabel lblASPval;
	private JLabel lblKAPval;
	
	public InternalHeroFrame(MainFrame parent, Hero h)  {
<span class="nc" id="L60">	    super(&quot;Hero&quot;,</span>
	          true, //resizable
	          false, //closable
	          true, //maximizable
	          true);//iconifiable
<span class="nc" id="L65">	    this.parent=parent;</span>
	    //...Create the GUI and put it in the window...
	    //...Then set the window size or call pack...
<span class="nc" id="L68">	    model = new SingleHeroTreeModel(h);</span>
<span class="nc" id="L69">	    createGUI();</span>
	    //Set the window's location.
<span class="nc" id="L71">	    Dimension drawSize = parent.getSize();</span>
<span class="nc" id="L72">		setSize(400,drawSize.height-55);</span>
<span class="nc" id="L73">	    setLocation(drawSize.width-405, 0);</span>
<span class="nc" id="L74">	}</span>
	
	private void createGUI() {
<span class="nc" id="L77">		setLayout(new GridBagLayout());</span>
<span class="nc" id="L78">		GridBagConstraints c = new GridBagConstraints();</span>
		
<span class="nc" id="L80">		JTabbedPane tabbed = new JTabbedPane();</span>
		
		//##### Set first tab #####
<span class="nc" id="L83">		JPanel pnlTree = new JPanel(new GridBagLayout());</span>
		
<span class="nc" id="L85">		tree = new JTree(model);</span>
<span class="nc" id="L86">		tree.getSelectionModel().setSelectionMode(TreeSelectionModel.SINGLE_TREE_SELECTION);</span>
<span class="nc" id="L87">		tree.addTreeSelectionListener(this);</span>
		
<span class="nc" id="L89">		JScrollPane scrTree = new JScrollPane(tree);</span>
		
<span class="nc" id="L91">		c.gridx=0;</span>
<span class="nc" id="L92">		c.gridy=0;</span>
<span class="nc" id="L93">		c.fill=GridBagConstraints.BOTH;</span>
<span class="nc" id="L94">		c.weightx=1.0;</span>
<span class="nc" id="L95">		c.weighty=0.8;</span>
<span class="nc" id="L96">		c.insets=new Insets(0,0,5,0);</span>
<span class="nc" id="L97">		pnlTree.add(scrTree,c);</span>
		
<span class="nc" id="L99">		JPanel pnlConfigure = new JPanel(new GridBagLayout());</span>
		
		//button if attack or not.
<span class="nc" id="L102">		radAttack = new JRadioButton(&quot;attack&quot;);</span>
<span class="nc" id="L103">		radAttack.setEnabled(false);</span>
<span class="nc" id="L104">		c.gridx=0;</span>
<span class="nc" id="L105">		c.gridy=0;</span>
<span class="nc" id="L106">		c.fill=GridBagConstraints.NONE;</span>
<span class="nc" id="L107">		c.weightx=0.0;</span>
<span class="nc" id="L108">		c.weighty=0.0;</span>
<span class="nc" id="L109">		c.insets=new Insets(5,5,5,5);</span>
<span class="nc" id="L110">		pnlConfigure.add(radAttack,c);</span>
		
<span class="nc" id="L112">		radDefense = new JRadioButton(&quot;defense&quot;);</span>
<span class="nc" id="L113">		radDefense.setEnabled(false);</span>
<span class="nc" id="L114">		c.gridx++;</span>
<span class="nc" id="L115">		c.fill=GridBagConstraints.NONE;</span>
<span class="nc" id="L116">		c.weightx=0.0;</span>
<span class="nc" id="L117">		c.weighty=0.0;</span>
<span class="nc" id="L118">		c.insets=new Insets(5,5,5,5);</span>
<span class="nc" id="L119">		pnlConfigure.add(radDefense,c);</span>
		
<span class="nc" id="L121">		ButtonGroup bg = new ButtonGroup();</span>
<span class="nc" id="L122">		bg.add(radAttack);</span>
<span class="nc" id="L123">		bg.add(radDefense);</span>
		
<span class="nc" id="L125">		JLabel lblMod = new JLabel(&quot;Modification&quot;);</span>
<span class="nc" id="L126">		c.gridx=0;</span>
<span class="nc" id="L127">		c.gridy++;</span>
<span class="nc" id="L128">		c.fill=GridBagConstraints.NONE;</span>
<span class="nc" id="L129">		c.weightx=0.0;</span>
<span class="nc" id="L130">		c.weighty=0.0;</span>
<span class="nc" id="L131">		c.insets=new Insets(5,5,5,5);</span>
<span class="nc" id="L132">		pnlConfigure.add(lblMod,c);</span>
		
		
<span class="nc" id="L135">		SpinnerModel spnModel =</span>
	        new SpinnerNumberModel(0, //initial value
	                               -20, //min
	                               20, //max
	                               1);//step
<span class="nc" id="L140">		spnMod = new JSpinner(spnModel);</span>
<span class="nc" id="L141">		c.gridx++;</span>
<span class="nc" id="L142">		c.fill=GridBagConstraints.NONE;</span>
<span class="nc" id="L143">		c.weightx=0.0;</span>
<span class="nc" id="L144">		c.weighty=0.0;</span>
<span class="nc" id="L145">		c.insets=new Insets(5,5,5,5);</span>
<span class="nc" id="L146">		pnlConfigure.add(spnMod,c);</span>
		
		
<span class="nc" id="L149">		JLabel lblUser = new JLabel(&quot;To user&quot;);</span>
<span class="nc" id="L150">		c.gridx=0;</span>
<span class="nc" id="L151">		c.gridy++;</span>
<span class="nc" id="L152">		c.fill=GridBagConstraints.NONE;</span>
<span class="nc" id="L153">		c.weightx=0.0;</span>
<span class="nc" id="L154">		c.weighty=0.0;</span>
<span class="nc" id="L155">		c.insets=new Insets(5,5,5,5);</span>
<span class="nc" id="L156">		pnlConfigure.add(lblUser,c);</span>
		
<span class="nc" id="L158">		cmbUsers = new JComboBox();</span>
<span class="nc" id="L159">		cmbUsers.addItem(&quot;All&quot;);</span>
<span class="nc" id="L160">		c.gridx++;</span>
<span class="nc" id="L161">		c.fill=GridBagConstraints.NONE;</span>
<span class="nc" id="L162">		c.weightx=0.0;</span>
<span class="nc" id="L163">		c.weighty=0.0;</span>
<span class="nc" id="L164">		c.insets=new Insets(5,5,5,5);</span>
<span class="nc" id="L165">		pnlConfigure.add(cmbUsers,c);</span>
		
<span class="nc" id="L167">		chkSilent = new JCheckBox(&quot;only for specified user&quot;);</span>
<span class="nc" id="L168">		chkSilent.setToolTipText(&quot;If this is checked you're not going to see the result&quot;);</span>
<span class="nc" id="L169">		c.gridx=1;</span>
<span class="nc" id="L170">		c.gridy++;</span>
<span class="nc" id="L171">		c.fill=GridBagConstraints.NONE;</span>
<span class="nc" id="L172">		c.weightx=0.0;</span>
<span class="nc" id="L173">		c.weighty=0.0;</span>
<span class="nc" id="L174">		c.insets=new Insets(5,5,5,5);</span>
<span class="nc" id="L175">		pnlConfigure.add(chkSilent,c);</span>
		
		
<span class="nc" id="L178">		btnExec = new JButton(&quot;roll&quot;);</span>
<span class="nc" id="L179">		btnExec.setActionCommand(&quot;challenge&quot;);</span>
<span class="nc" id="L180">		btnExec.addActionListener(parent);</span>
<span class="nc" id="L181">		btnExec.setEnabled(false);</span>
<span class="nc" id="L182">		c.gridx=0;</span>
<span class="nc" id="L183">		c.gridy++;</span>
<span class="nc" id="L184">		c.fill=GridBagConstraints.NONE;</span>
<span class="nc" id="L185">		c.weightx=0.0;</span>
<span class="nc" id="L186">		c.weighty=0.0;</span>
<span class="nc" id="L187">		c.insets=new Insets(5,5,5,5);</span>
<span class="nc" id="L188">		pnlConfigure.add(btnExec,c);</span>
		
<span class="nc" id="L190">		c.gridx=0;</span>
<span class="nc" id="L191">		c.gridy=1;</span>
<span class="nc" id="L192">		c.fill=GridBagConstraints.BOTH;</span>
<span class="nc" id="L193">		c.weightx=1.0;</span>
<span class="nc" id="L194">		c.weighty=0.2;</span>
<span class="nc" id="L195">		c.insets=new Insets(5,0,0,0);</span>
<span class="nc" id="L196">		pnlTree.add(pnlConfigure,c);</span>
		
<span class="nc" id="L198">		tabbed.add(&quot;Tree view&quot;, pnlTree);</span>
		
		
		//##### second tab: select weapon, roll initiative #####
		
<span class="nc" id="L203">		JPanel pnlFight = new JPanel(new GridBagLayout());</span>
		
<span class="nc" id="L205">		JLabel lblWeapon = new JLabel(&quot;Select weapon:&quot;);</span>
<span class="nc" id="L206">		c.gridx=0;</span>
<span class="nc" id="L207">		c.gridy=0;</span>
<span class="nc" id="L208">		c.fill=GridBagConstraints.BOTH;</span>
<span class="nc" id="L209">		c.weightx=0.0;</span>
<span class="nc" id="L210">		c.weighty=0.0;</span>
<span class="nc" id="L211">		c.insets=new Insets(5,5,5,5);</span>
<span class="nc" id="L212">		pnlFight.add(lblWeapon,c);</span>
		
		//select weapon
<span class="nc" id="L215">		Vector&lt;Weapon&gt; vw = new Vector&lt;Weapon&gt;();</span>
<span class="nc bnc" id="L216" title="All 2 branches missed.">		for(FightValue fv : model.h.getFightvalues()){</span>
<span class="nc" id="L217">			vw.addAll(fv.getWeapons());</span>
<span class="nc" id="L218">		}</span>
<span class="nc" id="L219">		cmbWeapon = new JComboBox(vw);</span>
<span class="nc" id="L220">		cmbWeapon.addActionListener(this);</span>
<span class="nc" id="L221">		c.gridx++;</span>
<span class="nc" id="L222">		c.gridy=0;</span>
<span class="nc" id="L223">		c.fill=GridBagConstraints.BOTH;</span>
<span class="nc" id="L224">		c.weightx=0.0;</span>
<span class="nc" id="L225">		c.weighty=0.0;</span>
<span class="nc" id="L226">		c.insets=new Insets(5,5,5,5);</span>
<span class="nc" id="L227">		pnlFight.add(cmbWeapon,c);</span>
		
		//show at/pa after selecting
<span class="nc" id="L230">		lblATPA = new JLabel();</span>
<span class="nc" id="L231">		Weapon w = (Weapon)cmbWeapon.getItemAt(0);</span>
<span class="nc" id="L232">		lblATPA.setText(w.getType().toString());</span>
<span class="nc" id="L233">		c.gridx=1;</span>
<span class="nc" id="L234">		c.gridy++;</span>
<span class="nc" id="L235">		c.fill=GridBagConstraints.BOTH;</span>
<span class="nc" id="L236">		c.weightx=0.0;</span>
<span class="nc" id="L237">		c.weighty=0.0;</span>
<span class="nc" id="L238">		c.insets=new Insets(5,5,5,5);</span>
<span class="nc" id="L239">		pnlFight.add(lblATPA,c);</span>
		
		//Button for initiative
<span class="nc" id="L242">		btnIni = new JButton(&quot;roll initiative&quot;);</span>
<span class="nc" id="L243">		btnIni.addActionListener(this); //TODO</span>
<span class="nc" id="L244">		btnIni.setActionCommand(&quot;initiative&quot;);</span>
<span class="nc" id="L245">		btnIni.setToolTipText(&quot;does nothing at the moment&quot;);</span>
<span class="nc" id="L246">		c.gridx=0;</span>
<span class="nc" id="L247">		c.gridy++;</span>
<span class="nc" id="L248">		c.fill=GridBagConstraints.BOTH;</span>
<span class="nc" id="L249">		c.weightx=0.0;</span>
<span class="nc" id="L250">		c.weighty=0.0;</span>
<span class="nc" id="L251">		c.insets=new Insets(5,5,5,5);</span>
<span class="nc" id="L252">		pnlFight.add(btnIni,c);</span>
		
<span class="nc" id="L254">		JTabbedPane tabFight = new JTabbedPane();</span>
		
		
		//TODO show armor
		//TODO select special moves
		//TODO select additional difficulty
		//TODO 
		
//		tabbed.add(&quot;Fight&quot;, pnlFight);
		
		
		//##### third tab: show current Values #####
<span class="nc" id="L266">		JPanel pnlStats = new JPanel(new GridBagLayout());</span>
<span class="nc" id="L267">		c.anchor=GridBagConstraints.NORTHWEST;</span>
<span class="nc" id="L268">		JLabel lblINI = new JLabel(&quot;INI:&quot;);</span>
<span class="nc" id="L269">		c.gridx=0;</span>
<span class="nc" id="L270">		c.gridy=0;</span>
<span class="nc" id="L271">		c.fill=GridBagConstraints.NONE;</span>
<span class="nc" id="L272">		c.weightx=0.0;</span>
<span class="nc" id="L273">		c.weighty=0.0;</span>
<span class="nc" id="L274">		c.insets=new Insets(5,5,5,5);</span>
<span class="nc" id="L275">		pnlStats.add(lblINI,c);</span>
		
<span class="nc" id="L277">		lblINIval = new JLabel();</span>
<span class="nc" id="L278">		c.gridx++;</span>
<span class="nc" id="L279">		c.fill=GridBagConstraints.BOTH;</span>
<span class="nc" id="L280">		c.weightx=0.0;</span>
<span class="nc" id="L281">		c.weighty=0.0;</span>
<span class="nc" id="L282">		c.insets=new Insets(5,5,5,5);</span>
<span class="nc" id="L283">		pnlStats.add(lblINIval,c);</span>
		
<span class="nc" id="L285">		JLabel lblLEP = new JLabel(&quot;LEP:&quot;);</span>
<span class="nc" id="L286">		c.gridx=0;</span>
<span class="nc" id="L287">		c.gridy++;</span>
<span class="nc" id="L288">		c.fill=GridBagConstraints.BOTH;</span>
<span class="nc" id="L289">		c.weightx=0.0;</span>
<span class="nc" id="L290">		c.weighty=0.0;</span>
<span class="nc" id="L291">		c.insets=new Insets(5,5,5,5);</span>
<span class="nc" id="L292">		pnlStats.add(lblLEP,c);</span>
<span class="nc" id="L293">		lblLEPval = new JLabel();</span>
<span class="nc" id="L294">		c.gridx++;</span>
<span class="nc" id="L295">		c.fill=GridBagConstraints.BOTH;</span>
<span class="nc" id="L296">		c.weightx=0.0;</span>
<span class="nc" id="L297">		c.weighty=0.0;</span>
<span class="nc" id="L298">		c.insets=new Insets(5,5,5,5);</span>
<span class="nc" id="L299">		pnlStats.add(lblLEPval,c);</span>
		
<span class="nc" id="L301">		JLabel lblAUP = new JLabel(&quot;AUP:&quot;);</span>
<span class="nc" id="L302">		c.gridx=0;</span>
<span class="nc" id="L303">		c.gridy++;</span>
<span class="nc" id="L304">		c.fill=GridBagConstraints.BOTH;</span>
<span class="nc" id="L305">		c.weightx=0.0;</span>
<span class="nc" id="L306">		c.weighty=0.0;</span>
<span class="nc" id="L307">		c.insets=new Insets(5,5,5,5);</span>
<span class="nc" id="L308">		pnlStats.add(lblAUP,c);</span>
<span class="nc" id="L309">		lblAUPval = new JLabel();</span>
<span class="nc" id="L310">		c.gridx++;</span>
<span class="nc" id="L311">		c.fill=GridBagConstraints.BOTH;</span>
<span class="nc" id="L312">		c.weightx=0.0;</span>
<span class="nc" id="L313">		c.weighty=0.0;</span>
<span class="nc" id="L314">		c.insets=new Insets(5,5,5,5);</span>
<span class="nc" id="L315">		pnlStats.add(lblAUPval,c);</span>
		
<span class="nc bnc" id="L317" title="All 2 branches missed.">		if(model.h.isMagican()){</span>
<span class="nc" id="L318">			JLabel lblASP = new JLabel(&quot;ASP:&quot;);</span>
<span class="nc" id="L319">			c.gridx=0;</span>
<span class="nc" id="L320">			c.gridy++;</span>
<span class="nc" id="L321">			c.fill=GridBagConstraints.BOTH;</span>
<span class="nc" id="L322">			c.weightx=0.0;</span>
<span class="nc" id="L323">			c.weighty=0.0;</span>
<span class="nc" id="L324">			c.insets=new Insets(5,5,5,5);</span>
<span class="nc" id="L325">			pnlStats.add(lblASP,c);</span>
<span class="nc" id="L326">			lblASPval = new JLabel();</span>
<span class="nc" id="L327">			c.gridx++;</span>
<span class="nc" id="L328">			c.fill=GridBagConstraints.BOTH;</span>
<span class="nc" id="L329">			c.weightx=0.0;</span>
<span class="nc" id="L330">			c.weighty=0.0;</span>
<span class="nc" id="L331">			c.insets=new Insets(5,5,5,5);</span>
<span class="nc" id="L332">			pnlStats.add(lblASPval,c);</span>
		}
		
<span class="nc bnc" id="L335" title="All 2 branches missed.">		if(model.h.isPriest()){</span>
<span class="nc" id="L336">			JLabel lblKAP = new JLabel(&quot;KAP:&quot;);</span>
<span class="nc" id="L337">			c.gridx=0;</span>
<span class="nc" id="L338">			c.gridy++;</span>
<span class="nc" id="L339">			c.fill=GridBagConstraints.BOTH;</span>
<span class="nc" id="L340">			c.weightx=0.0;</span>
<span class="nc" id="L341">			c.weighty=0.0;</span>
<span class="nc" id="L342">			c.insets=new Insets(5,5,5,5);</span>
<span class="nc" id="L343">			pnlStats.add(lblKAP,c);</span>
<span class="nc" id="L344">			lblKAPval = new JLabel();</span>
<span class="nc" id="L345">			c.gridx++;</span>
<span class="nc" id="L346">			c.fill=GridBagConstraints.BOTH;</span>
<span class="nc" id="L347">			c.weightx=0.0;</span>
<span class="nc" id="L348">			c.weighty=0.0;</span>
<span class="nc" id="L349">			c.insets=new Insets(5,5,5,5);</span>
<span class="nc" id="L350">			pnlStats.add(lblKAPval,c);</span>
		}
<span class="nc" id="L352">		update();</span>
		
<span class="nc" id="L354">		tabbed.add(&quot;Values&quot;, pnlStats);</span>
		
		//##### add tabbed pane #####
<span class="nc" id="L357">		c.gridx=0;</span>
<span class="nc" id="L358">		c.gridy=0;</span>
<span class="nc" id="L359">		c.fill=GridBagConstraints.BOTH;</span>
<span class="nc" id="L360">		c.weightx=1.0;</span>
<span class="nc" id="L361">		c.weighty=1.0;</span>
<span class="nc" id="L362">		c.insets=new Insets(0,0,0,0);</span>
<span class="nc" id="L363">		add(tabbed,c);</span>
		
<span class="nc" id="L365">	}</span>
	
	public void setHero(Hero h){
<span class="nc" id="L368">		model = new SingleHeroTreeModel(h);</span>
<span class="nc" id="L369">	}</span>
	
	public Object getSelectedItem(){
<span class="nc bnc" id="L372" title="All 2 branches missed.">		if(tree.getSelectionPath() != null){</span>
<span class="nc" id="L373">			return tree.getSelectionPath().getLastPathComponent();</span>
		}
<span class="nc" id="L375">		return null;</span>
	}
	
	public String getReceiver(){
<span class="nc" id="L379">		return (String)cmbUsers.getSelectedItem();</span>
	}
	
	public Hero getHero(){
<span class="nc" id="L383">		return model.h;</span>
	}
	
	public int getMod(){
<span class="nc" id="L387">		return (Integer)spnMod.getValue();</span>
	}
	
	public void enableButton(){
<span class="nc" id="L391">		btnExec.setEnabled(true);</span>
<span class="nc" id="L392">	}</span>
	
	public void updateUsers(String[] userlist){
<span class="nc" id="L395">		cmbUsers.removeAllItems();</span>
<span class="nc" id="L396">		cmbUsers.addItem(&quot;All&quot;);</span>
<span class="nc bnc" id="L397" title="All 2 branches missed.">		for(int i=0; i&lt;userlist.length; i++){</span>
<span class="nc" id="L398">			cmbUsers.addItem(userlist[i]);</span>
		}
<span class="nc" id="L400">	}</span>
	
	public boolean silent(){
<span class="nc" id="L403">		return chkSilent.isSelected();</span>
	}

	public void valueChanged(TreeSelectionEvent e) {
<span class="nc bnc" id="L407" title="All 2 branches missed.">		if(!model.isLeaf(e.getPath().getLastPathComponent())){</span>
<span class="nc" id="L408">			tree.getSelectionModel().clearSelection();</span>
		}
		try{
<span class="nc bnc" id="L411" title="All 2 branches missed.">			if(tree.getSelectionPath().getLastPathComponent().getClass().equals(Weapon.class)){</span>
<span class="nc" id="L412">				radDefense.setEnabled(true);</span>
<span class="nc" id="L413">				radAttack.setEnabled(true);</span>
			}else{
<span class="nc" id="L415">				radDefense.setEnabled(false);</span>
<span class="nc" id="L416">				radAttack.setEnabled(false);</span>
			}
<span class="nc" id="L418">		}catch(Exception e1){</span>
			//not so bad
<span class="nc" id="L420">			radDefense.setEnabled(false);</span>
<span class="nc" id="L421">			radAttack.setEnabled(false);</span>
<span class="nc" id="L422">			return;</span>
<span class="nc" id="L423">		}</span>
<span class="nc" id="L424">	}</span>
	
	public void updateHero(Hero h){
<span class="nc" id="L427">		model.fireTreeStructureChanged(h);</span>
<span class="nc" id="L428">	}</span>
	
	public boolean isAttack(){
<span class="nc" id="L431">		return radAttack.isSelected();</span>
	}

	public void actionPerformed(ActionEvent e) {
		// TODO Auto-generated method stub
<span class="nc bnc" id="L436" title="All 2 branches missed.">		if(e.getSource().equals(cmbWeapon)){</span>
<span class="nc" id="L437">			Weapon w = (Weapon)cmbWeapon.getSelectedItem();</span>
<span class="nc bnc" id="L438" title="All 2 branches missed.">			if(w!=null){</span>
<span class="nc" id="L439">				lblATPA.setText(w.getType().toString());</span>
<span class="nc" id="L440">				model.h.setSelectedWeapon(w);</span>
				//TODO send new hero to server
			}
		}
<span class="nc" id="L444">	}</span>
	
	public void update(){
<span class="nc" id="L447">		lblINIval.setText(String.valueOf(model.h.getCurrINI()));</span>
<span class="nc" id="L448">		lblLEPval.setText(model.h.getCurrLEP()+&quot; (&quot;+model.h.getAttrValue(&quot;LEP&quot;)+&quot;)&quot;);</span>
<span class="nc" id="L449">		lblAUPval.setText(model.h.getCurrAUP()+&quot; (&quot;+model.h.getAttrValue(&quot;AUP&quot;)+&quot;)&quot;);</span>
<span class="nc bnc" id="L450" title="All 2 branches missed.">		if(model.h.isMagican())</span>
<span class="nc" id="L451">			lblASPval.setText(model.h.getCurrASP()+&quot; (&quot;+model.h.getAttrValue(&quot;ASP&quot;)+&quot;)&quot;);</span>
<span class="nc bnc" id="L452" title="All 2 branches missed.">		if(model.h.isPriest())</span>
<span class="nc" id="L453">			lblKAPval.setText(model.h.getCurrKAP()+&quot; (&quot;+model.h.getAttrValue(&quot;KAP&quot;)+&quot;)&quot;);</span>
		
<span class="nc" id="L455">		cmbWeapon.setSelectedItem(model.h.getSelectedWeapon());</span>
<span class="nc" id="L456">	}</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>