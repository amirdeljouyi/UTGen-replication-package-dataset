<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>EFileFilter.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">29_apbsmem</a> &gt; <a href="index.source.html" class="el_package">apbs_mem_gui</a> &gt; <span class="el_source">EFileFilter.java</span></div><h1>EFileFilter.java</h1><pre class="source lang-java linenums">/*
 * @(#)src/demo/jfc/FileChooserDemo/src/ExampleFileFilter.java, swing, dsdev, 20051008 1.13
 * ===========================================================================
 * Licensed Materials - Property of IBM
 * &quot;Restricted Materials of IBM&quot;
 *
 * IBM SDK, Java(tm) 2 Technology Edition, v5.0
 * (C) Copyright IBM Corp. 1998, 2005. All Rights Reserved
 * ===========================================================================
 */

/*
 * ===========================================================================
 (C) Copyright Sun Microsystems Inc, 1992, 2004. All rights reserved.
 * ===========================================================================
 */

package apbs_mem_gui;

import java.io.File;
import java.util.Hashtable;
import java.util.Enumeration;
import javax.swing.*;
import javax.swing.filechooser.*;

/**
 * A convenience implementation of FileFilter that filters out
 * all files except for those type extensions that it knows about.
 *
 * Extensions are of the type &quot;.foo&quot;, which is typically found on
 * Windows and Unix boxes, but not on Macinthosh. Case is ignored.
 *
 * Example - create a new filter that filerts out all files
 * but gif and jpg image files:
 *
 *     JFileChooser chooser = new JFileChooser();
 *     ExampleFileFilter filter = new ExampleFileFilter(
 *                   new String{&quot;gif&quot;, &quot;jpg&quot;}, &quot;JPEG &amp; GIF Images&quot;)
 *     chooser.addChoosableFileFilter(filter);
 *     chooser.showOpenDialog(this);
 *
 * @version 1.13 06/13/02
 * @author Jeff Dinkins
 */
public class EFileFilter extends FileFilter {

<span class="fc" id="L47">    private static String TYPE_UNKNOWN = &quot;Type Unknown&quot;;</span>
<span class="fc" id="L48">    private static String HIDDEN_FILE = &quot;Hidden File&quot;;</span>

<span class="nc" id="L50">    private Hashtable filters = null;</span>
<span class="nc" id="L51">    private String description = null;</span>
<span class="nc" id="L52">    private String fullDescription = null;</span>
<span class="nc" id="L53">    private boolean useExtensionsInDescription = true;</span>

    /**
     * Creates a file filter. If no filters are added, then all
     * files are accepted.
     *
     * @see #addExtension
     */
<span class="nc" id="L61">    public EFileFilter() {</span>
<span class="nc" id="L62">        this.filters = new Hashtable();</span>
<span class="nc" id="L63">    }</span>

    /**
     * Creates a file filter that accepts files with the given extension.
     * Example: new ExampleFileFilter(&quot;jpg&quot;);
     *
     * @see #addExtension
     */
    public EFileFilter(String extension) {
<span class="nc" id="L72">        this(extension,null);</span>
<span class="nc" id="L73">    }</span>

    /**
     * Creates a file filter that accepts the given file type.
     * Example: new ExampleFileFilter(&quot;jpg&quot;, &quot;JPEG Image Images&quot;);
     *
     * Note that the &quot;.&quot; before the extension is not needed. If
     * provided, it will be ignored.
     *
     * @see #addExtension
     */
    public EFileFilter(String extension, String description) {
<span class="nc" id="L85">        this();</span>
<span class="nc bnc" id="L86" title="All 2 branches missed.">        if(extension!=null) addExtension(extension);</span>
<span class="nc bnc" id="L87" title="All 2 branches missed.">        if(description!=null) setDescription(description);</span>
<span class="nc" id="L88">    }</span>

    /**
     * Creates a file filter from the given string array.
     * Example: new ExampleFileFilter(String {&quot;gif&quot;, &quot;jpg&quot;});
     *
     * Note that the &quot;.&quot; before the extension is not needed adn
     * will be ignored.
     *
     * @see #addExtension
     */
    public EFileFilter(String[] filters) {
<span class="nc" id="L100">        this(filters, null);</span>
<span class="nc" id="L101">    }</span>

    /**
     * Creates a file filter from the given string array and description.
     * Example: new ExampleFileFilter(String {&quot;gif&quot;, &quot;jpg&quot;}, &quot;Gif and JPG Images&quot;);
     *
     * Note that the &quot;.&quot; before the extension is not needed and will be ignored.
     *
     * @see #addExtension
     */
    public EFileFilter(String[] filters, String description) {
<span class="nc" id="L112">        this();</span>
<span class="nc bnc" id="L113" title="All 2 branches missed.">        for (int i = 0; i &lt; filters.length; i++) {</span>
            // add filters one by one
<span class="nc" id="L115">            addExtension(filters[i]);</span>
        }
<span class="nc bnc" id="L117" title="All 2 branches missed.">        if(description!=null) setDescription(description);</span>
<span class="nc" id="L118">    }</span>

    /**
     * Return true if this file should be shown in the directory pane,
     * false if it shouldn't.
     *
     * Files that begin with &quot;.&quot; are ignored.
     *
     * @see #getExtension
     * @see FileFilter#accepts
     */
    public boolean accept(File f) {
<span class="nc bnc" id="L130" title="All 2 branches missed.">        if(f != null) {</span>
<span class="nc bnc" id="L131" title="All 2 branches missed.">            if(f.isDirectory()) {</span>
<span class="nc" id="L132">                return true;</span>
            }
<span class="nc" id="L134">            String extension = getExtension(f);</span>
<span class="nc bnc" id="L135" title="All 4 branches missed.">            if(extension != null &amp;&amp; filters.get(getExtension(f)) != null) {</span>
<span class="nc" id="L136">                return true;</span>
            };
        }
<span class="nc" id="L139">        return false;</span>
    }

    /**
     * Return the extension portion of the file's name .
     *
     * @see #getExtension
     * @see FileFilter#accept
     */
     public String getExtension(File f) {
<span class="nc bnc" id="L149" title="All 2 branches missed.">        if(f != null) {</span>
<span class="nc" id="L150">            String filename = f.getName();</span>
<span class="nc" id="L151">            int i = filename.lastIndexOf('.');</span>
<span class="nc bnc" id="L152" title="All 4 branches missed.">            if(i&gt;0 &amp;&amp; i&lt;filename.length()-1) {</span>
<span class="nc" id="L153">                return filename.substring(i+1).toLowerCase();</span>
            };
        }
<span class="nc" id="L156">        return null;</span>
    }

    /**
     * Adds a filetype &quot;dot&quot; extension to filter against.
     *
     * For example: the following code will create a filter that filters
     * out all files except those that end in &quot;.jpg&quot; and &quot;.tif&quot;:
     *
     *   ExampleFileFilter filter = new ExampleFileFilter();
     *   filter.addExtension(&quot;jpg&quot;);
     *   filter.addExtension(&quot;tif&quot;);
     *
     * Note that the &quot;.&quot; before the extension is not needed and will be ignored.
     */
    public void addExtension(String extension) {
<span class="nc bnc" id="L172" title="All 2 branches missed.">        if(filters == null) {</span>
<span class="nc" id="L173">            filters = new Hashtable(5);</span>
        }
<span class="nc" id="L175">        filters.put(extension.toLowerCase(), this);</span>
<span class="nc" id="L176">        fullDescription = null;</span>
<span class="nc" id="L177">    }</span>


    /**
     * Returns the human readable description of this filter. For
     * example: &quot;JPEG and GIF Image Files (*.jpg, *.gif)&quot;
     *
     * @see setDescription
     * @see setExtensionListInDescription
     * @see isExtensionListInDescription
     * @see FileFilter#getDescription
     */
    public String getDescription() {
<span class="nc bnc" id="L190" title="All 2 branches missed.">        if(fullDescription == null) {</span>
<span class="nc bnc" id="L191" title="All 4 branches missed.">            if(description == null || isExtensionListInDescription()) {</span>
<span class="nc bnc" id="L192" title="All 2 branches missed.">                fullDescription = description==null ? &quot;(&quot; : description + &quot; (&quot;;</span>
                // build the description from the extension list
<span class="nc" id="L194">                Enumeration extensions = filters.keys();</span>
<span class="nc bnc" id="L195" title="All 2 branches missed.">                if(extensions != null) {</span>
<span class="nc" id="L196">                    fullDescription += &quot;.&quot; + (String) extensions.nextElement();</span>
<span class="nc bnc" id="L197" title="All 2 branches missed.">                    while (extensions.hasMoreElements()) {</span>
<span class="nc" id="L198">                        fullDescription += &quot;, .&quot; + (String) extensions.nextElement();</span>
                    }
                }
<span class="nc" id="L201">                fullDescription += &quot;)&quot;;</span>
<span class="nc" id="L202">            } else {</span>
<span class="nc" id="L203">                fullDescription = description;</span>
            }
        }
<span class="nc" id="L206">        return fullDescription;</span>
    }

    /**
     * Sets the human readable description of this filter. For
     * example: filter.setDescription(&quot;Gif and JPG Images&quot;);
     *
     * @see setDescription
     * @see setExtensionListInDescription
     * @see isExtensionListInDescription
     */
    public void setDescription(String description) {
<span class="nc" id="L218">        this.description = description;</span>
<span class="nc" id="L219">        fullDescription = null;</span>
<span class="nc" id="L220">    }</span>

    /**
     * Determines whether the extension list (.jpg, .gif, etc) should
     * show up in the human readable description.
     *
     * Only relevent if a description was provided in the constructor
     * or using setDescription();
     *
     * @see getDescription
     * @see setDescription
     * @see isExtensionListInDescription
     */
    public void setExtensionListInDescription(boolean b) {
<span class="nc" id="L234">        useExtensionsInDescription = b;</span>
<span class="nc" id="L235">        fullDescription = null;</span>
<span class="nc" id="L236">    }</span>

    /**
     * Returns whether the extension list (.jpg, .gif, etc) should
     * show up in the human readable description.
     *
     * Only relevent if a description was provided in the constructor
     * or using setDescription();
     *
     * @see getDescription
     * @see setDescription
     * @see setExtensionListInDescription
     */
    public boolean isExtensionListInDescription() {
<span class="nc" id="L250">        return useExtensionsInDescription;</span>
    }
}

</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>