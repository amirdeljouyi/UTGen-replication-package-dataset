<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>LoggingEventWriter.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">43_lilith</a> &gt; <a href="index.source.html" class="el_package">de.huxhorn.lilith.data.logging.xml</a> &gt; <span class="el_source">LoggingEventWriter.java</span></div><h1>LoggingEventWriter.java</h1><pre class="source lang-java linenums">/*
 * Lilith - a log event viewer.
 * Copyright (C) 2007-2009 Joern Huxhorn
 * 
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Lesser General Public License for more details.
 * 
 * You should have received a copy of the GNU Lesser General Public License
 * along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.
 */
package de.huxhorn.lilith.data.logging.xml;

import de.huxhorn.lilith.data.logging.ExtendedStackTraceElement;
import de.huxhorn.lilith.data.logging.LoggerContext;
import de.huxhorn.lilith.data.logging.LoggingEvent;
import de.huxhorn.lilith.data.logging.Marker;
import de.huxhorn.lilith.data.logging.Message;
import de.huxhorn.lilith.data.logging.ThreadInfo;
import de.huxhorn.lilith.data.logging.ThrowableInfo;
import de.huxhorn.sulky.stax.DateTimeFormatter;
import de.huxhorn.sulky.stax.GenericStreamWriter;
import de.huxhorn.sulky.stax.StaxUtilities;
import de.huxhorn.sulky.stax.WhiteSpaceHandling;

import java.util.ArrayList;
import java.util.Date;
import java.util.List;
import java.util.Map;
import java.util.TreeMap;

import javax.xml.stream.XMLStreamException;
import javax.xml.stream.XMLStreamWriter;

public class LoggingEventWriter
	implements GenericStreamWriter&lt;LoggingEvent&gt;, LoggingEventSchemaConstants
{
	private String preferredPrefix;
	private String prefix;
	private boolean sortingMdcValues;
	private DateTimeFormatter dateTimeFormatter;
	private boolean writingSchemaLocation;
	private TimeStampType timeStampType;

<span class="nc" id="L51">	public enum TimeStampType</span>
	{
<span class="nc" id="L53">		ONLY_TIMESTAMP,</span>
<span class="nc" id="L54">		ONLY_MILLIS,</span>
<span class="nc" id="L55">		BOTH</span>
	}


	public LoggingEventWriter()
<span class="nc" id="L60">	{</span>
<span class="nc" id="L61">		dateTimeFormatter = new DateTimeFormatter();</span>
<span class="nc" id="L62">		timeStampType = TimeStampType.BOTH;</span>
<span class="nc" id="L63">	}</span>

	public TimeStampType getTimeStampType()
	{
<span class="nc" id="L67">		return timeStampType;</span>
	}

	public void setTimeStampType(TimeStampType timeStampType)
	{
<span class="nc" id="L72">		this.timeStampType = timeStampType;</span>
<span class="nc" id="L73">	}</span>

	public boolean isSortingMdcValues()
	{
<span class="nc" id="L77">		return sortingMdcValues;</span>
	}

	public void setSortingMdcValues(boolean sortingMdcValues)
	{
<span class="nc" id="L82">		this.sortingMdcValues = sortingMdcValues;</span>
<span class="nc" id="L83">	}</span>

	public boolean isWritingSchemaLocation()
	{
<span class="nc" id="L87">		return writingSchemaLocation;</span>
	}

	public void setWritingSchemaLocation(boolean writingSchemaLocation)
	{
<span class="nc" id="L92">		this.writingSchemaLocation = writingSchemaLocation;</span>
<span class="nc" id="L93">	}</span>

	public String getPreferredPrefix()
	{
<span class="nc" id="L97">		return preferredPrefix;</span>
	}

	public void setPreferredPrefix(String prefix)
	{
<span class="nc" id="L102">		this.preferredPrefix = prefix;</span>
<span class="nc" id="L103">	}</span>

	public void write(XMLStreamWriter writer, LoggingEvent event, boolean isRoot)
		throws XMLStreamException
	{
<span class="nc bnc" id="L108" title="All 2 branches missed.">		if(isRoot)</span>
		{
<span class="nc" id="L110">			writer.writeStartDocument(&quot;utf-8&quot;, &quot;1.0&quot;);</span>
		}

<span class="nc" id="L113">		StaxUtilities.NamespaceInfo ni = StaxUtilities</span>
<span class="nc" id="L114">			.setNamespace(writer, preferredPrefix, NAMESPACE_URI, DEFAULT_NAMESPACE_PREFIX);</span>
<span class="nc" id="L115">		prefix = ni.getPrefix();</span>
<span class="nc" id="L116">		StaxUtilities.writeStartElement(writer, prefix, NAMESPACE_URI, LOGGING_EVENT_NODE);</span>
<span class="nc bnc" id="L117" title="All 2 branches missed.">		if(ni.isCreated())</span>
		{
<span class="nc" id="L119">			StaxUtilities.writeNamespace(writer, prefix, NAMESPACE_URI);</span>
		}

<span class="nc bnc" id="L122" title="All 4 branches missed.">		if(isRoot &amp;&amp; writingSchemaLocation)</span>
		{
<span class="nc" id="L124">			ni = StaxUtilities</span>
<span class="nc" id="L125">				.setNamespace(writer, StaxUtilities.XML_SCHEMA_INSTANCE_PREFIX, StaxUtilities.XML_SCHEMA_INSTANCE_NAMESPACE_URI, StaxUtilities.XML_SCHEMA_INSTANCE_PREFIX);</span>
<span class="nc bnc" id="L126" title="All 2 branches missed.">			if(ni.isCreated())</span>
			{
<span class="nc" id="L128">				StaxUtilities.writeNamespace(writer, ni.getPrefix(), StaxUtilities.XML_SCHEMA_INSTANCE_NAMESPACE_URI);</span>
			}
<span class="nc" id="L130">			StaxUtilities.writeAttribute(writer,</span>
				true,
<span class="nc" id="L132">				ni.getPrefix(),</span>
				StaxUtilities.XML_SCHEMA_INSTANCE_NAMESPACE_URI,
				StaxUtilities.XML_SCHEMA_INSTANCE_SCHEMA_LOCATION_ATTRIBUTE,
				NAMESPACE_URI + &quot; &quot; + NAMESPACE_LOCATION);
		}
<span class="nc" id="L137">		StaxUtilities.writeAttribute(writer, false, prefix, NAMESPACE_URI, LOGGER_ATTRIBUTE, event.getLogger());</span>
<span class="nc" id="L138">		StaxUtilities.writeAttribute(writer, false, prefix, NAMESPACE_URI, LEVEL_ATTRIBUTE, &quot;&quot; + event.getLevel());</span>
<span class="nc" id="L139">		Long sequence = event.getSequenceNumber();</span>
<span class="nc bnc" id="L140" title="All 2 branches missed.">		if(sequence != null)</span>
		{
<span class="nc" id="L142">			StaxUtilities.writeAttribute(writer, false, prefix, NAMESPACE_URI, SEQUENCE_ATTRIBUTE, sequence.toString());</span>
		}
<span class="nc" id="L144">		ThreadInfo threadInfo = event.getThreadInfo();</span>
<span class="nc bnc" id="L145" title="All 2 branches missed.">		if(threadInfo != null)</span>
		{
<span class="nc" id="L147">			Long id = threadInfo.getId();</span>
<span class="nc" id="L148">			String name = threadInfo.getName();</span>
<span class="nc" id="L149">			Long groupId = threadInfo.getGroupId();</span>
<span class="nc" id="L150">			String groupName = threadInfo.getGroupName();</span>
<span class="nc bnc" id="L151" title="All 2 branches missed.">			if(name != null)</span>
			{
<span class="nc" id="L153">				StaxUtilities</span>
<span class="nc" id="L154">					.writeAttributeIfNotNull(writer, false, prefix, NAMESPACE_URI, THREAD_NAME_ATTRIBUTE, name);</span>
			}
<span class="nc bnc" id="L156" title="All 2 branches missed.">			if(id != null)</span>
			{
<span class="nc" id="L158">				StaxUtilities</span>
<span class="nc" id="L159">					.writeAttributeIfNotNull(writer, false, prefix, NAMESPACE_URI, THREAD_ID_ATTRIBUTE, &quot;&quot; + id);</span>
			}
<span class="nc bnc" id="L161" title="All 2 branches missed.">			if(groupName != null)</span>
			{
<span class="nc" id="L163">				StaxUtilities</span>
<span class="nc" id="L164">					.writeAttributeIfNotNull(writer, false, prefix, NAMESPACE_URI, THREAD_GROUP_NAME_ATTRIBUTE, groupName);</span>
			}
<span class="nc bnc" id="L166" title="All 2 branches missed.">			if(groupId != null)</span>
			{
<span class="nc" id="L168">				StaxUtilities</span>
<span class="nc" id="L169">					.writeAttributeIfNotNull(writer, false, prefix, NAMESPACE_URI, THREAD_GROUP_ID_ATTRIBUTE, &quot;&quot; + groupId);</span>
			}
		}

<span class="nc" id="L173">		Long timeStamp = event.getTimeStamp();</span>
<span class="nc bnc" id="L174" title="All 2 branches missed.">		if(timeStamp != null)</span>
		{
<span class="nc bnc" id="L176" title="All 4 branches missed.">			if(timeStampType == TimeStampType.ONLY_TIMESTAMP || timeStampType == TimeStampType.BOTH)</span>
			{
<span class="nc" id="L178">				StaxUtilities</span>
<span class="nc" id="L179">					.writeAttribute(writer, false, prefix, NAMESPACE_URI, TIMESTAMP_ATTRIBUTE, dateTimeFormatter.format(new Date(timeStamp)));</span>
			}
<span class="nc bnc" id="L181" title="All 4 branches missed.">			if(timeStampType == TimeStampType.ONLY_MILLIS || timeStampType == TimeStampType.BOTH)</span>
			{
<span class="nc" id="L183">				StaxUtilities</span>
<span class="nc" id="L184">					.writeAttribute(writer, false, prefix, NAMESPACE_URI, TIMESTAMP_MILLIS_ATTRIBUTE, &quot;&quot; + timeStamp);</span>
			}
		}
<span class="nc" id="L187">		Message message = event.getMessage();</span>
<span class="nc bnc" id="L188" title="All 2 branches missed.">		if(message != null)</span>
		{
<span class="nc" id="L190">			String messagePattern = message.getMessagePattern();</span>
<span class="nc bnc" id="L191" title="All 2 branches missed.">			if(messagePattern != null)</span>
			{
<span class="nc" id="L193">				StaxUtilities.writeSimpleTextNode(writer, prefix, NAMESPACE_URI, MESSAGE_NODE, messagePattern);</span>
			}
<span class="nc" id="L195">			writeArguments(writer, message.getArguments());</span>
		}
<span class="nc" id="L197">		writeThrowable(writer, event);</span>
<span class="nc" id="L198">		writeStringMap(writer, event.getMdc(), MDC_NODE);</span>
<span class="nc" id="L199">		writeNdc(writer, event);</span>
<span class="nc" id="L200">		writeMarker(writer, event);</span>
<span class="nc" id="L201">		writeCallStack(writer, event);</span>
<span class="nc" id="L202">		writeLoggerContext(writer, event);</span>
<span class="nc" id="L203">		writer.writeEndElement();</span>
<span class="nc bnc" id="L204" title="All 2 branches missed.">		if(isRoot)</span>
		{
<span class="nc" id="L206">			writer.writeEndDocument();</span>
		}
<span class="nc" id="L208">	}</span>

	private void writeLoggerContext(XMLStreamWriter writer, LoggingEvent event)
		throws XMLStreamException
	{
<span class="nc" id="L213">		LoggerContext context = event.getLoggerContext();</span>
<span class="nc bnc" id="L214" title="All 2 branches missed.">		if(context == null)</span>
		{
<span class="nc" id="L216">			return;</span>
		}
<span class="nc" id="L218">		StaxUtilities.writeStartElement(writer, prefix, NAMESPACE_URI, LOGGER_CONTEXT_NODE);</span>
<span class="nc" id="L219">		String name = context.getName();</span>
<span class="nc bnc" id="L220" title="All 2 branches missed.">		if(name != null)</span>
		{
<span class="nc" id="L222">			StaxUtilities.writeAttribute(writer, false, prefix, NAMESPACE_URI, LOGGER_CONTEXT_NAME_ATTRIBUTE, name);</span>
		}
<span class="nc" id="L224">		Long timeStamp = context.getBirthTime();</span>
<span class="nc bnc" id="L225" title="All 2 branches missed.">		if(timeStamp != null)</span>
		{
<span class="nc bnc" id="L227" title="All 4 branches missed.">			if(timeStampType == TimeStampType.ONLY_TIMESTAMP || timeStampType == TimeStampType.BOTH)</span>
			{
<span class="nc" id="L229">				StaxUtilities</span>
<span class="nc" id="L230">					.writeAttribute(writer, false, prefix, NAMESPACE_URI, LOGGER_CONTEXT_BIRTH_TIME_ATTRIBUTE, dateTimeFormatter.format(new Date(timeStamp)));</span>
			}
<span class="nc bnc" id="L232" title="All 4 branches missed.">			if(timeStampType == TimeStampType.ONLY_MILLIS || timeStampType == TimeStampType.BOTH)</span>
			{
<span class="nc" id="L234">				StaxUtilities</span>
<span class="nc" id="L235">					.writeAttribute(writer, false, prefix, NAMESPACE_URI, LOGGER_CONTEXT_BIRTH_TIME_MILLIS_ATTRIBUTE, &quot;&quot; + timeStamp);</span>
			}
		}
<span class="nc" id="L238">		writeStringMap(writer, context.getProperties(), LOGGER_CONTEXT_PROPERTIES_NODE);</span>
<span class="nc" id="L239">		writer.writeEndElement();</span>
<span class="nc" id="L240">	}</span>

	private void writeCallStack(XMLStreamWriter writer, LoggingEvent event)
		throws XMLStreamException
	{
<span class="nc" id="L245">		writeStackTraceNode(writer, event.getCallStack(), CALLSTACK_NODE);</span>
<span class="nc" id="L246">	}</span>

	private void writeMarker(XMLStreamWriter writer, LoggingEvent event)
		throws XMLStreamException
	{
<span class="nc" id="L251">		Marker marker = event.getMarker();</span>
<span class="nc bnc" id="L252" title="All 2 branches missed.">		if(marker != null)</span>
		{
<span class="nc" id="L254">			List&lt;String&gt; handledMarkers = new ArrayList&lt;String&gt;();</span>
<span class="nc" id="L255">			writeMarkerNode(writer, marker, handledMarkers);</span>
		}
<span class="nc" id="L257">	}</span>

	private void writeMarkerNode(XMLStreamWriter writer, Marker marker, List&lt;String&gt; handledMarkers)
		throws XMLStreamException
	{
<span class="nc" id="L262">		String markerName = marker.getName();</span>
<span class="nc bnc" id="L263" title="All 2 branches missed.">		if(handledMarkers.contains(markerName))</span>
		{
<span class="nc" id="L265">			StaxUtilities.writeEmptyElement(writer, prefix, NAMESPACE_URI, MARKER_REFERENCE_NODE);</span>
<span class="nc" id="L266">			StaxUtilities.writeAttribute(writer, false, prefix, NAMESPACE_URI, MARKER_REFERENCE_ATTRIBUTE, markerName);</span>
		}
		else
		{
<span class="nc" id="L270">			handledMarkers.add(markerName);</span>
<span class="nc" id="L271">			boolean hasChildren = marker.hasReferences();</span>
<span class="nc bnc" id="L272" title="All 2 branches missed.">			if(hasChildren)</span>
			{
<span class="nc" id="L274">				StaxUtilities.writeStartElement(writer, prefix, NAMESPACE_URI, MARKER_NODE);</span>
			}
			else
			{
<span class="nc" id="L278">				StaxUtilities.writeEmptyElement(writer, prefix, NAMESPACE_URI, MARKER_NODE);</span>
			}
<span class="nc" id="L280">			StaxUtilities.writeAttribute(writer, false, prefix, NAMESPACE_URI, MARKER_NAME_ATTRIBUTE, markerName);</span>
<span class="nc bnc" id="L281" title="All 2 branches missed.">			if(hasChildren)</span>
			{
<span class="nc" id="L283">				Map&lt;String, Marker&gt; children = marker.getReferences();</span>
<span class="nc bnc" id="L284" title="All 2 branches missed.">				for(Map.Entry&lt;String, Marker&gt; current : children.entrySet())</span>
				{
<span class="nc" id="L286">					writeMarkerNode(writer, current.getValue(), handledMarkers);</span>
<span class="nc" id="L287">				}</span>
<span class="nc" id="L288">				writer.writeEndElement();</span>
			}
		}

<span class="nc" id="L292">	}</span>

	private void writeStringMap(XMLStreamWriter writer, Map&lt;String, String&gt; map, String nodeName)
		throws XMLStreamException
	{
<span class="nc bnc" id="L297" title="All 2 branches missed.">		if(map != null)</span>
		{
<span class="nc bnc" id="L299" title="All 2 branches missed.">			if(sortingMdcValues)</span>
			{
<span class="nc" id="L301">				map = new TreeMap&lt;String, String&gt;(map);</span>
			}

<span class="nc" id="L304">			StaxUtilities.writeStartElement(writer, prefix, NAMESPACE_URI, nodeName);</span>
<span class="nc bnc" id="L305" title="All 2 branches missed.">			for(Map.Entry&lt;String, String&gt; entry : map.entrySet())</span>
			{

<span class="nc" id="L308">				StaxUtilities.writeStartElement(writer, prefix, NAMESPACE_URI, STRING_MAP_ENTRY_NODE);</span>
<span class="nc" id="L309">				StaxUtilities</span>
<span class="nc" id="L310">					.writeAttribute(writer, false, prefix, NAMESPACE_URI, STRING_MAP_ENTRY_KEY_ATTRIBUTE, entry.getKey(), WhiteSpaceHandling.PRESERVE_NORMALIZE_NEWLINE);</span>
<span class="nc" id="L311">				StaxUtilities.writeText(writer, entry.getValue());</span>
<span class="nc" id="L312">				writer.writeEndElement();</span>
<span class="nc" id="L313">			}</span>
<span class="nc" id="L314">			writer.writeEndElement();</span>
		}
<span class="nc" id="L316">	}</span>

	private void writeNdc(XMLStreamWriter writer, LoggingEvent event)
		throws XMLStreamException
	{
<span class="nc" id="L321">		Message[] ndc = event.getNdc();</span>
<span class="nc bnc" id="L322" title="All 2 branches missed.">		if(ndc != null)</span>
		{
<span class="nc" id="L324">			StaxUtilities.writeStartElement(writer, prefix, NAMESPACE_URI, NDC_NODE);</span>
<span class="nc bnc" id="L325" title="All 2 branches missed.">			for(Message entry : ndc)</span>
			{

<span class="nc" id="L328">				StaxUtilities.writeStartElement(writer, prefix, NAMESPACE_URI, NDC_ENTRY_NODE);</span>
<span class="nc" id="L329">				StaxUtilities</span>
<span class="nc" id="L330">					.writeSimpleTextNode(writer, prefix, NAMESPACE_URI, MESSAGE_NODE, entry.getMessagePattern());</span>
<span class="nc" id="L331">				writeArguments(writer, entry.getArguments());</span>
<span class="nc" id="L332">				writer.writeEndElement();</span>
			}
<span class="nc" id="L334">			writer.writeEndElement();</span>
		}
<span class="nc" id="L336">	}</span>

	private void writeArguments(XMLStreamWriter writer, String[] arguments)
		throws XMLStreamException
	{
<span class="nc bnc" id="L341" title="All 2 branches missed.">		if(arguments != null)</span>
		{
<span class="nc" id="L343">			StaxUtilities.writeStartElement(writer, prefix, NAMESPACE_URI, ARGUMENTS_NODE);</span>
<span class="nc bnc" id="L344" title="All 2 branches missed.">			for(String current : arguments)</span>
			{
<span class="nc bnc" id="L346" title="All 2 branches missed.">				if(current == null)</span>
				{
<span class="nc" id="L348">					StaxUtilities.writeEmptyElement(writer, prefix, NAMESPACE_URI, NULL_ARGUMENT_NODE);</span>
				}
				else
				{
<span class="nc" id="L352">					StaxUtilities.writeSimpleTextNode(writer, prefix, NAMESPACE_URI, ARGUMENT_NODE, current);</span>
				}
			}
<span class="nc" id="L355">			writer.writeEndElement();</span>
		}
<span class="nc" id="L357">	}</span>

	private void writeThrowable(XMLStreamWriter writer, LoggingEvent event)
		throws XMLStreamException
	{
<span class="nc" id="L362">		ThrowableInfo throwable = event.getThrowable();</span>
<span class="nc" id="L363">		writeThrowableNode(writer, throwable, THROWABLE_NODE);</span>
<span class="nc" id="L364">	}</span>

	private void writeThrowableNode(XMLStreamWriter writer, ThrowableInfo throwable, String nodeName)
		throws XMLStreamException
	{
<span class="nc bnc" id="L369" title="All 2 branches missed.">		if(throwable != null)</span>
		{
<span class="nc" id="L371">			StaxUtilities.writeStartElement(writer, prefix, NAMESPACE_URI, nodeName);</span>
<span class="nc" id="L372">			StaxUtilities</span>
<span class="nc" id="L373">				.writeAttribute(writer, false, prefix, NAMESPACE_URI, THROWABLE_CLASS_NAME_ATTRIBUTE, throwable.getName());</span>
<span class="nc" id="L374">			int omitted = throwable.getOmittedElements();</span>
<span class="nc bnc" id="L375" title="All 2 branches missed.">			if(omitted != 0)</span>
			{
<span class="nc" id="L377">				StaxUtilities</span>
<span class="nc" id="L378">					.writeAttribute(writer, false, prefix, NAMESPACE_URI, OMITTED_ELEMENTS_ATTRIBUTE, &quot;&quot; + throwable</span>
<span class="nc" id="L379">						.getOmittedElements());</span>
			}
			// TODO: can message be null?
<span class="nc" id="L382">			StaxUtilities</span>
<span class="nc" id="L383">				.writeSimpleTextNode(writer, prefix, NAMESPACE_URI, THROWABLE_MESSAGE_NODE, throwable.getMessage());</span>
<span class="nc" id="L384">			writeStackTraceNode(writer, throwable.getStackTrace(), STACK_TRACE_NODE);</span>
<span class="nc" id="L385">			writeThrowableNode(writer, throwable.getCause(), CAUSE_NODE);</span>
<span class="nc" id="L386">			writer.writeEndElement();</span>
		}
<span class="nc" id="L388">	}</span>

	private void writeStackTraceNode(XMLStreamWriter writer, ExtendedStackTraceElement[] ste, String nodeName)
		throws XMLStreamException
	{
<span class="nc bnc" id="L393" title="All 2 branches missed.">		if(ste != null)</span>
		{
<span class="nc" id="L395">			StaxUtilities.writeStartElement(writer, prefix, NAMESPACE_URI, nodeName);</span>
<span class="nc" id="L396">			StackTraceElementWriter steWriter = new StackTraceElementWriter();</span>
<span class="nc" id="L397">			steWriter.setPreferredPrefix(prefix);</span>
<span class="nc bnc" id="L398" title="All 2 branches missed.">			for(ExtendedStackTraceElement elem : ste)</span>
			{
<span class="nc" id="L400">				steWriter.write(writer, elem, false);</span>
			}
<span class="nc" id="L402">			writer.writeEndElement();</span>
		}
<span class="nc" id="L404">	}</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>