<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>LoggingEvent.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">43_lilith</a> &gt; <a href="index.source.html" class="el_package">de.huxhorn.lilith.data.logging</a> &gt; <span class="el_source">LoggingEvent.java</span></div><h1>LoggingEvent.java</h1><pre class="source lang-java linenums">/*
 * Lilith - a log event viewer.
 * Copyright (C) 2007-2009 Joern Huxhorn
 * 
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Lesser General Public License for more details.
 * 
 * You should have received a copy of the GNU Lesser General Public License
 * along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.
 */
package de.huxhorn.lilith.data.logging;

import java.io.Serializable;
import java.util.Arrays;
import java.util.Map;

/**
 * &lt;p&gt;Replacement for ch.qos.logback.classic.spi.LoggingEvent&lt;/p&gt;
 * &lt;p/&gt;
 * &lt;p&gt;This class has been implemented for optimized serialization (size) and creation (speed).&lt;/p&gt;
 * &lt;p/&gt;
 * &lt;p&gt;Only the unformatted message pattern and the argument array are serialized. The formatted message is (re)created
 * lazily on demand.&lt;/p&gt;
 * &lt;p/&gt;
 * &lt;p&gt;Additionally, a LoggingEvent can contain an optional applicationId so it's possible to recognize the application
 * the events are originating from. This is extremely useful if more than one application is running on the same
 * host.&lt;/p&gt;
 */
public class LoggingEvent
	implements Serializable
{
	private static final long serialVersionUID = -5298580552977499507L;

<span class="nc" id="L41">	public enum Level</span>
	{
<span class="nc" id="L43">		TRACE,</span>
<span class="nc" id="L44">		DEBUG,</span>
<span class="nc" id="L45">		INFO,</span>
<span class="nc" id="L46">		WARN,</span>
<span class="nc" id="L47">		ERROR</span>
	}

	private String logger;
	private Level level;
	private ThreadInfo threadInfo;
	private LoggerContext loggerContext;
	private Long timeStamp;
	private Long sequenceNumber;

	private ThrowableInfo throwable;
	private Map&lt;String, String&gt; mdc;
	private Message[] ndc;
	private Marker marker;
	private ExtendedStackTraceElement[] callStack;
	private Message message;

	public LoggingEvent()
<span class="nc" id="L65">	{</span>
<span class="nc" id="L66">	}</span>

	public String getLogger()
	{
<span class="nc" id="L70">		return logger;</span>
	}

	public void setLogger(String logger)
	{
<span class="nc" id="L75">		this.logger = logger;</span>
<span class="nc" id="L76">	}</span>

	public ThreadInfo getThreadInfo()
	{
<span class="nc" id="L80">		return threadInfo;</span>
	}

	public void setThreadInfo(ThreadInfo threadInfo)
	{
<span class="nc" id="L85">		this.threadInfo = threadInfo;</span>
<span class="nc" id="L86">	}</span>

	public Long getSequenceNumber()
	{
<span class="nc" id="L90">		return sequenceNumber;</span>
	}

	public void setSequenceNumber(Long sequenceNumber)
	{
<span class="nc" id="L95">		this.sequenceNumber = sequenceNumber;</span>
<span class="nc" id="L96">	}</span>

	public LoggerContext getLoggerContext()
	{
<span class="nc" id="L100">		return loggerContext;</span>
	}

	public void setLoggerContext(LoggerContext loggerContext)
	{
<span class="nc" id="L105">		this.loggerContext = loggerContext;</span>
<span class="nc" id="L106">	}</span>

	public Message getMessage()
	{
<span class="nc" id="L110">		return message;</span>
	}

	public void setMessage(Message message)
	{
<span class="nc" id="L115">		this.message = message;</span>
<span class="nc" id="L116">	}</span>

	public Long getTimeStamp()
	{
<span class="nc" id="L120">		return timeStamp;</span>
	}

	public void setTimeStamp(Long timeStamp)
	{
<span class="nc" id="L125">		this.timeStamp = timeStamp;</span>
<span class="nc" id="L126">	}</span>

	public Level getLevel()
	{
<span class="nc" id="L130">		return level;</span>
	}

	public void setLevel(Level level)
	{
<span class="nc" id="L135">		this.level = level;</span>
<span class="nc" id="L136">	}</span>

	public ThrowableInfo getThrowable()
	{
<span class="nc" id="L140">		return throwable;</span>
	}

	public void setThrowable(ThrowableInfo throwable)
	{
<span class="nc" id="L145">		this.throwable = throwable;</span>
<span class="nc" id="L146">	}</span>

	public Map&lt;String, String&gt; getMdc()
	{
<span class="nc" id="L150">		return mdc;</span>
	}

	public void setMdc(Map&lt;String, String&gt; mdc)
	{
<span class="nc" id="L155">		this.mdc = mdc;</span>
<span class="nc" id="L156">	}</span>

	public Message[] getNdc()
	{
<span class="nc" id="L160">		return ndc;</span>
	}

	public void setNdc(Message[] ndc)
	{
<span class="nc" id="L165">		this.ndc = ndc;</span>
<span class="nc" id="L166">	}</span>

	public Marker getMarker()
	{
<span class="nc" id="L170">		return marker;</span>
	}

	public void setMarker(Marker marker)
	{
<span class="nc" id="L175">		this.marker = marker;</span>
<span class="nc" id="L176">	}</span>

	public ExtendedStackTraceElement[] getCallStack()
	{
<span class="nc" id="L180">		return callStack;</span>
	}

	public void setCallStack(ExtendedStackTraceElement[] callStack)
	{
<span class="nc" id="L185">		this.callStack = callStack;</span>
<span class="nc" id="L186">	}</span>

	public boolean equals(Object o)
	{
<span class="nc bnc" id="L190" title="All 2 branches missed.">		if(this == o) return true;</span>
<span class="nc bnc" id="L191" title="All 4 branches missed.">		if(o == null || getClass() != o.getClass()) return false;</span>

<span class="nc" id="L193">		LoggingEvent event = (LoggingEvent) o;</span>

<span class="nc bnc" id="L195" title="All 2 branches missed.">		if(level != event.level) return false;</span>
<span class="nc bnc" id="L196" title="All 6 branches missed.">		if(sequenceNumber != null ? !sequenceNumber.equals(event.sequenceNumber) : event.sequenceNumber != null)</span>
		{
<span class="nc" id="L198">			return false;</span>
		}
<span class="nc bnc" id="L200" title="All 6 branches missed.">		if(timeStamp != null ? !timeStamp.equals(event.timeStamp) : event.timeStamp != null) return false;</span>
<span class="nc bnc" id="L201" title="All 6 branches missed.">		if(logger != null ? !logger.equals(event.logger) : event.logger != null) return false;</span>
<span class="nc bnc" id="L202" title="All 2 branches missed.">		if(loggerContext != null ? !loggerContext</span>
<span class="nc bnc" id="L203" title="All 4 branches missed.">			.equals(event.loggerContext) : event.loggerContext != null)</span>
		{
<span class="nc" id="L205">			return false;</span>
		}
<span class="nc bnc" id="L207" title="All 6 branches missed.">		if(message != null ? !message.equals(event.message) : event.message != null) return false;</span>
<span class="nc bnc" id="L208" title="All 6 branches missed.">		if(threadInfo != null ? !threadInfo.equals(event.threadInfo) : event.threadInfo != null) return false;</span>
<span class="nc bnc" id="L209" title="All 2 branches missed.">		if(!Arrays.equals(callStack, event.callStack)) return false;</span>
<span class="nc bnc" id="L210" title="All 6 branches missed.">		if(marker != null ? !marker.equals(event.marker) : event.marker != null) return false;</span>
<span class="nc bnc" id="L211" title="All 6 branches missed.">		if(mdc != null ? !mdc.equals(event.mdc) : event.mdc != null) return false;</span>
<span class="nc bnc" id="L212" title="All 2 branches missed.">		if(!Arrays.equals(ndc, event.ndc)) return false;</span>
<span class="nc bnc" id="L213" title="All 6 branches missed.">		if(throwable != null ? !throwable.equals(event.throwable) : event.throwable != null) return false;</span>

<span class="nc" id="L215">		return true;</span>
	}

	public int hashCode()
	{
		int result;
<span class="nc bnc" id="L221" title="All 2 branches missed.">		result = (logger != null ? logger.hashCode() : 0);</span>
<span class="nc bnc" id="L222" title="All 2 branches missed.">		result = 31 * result + (sequenceNumber != null ? sequenceNumber.hashCode() : 0);</span>
<span class="nc bnc" id="L223" title="All 2 branches missed.">		result = 31 * result + (level != null ? level.hashCode() : 0);</span>
<span class="nc bnc" id="L224" title="All 2 branches missed.">		result = 31 * result + (message != null ? message.hashCode() : 0);</span>
<span class="nc bnc" id="L225" title="All 2 branches missed.">		result = 31 * result + (timeStamp != null ? timeStamp.hashCode() : 0);</span>
<span class="nc bnc" id="L226" title="All 2 branches missed.">		result = 31 * result + (threadInfo != null ? threadInfo.hashCode() : 0);</span>
<span class="nc" id="L227">		return result;</span>
	}

	@Override
	public String toString()
	{
<span class="nc" id="L233">		StringBuilder result = new StringBuilder();</span>
<span class="nc" id="L234">		result.append(&quot;LoggingEvent[&quot;);</span>
<span class="nc" id="L235">		result.append(&quot;logger=&quot;).append(logger).append(&quot;, &quot;);</span>
<span class="nc" id="L236">		result.append(&quot;level=&quot;).append(level).append(&quot;, &quot;);</span>
<span class="nc" id="L237">		result.append(&quot;message=&quot;).append(message).append(&quot;, &quot;);</span>
<span class="nc" id="L238">		result.append(&quot;threadInfo=&quot;).append(threadInfo).append(&quot;, &quot;);</span>
<span class="nc" id="L239">		result.append(&quot;loggerContext=&quot;).append(loggerContext).append(&quot;, &quot;);</span>
<span class="nc" id="L240">		result.append(&quot;sequenceNumber=&quot;).append(sequenceNumber).append(&quot;, &quot;);</span>
<span class="nc" id="L241">		result.append(&quot;timeStamp=&quot;).append(timeStamp);</span>

<span class="nc" id="L243">		result.append(&quot;]&quot;);</span>
<span class="nc" id="L244">		return result.toString();</span>
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>