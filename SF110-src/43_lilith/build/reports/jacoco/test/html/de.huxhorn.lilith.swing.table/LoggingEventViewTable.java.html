<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>LoggingEventViewTable.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">43_lilith</a> &gt; <a href="index.source.html" class="el_package">de.huxhorn.lilith.swing.table</a> &gt; <span class="el_source">LoggingEventViewTable.java</span></div><h1>LoggingEventViewTable.java</h1><pre class="source lang-java linenums">/*
 * Lilith - a log event viewer.
 * Copyright (C) 2007-2009 Joern Huxhorn
 * 
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.
 */
package de.huxhorn.lilith.swing.table;

import de.huxhorn.lilith.data.logging.LoggingEvent;
import de.huxhorn.lilith.swing.MainFrame;
import de.huxhorn.lilith.swing.table.model.EventWrapperTableModel;
import de.huxhorn.lilith.swing.table.model.PersistentTableColumnModel;
import de.huxhorn.lilith.swing.table.renderer.ApplicationRenderer;
import de.huxhorn.lilith.swing.table.renderer.IdRenderer;
import de.huxhorn.lilith.swing.table.renderer.LevelRenderer;
import de.huxhorn.lilith.swing.table.renderer.LoggerNameRenderer;
import de.huxhorn.lilith.swing.table.renderer.MarkerRenderer;
import de.huxhorn.lilith.swing.table.renderer.MessageRenderer;
import de.huxhorn.lilith.swing.table.renderer.NdcRenderer;
import de.huxhorn.lilith.swing.table.renderer.SourceRenderer;
import de.huxhorn.lilith.swing.table.renderer.ThreadRenderer;
import de.huxhorn.lilith.swing.table.renderer.ThrowableRenderer;
import de.huxhorn.lilith.swing.table.renderer.TimestampRenderer;
import de.huxhorn.lilith.swing.table.tooltips.ApplicationTooltipGenerator;
import de.huxhorn.lilith.swing.table.tooltips.LoggerNameTooltipGenerator;
import de.huxhorn.lilith.swing.table.tooltips.MarkerTooltipGenerator;
import de.huxhorn.lilith.swing.table.tooltips.MessageTooltipGenerator;
import de.huxhorn.lilith.swing.table.tooltips.NdcTooltipGenerator;
import de.huxhorn.lilith.swing.table.tooltips.SourceTooltipGenerator;
import de.huxhorn.lilith.swing.table.tooltips.ThreadTooltipGenerator;
import de.huxhorn.lilith.swing.table.tooltips.ThrowableTooltipGenerator;
import de.huxhorn.lilith.swing.table.tooltips.TimestampTooltipGenerator;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;

import javax.swing.table.TableColumn;

public class LoggingEventViewTable
	extends EventWrapperViewTable&lt;LoggingEvent&gt;
{
	public static final String DEFAULT_COLUMN_NAME_ID = &quot;ID&quot;;
	public static final String DEFAULT_COLUMN_NAME_TIMESTAMP = &quot;Timestamp&quot;;
	public static final String DEFAULT_COLUMN_NAME_LEVEL = &quot;Level&quot;;
	public static final String DEFAULT_COLUMN_NAME_LOGGER_NAME = &quot;Logger&quot;;
	public static final String DEFAULT_COLUMN_NAME_MESSAGE = &quot;Message&quot;;
	public static final String DEFAULT_COLUMN_NAME_THROWABLE = &quot;Throwable&quot;;
	public static final String DEFAULT_COLUMN_NAME_THREAD = &quot;Thread&quot;;
	public static final String DEFAULT_COLUMN_NAME_MARKER = &quot;Marker&quot;;
	public static final String DEFAULT_COLUMN_NAME_NDC = &quot;NDC&quot;;
	public static final String DEFAULT_COLUMN_NAME_APPLICATIION = &quot;Application&quot;;
	public static final String DEFAULT_COLUMN_NAME_SOURCE = &quot;Source&quot;;

	public LoggingEventViewTable(MainFrame mainFrame, EventWrapperTableModel&lt;LoggingEvent&gt; model, boolean global)
	{
<span class="nc" id="L68">		super(mainFrame, model, global);</span>
<span class="nc" id="L69">	}</span>

	protected void initTooltipGenerators()
	{
<span class="nc" id="L73">		tooltipGenerators = new HashMap&lt;Object, TooltipGenerator&gt;();</span>
<span class="nc" id="L74">		tooltipGenerators.put(DEFAULT_COLUMN_NAME_LOGGER_NAME,</span>
			new LoggerNameTooltipGenerator());
<span class="nc" id="L76">		tooltipGenerators.put(DEFAULT_COLUMN_NAME_MARKER,</span>
			new MarkerTooltipGenerator());
<span class="nc" id="L78">		tooltipGenerators.put(DEFAULT_COLUMN_NAME_NDC,</span>
			new NdcTooltipGenerator());
<span class="nc" id="L80">		tooltipGenerators.put(DEFAULT_COLUMN_NAME_MESSAGE,</span>
			new MessageTooltipGenerator());
<span class="nc" id="L82">		tooltipGenerators.put(DEFAULT_COLUMN_NAME_THREAD,</span>
			new ThreadTooltipGenerator());
<span class="nc" id="L84">		tooltipGenerators.put(DEFAULT_COLUMN_NAME_THROWABLE,</span>
			new ThrowableTooltipGenerator());
<span class="nc" id="L86">		tooltipGenerators.put(DEFAULT_COLUMN_NAME_TIMESTAMP,</span>
			new TimestampTooltipGenerator());
<span class="nc" id="L88">		tooltipGenerators.put(DEFAULT_COLUMN_NAME_APPLICATIION,</span>
			new ApplicationTooltipGenerator());
<span class="nc" id="L90">		tooltipGenerators.put(DEFAULT_COLUMN_NAME_SOURCE,</span>
			new SourceTooltipGenerator());
<span class="nc" id="L92">	}</span>

	protected void initTableColumns()
	{
<span class="nc" id="L96">		tableColumns = new HashMap&lt;Object, TableColumn&gt;();</span>
		{
<span class="nc" id="L98">			TableColumn col = new TableColumn(0);</span>
<span class="nc" id="L99">			col.setHeaderValue(DEFAULT_COLUMN_NAME_ID);</span>
<span class="nc" id="L100">			col.setCellRenderer(new IdRenderer());</span>
<span class="nc" id="L101">			tableColumns.put(col.getHeaderValue(), col);</span>
		}
		{
<span class="nc" id="L104">			TableColumn col = new TableColumn(0);</span>
<span class="nc" id="L105">			col.setHeaderValue(DEFAULT_COLUMN_NAME_TIMESTAMP);</span>
<span class="nc" id="L106">			col.setCellRenderer(new TimestampRenderer());</span>
<span class="nc" id="L107">			tableColumns.put(col.getHeaderValue(), col);</span>
		}
		{
<span class="nc" id="L110">			TableColumn col = new TableColumn(0);</span>
<span class="nc" id="L111">			col.setHeaderValue(DEFAULT_COLUMN_NAME_LEVEL);</span>
<span class="nc" id="L112">			col.setCellRenderer(new LevelRenderer());</span>
<span class="nc" id="L113">			tableColumns.put(col.getHeaderValue(), col);</span>
		}
		{
<span class="nc" id="L116">			TableColumn col = new TableColumn(0);</span>
<span class="nc" id="L117">			col.setHeaderValue(DEFAULT_COLUMN_NAME_LOGGER_NAME);</span>
<span class="nc" id="L118">			col.setCellRenderer(new LoggerNameRenderer());</span>
<span class="nc" id="L119">			tableColumns.put(col.getHeaderValue(), col);</span>
		}
		{
<span class="nc" id="L122">			TableColumn col = new TableColumn(0);</span>
<span class="nc" id="L123">			col.setHeaderValue(DEFAULT_COLUMN_NAME_MESSAGE);</span>
<span class="nc" id="L124">			col.setCellRenderer(new MessageRenderer());</span>
<span class="nc" id="L125">			tableColumns.put(col.getHeaderValue(), col);</span>
		}
		{
<span class="nc" id="L128">			TableColumn col = new TableColumn(0);</span>
<span class="nc" id="L129">			col.setHeaderValue(DEFAULT_COLUMN_NAME_THROWABLE);</span>
<span class="nc" id="L130">			col.setCellRenderer(new ThrowableRenderer());</span>
<span class="nc" id="L131">			tableColumns.put(col.getHeaderValue(), col);</span>
		}
		{
<span class="nc" id="L134">			TableColumn col = new TableColumn(0);</span>
<span class="nc" id="L135">			col.setHeaderValue(DEFAULT_COLUMN_NAME_THREAD);</span>
<span class="nc" id="L136">			col.setCellRenderer(new ThreadRenderer());</span>
<span class="nc" id="L137">			tableColumns.put(col.getHeaderValue(), col);</span>
		}
		{
<span class="nc" id="L140">			TableColumn col = new TableColumn(0);</span>
<span class="nc" id="L141">			col.setHeaderValue(DEFAULT_COLUMN_NAME_MARKER);</span>
<span class="nc" id="L142">			col.setCellRenderer(new MarkerRenderer());</span>
<span class="nc" id="L143">			tableColumns.put(col.getHeaderValue(), col);</span>
		}
		{
<span class="nc" id="L146">			TableColumn col = new TableColumn(0);</span>
<span class="nc" id="L147">			col.setHeaderValue(DEFAULT_COLUMN_NAME_NDC);</span>
<span class="nc" id="L148">			col.setCellRenderer(new NdcRenderer());</span>
<span class="nc" id="L149">			tableColumns.put(col.getHeaderValue(), col);</span>
		}
		{
<span class="nc" id="L152">			TableColumn col = new TableColumn(0);</span>
<span class="nc" id="L153">			col.setHeaderValue(DEFAULT_COLUMN_NAME_APPLICATIION);</span>
<span class="nc" id="L154">			col.setCellRenderer(new ApplicationRenderer());</span>
<span class="nc" id="L155">			tableColumns.put(col.getHeaderValue(), col);</span>
		}
		{
<span class="nc" id="L158">			TableColumn col = new TableColumn(0);</span>
<span class="nc" id="L159">			col.setHeaderValue(DEFAULT_COLUMN_NAME_SOURCE);</span>
<span class="nc" id="L160">			col.setCellRenderer(new SourceRenderer());</span>
<span class="nc" id="L161">			tableColumns.put(col.getHeaderValue(), col);</span>
		}
<span class="nc" id="L163">	}</span>

	protected List&lt;PersistentTableColumnModel.TableColumnLayoutInfo&gt; getDefaultLayout()
	{
<span class="nc" id="L167">		ArrayList&lt;PersistentTableColumnModel.TableColumnLayoutInfo&gt; result =</span>
			new ArrayList&lt;PersistentTableColumnModel.TableColumnLayoutInfo&gt;();

<span class="nc" id="L170">		result.add(new PersistentTableColumnModel.TableColumnLayoutInfo(DEFAULT_COLUMN_NAME_ID, 75, true));</span>
<span class="nc" id="L171">		result.add(new PersistentTableColumnModel.TableColumnLayoutInfo(DEFAULT_COLUMN_NAME_TIMESTAMP, 75, true));</span>
<span class="nc" id="L172">		result.add(new PersistentTableColumnModel.TableColumnLayoutInfo(DEFAULT_COLUMN_NAME_LEVEL, 75, true));</span>
<span class="nc" id="L173">		result.add(new PersistentTableColumnModel.TableColumnLayoutInfo(DEFAULT_COLUMN_NAME_LOGGER_NAME, 75, true));</span>
<span class="nc" id="L174">		result.add(new PersistentTableColumnModel.TableColumnLayoutInfo(DEFAULT_COLUMN_NAME_MESSAGE, 75, true));</span>
<span class="nc" id="L175">		result.add(new PersistentTableColumnModel.TableColumnLayoutInfo(DEFAULT_COLUMN_NAME_THROWABLE, 75, true));</span>
<span class="nc" id="L176">		result.add(new PersistentTableColumnModel.TableColumnLayoutInfo(DEFAULT_COLUMN_NAME_THREAD, 75, true));</span>
<span class="nc" id="L177">		result.add(new PersistentTableColumnModel.TableColumnLayoutInfo(DEFAULT_COLUMN_NAME_MARKER, 75, true));</span>
<span class="nc" id="L178">		result.add(new PersistentTableColumnModel.TableColumnLayoutInfo(DEFAULT_COLUMN_NAME_NDC, 75, true));</span>
<span class="nc" id="L179">		result.add(new PersistentTableColumnModel.TableColumnLayoutInfo(DEFAULT_COLUMN_NAME_APPLICATIION, 75, true));</span>
<span class="nc" id="L180">		result.add(new PersistentTableColumnModel.TableColumnLayoutInfo(DEFAULT_COLUMN_NAME_SOURCE, 75, isGlobal()));</span>

<span class="nc" id="L182">		return result;</span>
	}

	public void saveLayout()
	{
<span class="nc" id="L187">		List&lt;PersistentTableColumnModel.TableColumnLayoutInfo&gt; infos = tableColumnModel.getColumnLayoutInfos();</span>
<span class="nc" id="L188">		mainFrame.getApplicationPreferences().writeLoggingColumnLayout(isGlobal(), infos);</span>
<span class="nc" id="L189">	}</span>

	protected List&lt;PersistentTableColumnModel.TableColumnLayoutInfo&gt; loadLayout()
	{
<span class="nc" id="L193">		return mainFrame.getApplicationPreferences().readLoggingColumnLayout(isGlobal());</span>
	}

	@Override
	public Colors resolveColors(Object object, int row, int column)
	{
<span class="nc bnc" id="L199" title="All 2 branches missed.">		if(object instanceof LoggingEvent.Level)</span>
		{
<span class="nc" id="L201">			return mainFrame.getColors((LoggingEvent.Level) object);</span>
		}
<span class="nc" id="L203">		return super.resolveColors(object, row, column);</span>
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>