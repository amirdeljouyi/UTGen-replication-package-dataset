<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>SettingPanel.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">73_fim1</a> &gt; <a href="index.source.html" class="el_package">osa.ora.server.client.ui</a> &gt; <span class="el_source">SettingPanel.java</span></div><h1>SettingPanel.java</h1><pre class="source lang-java linenums">/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/*
 * SettingPanel.java
 *
 * Created on Nov 17, 2009, 11:56:55 PM
 */

package osa.ora.server.client.ui;

import javax.swing.JDialog;
import javax.swing.JOptionPane;
import osa.ora.server.client.ChatClientApp;

/**
 *
 * @author ooransa
 */
public class SettingPanel extends javax.swing.JPanel {
    ChatClientApp chatApp;
    JDialog parentFrame;
    /** Creates new form SettingPanel */
<span class="nc" id="L26">    public SettingPanel(JDialog parentFrame,ChatClientApp chatApp) {</span>
<span class="nc" id="L27">        this.chatApp=chatApp;</span>
<span class="nc" id="L28">        this.parentFrame=parentFrame;</span>
<span class="nc" id="L29">        initComponents();</span>
<span class="nc" id="L30">    }</span>
    public void updateStatusList(String [] statusList,int defaultStatus){
<span class="nc" id="L32">        statusComboBox.setModel(new javax.swing.DefaultComboBoxModel(statusList));</span>
<span class="nc" id="L33">        statusComboBox.setSelectedIndex(defaultStatus-1);</span>
<span class="nc" id="L34">        statusComboBox.validate();</span>
<span class="nc" id="L35">    }</span>
    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings(&quot;unchecked&quot;)
    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;//GEN-BEGIN:initComponents
    private void initComponents() {

<span class="nc" id="L45">        jLabel1 = new javax.swing.JLabel();</span>
<span class="nc" id="L46">        jLabel2 = new javax.swing.JLabel();</span>
<span class="nc" id="L47">        jLabel3 = new javax.swing.JLabel();</span>
<span class="nc" id="L48">        serverIPField = new javax.swing.JTextField();</span>
<span class="nc" id="L49">        serverPortField = new javax.swing.JTextField();</span>
<span class="nc" id="L50">        jLabel4 = new javax.swing.JLabel();</span>
<span class="nc" id="L51">        rememberBox = new javax.swing.JCheckBox();</span>
<span class="nc" id="L52">        fontButton = new javax.swing.JButton();</span>
<span class="nc" id="L53">        jLabel5 = new javax.swing.JLabel();</span>
<span class="nc" id="L54">        alertComboBox = new javax.swing.JComboBox();</span>
<span class="nc" id="L55">        jLabel6 = new javax.swing.JLabel();</span>
<span class="nc" id="L56">        changePassButton = new javax.swing.JButton();</span>
<span class="nc" id="L57">        cancelButton = new javax.swing.JButton();</span>
<span class="nc" id="L58">        applyButton = new javax.swing.JButton();</span>
<span class="nc" id="L59">        statusComboBox = new javax.swing.JComboBox();</span>
<span class="nc" id="L60">        jLabel7 = new javax.swing.JLabel();</span>
<span class="nc" id="L61">        jLabel8 = new javax.swing.JLabel();</span>
<span class="nc" id="L62">        onlineCheckBox = new javax.swing.JCheckBox();</span>
<span class="nc" id="L63">        usersCheckBox = new javax.swing.JCheckBox();</span>

<span class="nc" id="L65">        setLayout(null);</span>

<span class="nc" id="L67">        jLabel1.setFont(new java.awt.Font(&quot;Tahoma&quot;, 1, 11));</span>
<span class="nc" id="L68">        jLabel1.setText(&quot;Server Settings&quot;);</span>
<span class="nc" id="L69">        add(jLabel1);</span>
<span class="nc" id="L70">        jLabel1.setBounds(10, 10, 130, 14);</span>

<span class="nc" id="L72">        jLabel2.setText(&quot;Server IP:&quot;);</span>
<span class="nc" id="L73">        add(jLabel2);</span>
<span class="nc" id="L74">        jLabel2.setBounds(20, 30, 70, 14);</span>

<span class="nc" id="L76">        jLabel3.setText(&quot;Port:&quot;);</span>
<span class="nc" id="L77">        add(jLabel3);</span>
<span class="nc" id="L78">        jLabel3.setBounds(20, 50, 70, 14);</span>
<span class="nc" id="L79">        add(serverIPField);</span>
<span class="nc" id="L80">        serverIPField.setBounds(80, 30, 90, 20);</span>
<span class="nc" id="L81">        add(serverPortField);</span>
<span class="nc" id="L82">        serverPortField.setBounds(80, 50, 90, 20);</span>

<span class="nc" id="L84">        jLabel4.setFont(new java.awt.Font(&quot;Tahoma&quot;, 1, 11));</span>
<span class="nc" id="L85">        jLabel4.setText(&quot;Login Settings:&quot;);</span>
<span class="nc" id="L86">        add(jLabel4);</span>
<span class="nc" id="L87">        jLabel4.setBounds(10, 80, 130, 14);</span>

<span class="nc" id="L89">        rememberBox.setText(&quot;Remember Password&quot;);</span>
<span class="nc" id="L90">        add(rememberBox);</span>
<span class="nc" id="L91">        rememberBox.setBounds(20, 150, 160, 23);</span>

<span class="nc" id="L93">        fontButton.setText(&quot;Change Font/Color&quot;);</span>
<span class="nc" id="L94">        fontButton.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L96">                fontButtonActionPerformed(evt);</span>
<span class="nc" id="L97">            }</span>
        });
<span class="nc" id="L99">        add(fontButton);</span>
<span class="nc" id="L100">        fontButton.setBounds(30, 350, 140, 23);</span>

<span class="nc" id="L102">        jLabel5.setFont(new java.awt.Font(&quot;Tahoma&quot;, 1, 11));</span>
<span class="nc" id="L103">        jLabel5.setText(&quot;Alert Settings:&quot;);</span>
<span class="nc" id="L104">        add(jLabel5);</span>
<span class="nc" id="L105">        jLabel5.setBounds(10, 210, 130, 14);</span>

<span class="nc" id="L107">        alertComboBox.setModel(new javax.swing.DefaultComboBoxModel(new String[] { &quot;No Sound&quot;, &quot;Alert 1&quot;, &quot;Alert 2&quot; }));</span>
<span class="nc" id="L108">        add(alertComboBox);</span>
<span class="nc" id="L109">        alertComboBox.setBounds(20, 230, 150, 20);</span>

<span class="nc" id="L111">        jLabel6.setFont(new java.awt.Font(&quot;Tahoma&quot;, 1, 11));</span>
<span class="nc" id="L112">        jLabel6.setText(&quot;Contact List:&quot;);</span>
<span class="nc" id="L113">        add(jLabel6);</span>
<span class="nc" id="L114">        jLabel6.setBounds(10, 260, 180, 14);</span>

<span class="nc" id="L116">        changePassButton.setText(&quot;Change Password&quot;);</span>
<span class="nc" id="L117">        changePassButton.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L119">                changePassButtonActionPerformed(evt);</span>
<span class="nc" id="L120">            }</span>
        });
<span class="nc" id="L122">        add(changePassButton);</span>
<span class="nc" id="L123">        changePassButton.setBounds(30, 180, 140, 23);</span>

<span class="nc" id="L125">        cancelButton.setText(&quot;Cancel&quot;);</span>
<span class="nc" id="L126">        cancelButton.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L128">                cancelButtonActionPerformed(evt);</span>
<span class="nc" id="L129">            }</span>
        });
<span class="nc" id="L131">        add(cancelButton);</span>
<span class="nc" id="L132">        cancelButton.setBounds(100, 390, 80, 23);</span>

<span class="nc" id="L134">        applyButton.setText(&quot;Apply&quot;);</span>
<span class="nc" id="L135">        applyButton.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L137">                applyButtonActionPerformed(evt);</span>
<span class="nc" id="L138">            }</span>
        });
<span class="nc" id="L140">        add(applyButton);</span>
<span class="nc" id="L141">        applyButton.setBounds(20, 390, 80, 23);</span>

<span class="nc" id="L143">        statusComboBox.setModel(new javax.swing.DefaultComboBoxModel(new String[] { &quot;No Sound&quot;, &quot;Alert 1&quot;, &quot;Alert 2&quot; }));</span>
<span class="nc" id="L144">        statusComboBox.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L146">                statusComboBoxActionPerformed(evt);</span>
<span class="nc" id="L147">            }</span>
        });
<span class="nc" id="L149">        add(statusComboBox);</span>
<span class="nc" id="L150">        statusComboBox.setBounds(20, 120, 150, 20);</span>

<span class="nc" id="L152">        jLabel7.setText(&quot;Default Status:&quot;);</span>
<span class="nc" id="L153">        add(jLabel7);</span>
<span class="nc" id="L154">        jLabel7.setBounds(20, 100, 120, 14);</span>

<span class="nc" id="L156">        jLabel8.setFont(new java.awt.Font(&quot;Tahoma&quot;, 1, 11));</span>
<span class="nc" id="L157">        jLabel8.setText(&quot;Color And Fonts Settings:&quot;);</span>
<span class="nc" id="L158">        add(jLabel8);</span>
<span class="nc" id="L159">        jLabel8.setBounds(10, 330, 180, 14);</span>

<span class="nc" id="L161">        onlineCheckBox.setText(&quot;Show Online Users Only&quot;);</span>
<span class="nc" id="L162">        add(onlineCheckBox);</span>
<span class="nc" id="L163">        onlineCheckBox.setBounds(20, 280, 200, 20);</span>

<span class="nc" id="L165">        usersCheckBox.setText(&quot;Show Users Only&quot;);</span>
<span class="nc" id="L166">        add(usersCheckBox);</span>
<span class="nc" id="L167">        usersCheckBox.setBounds(20, 300, 200, 23);</span>
<span class="nc" id="L168">    }// &lt;/editor-fold&gt;//GEN-END:initComponents</span>

    private void cancelButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cancelButtonActionPerformed
<span class="nc" id="L171">        parentFrame.setVisible(false);</span>
<span class="nc" id="L172">    }//GEN-LAST:event_cancelButtonActionPerformed</span>

    private void applyButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_applyButtonActionPerformed
<span class="nc" id="L175">        parentFrame.setVisible(false);</span>
<span class="nc" id="L176">        chatApp.getClientSettingBean().setServerURL(serverIPField.getText());</span>
<span class="nc" id="L177">        chatApp.getClientSettingBean().setServerPort(serverPortField.getText());</span>
<span class="nc bnc" id="L178" title="All 2 branches missed.">        if(rememberBox.isSelected()){</span>
<span class="nc" id="L179">            chatApp.getClientSettingBean().setRememberPass(&quot;1&quot;);</span>
        }else{
<span class="nc" id="L181">            chatApp.getClientSettingBean().setRememberPass(&quot;0&quot;);</span>
        }
<span class="nc bnc" id="L183" title="All 2 branches missed.">        if(onlineCheckBox.isSelected()){</span>
<span class="nc" id="L184">            chatApp.getClientSettingBean().setOnlineOnly(&quot;1&quot;);</span>
        }else{
<span class="nc" id="L186">            chatApp.getClientSettingBean().setOnlineOnly(&quot;0&quot;);</span>
        }
<span class="nc bnc" id="L188" title="All 2 branches missed.">        if(usersCheckBox.isSelected()){</span>
<span class="nc" id="L189">            chatApp.getClientSettingBean().setUsersOnly(&quot;1&quot;);</span>
        }else{
<span class="nc" id="L191">            chatApp.getClientSettingBean().setUsersOnly(&quot;0&quot;);</span>
        }
<span class="nc" id="L193">        chatApp.getClientSettingBean().setSoundType(&quot;&quot;+alertComboBox.getSelectedIndex());</span>
<span class="nc" id="L194">        int stauts=statusComboBox.getSelectedIndex()+1;</span>
<span class="nc" id="L195">        chatApp.getClientSettingBean().setDefaultStatus(&quot;&quot;+stauts);</span>
<span class="nc" id="L196">        chatApp.getClientSettingBean().updateSettings();</span>
<span class="nc" id="L197">        chatApp.initSound();</span>
<span class="nc" id="L198">        JOptionPane.showMessageDialog(chatApp.getChatClientFrame(),&quot;Settings Applied Successfully!&quot;);</span>
<span class="nc" id="L199">    }//GEN-LAST:event_applyButtonActionPerformed</span>

    private void changePassButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_changePassButtonActionPerformed
<span class="nc" id="L202">        chatApp.showChangePass();</span>
<span class="nc" id="L203">    }//GEN-LAST:event_changePassButtonActionPerformed</span>

    private void fontButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_fontButtonActionPerformed
<span class="nc" id="L206">        chatApp.getFontFrame().setLocationRelativeTo(fontButton);</span>
<span class="nc" id="L207">        chatApp.getFontFrame().setVisible(true);</span>
<span class="nc" id="L208">    }//GEN-LAST:event_fontButtonActionPerformed</span>

    private void statusComboBoxActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_statusComboBoxActionPerformed
        // TODO add your handling code here:
<span class="nc" id="L212">    }//GEN-LAST:event_statusComboBoxActionPerformed</span>
    public void updateSettings(){
<span class="nc bnc" id="L214" title="All 2 branches missed.">        if(&quot;1&quot;.equals(chatApp.getClientSettingBean().getRememberPass())){</span>
<span class="nc" id="L215">            rememberBox.setSelected(true);</span>
        }else{
<span class="nc" id="L217">            rememberBox.setSelected(false);</span>
        }
<span class="nc bnc" id="L219" title="All 2 branches missed.">        if(&quot;1&quot;.equals(chatApp.getClientSettingBean().getOnlineOnly())){</span>
<span class="nc" id="L220">            onlineCheckBox.setSelected(true);</span>
        }else{
<span class="nc" id="L222">            onlineCheckBox.setSelected(false);</span>
        }
<span class="nc bnc" id="L224" title="All 2 branches missed.">        if(&quot;1&quot;.equals(chatApp.getClientSettingBean().getUsersOnly())){</span>
<span class="nc" id="L225">            usersCheckBox.setSelected(true);</span>
        }else{
<span class="nc" id="L227">            usersCheckBox.setSelected(false);</span>
        }
<span class="nc" id="L229">        serverIPField.setText(chatApp.getClientSettingBean().getServerURL());</span>
<span class="nc" id="L230">        serverPortField.setText(chatApp.getClientSettingBean().getServerPort());</span>
<span class="nc" id="L231">        alertComboBox.setSelectedIndex(Integer.parseInt(chatApp.getClientSettingBean().getSoundType()));</span>
<span class="nc" id="L232">        statusComboBox.setSelectedIndex(Integer.parseInt(chatApp.getClientSettingBean().getDefaultStatus())-1);</span>
<span class="nc bnc" id="L233" title="All 2 branches missed.">        if(chatApp.getUser()==null){</span>
<span class="nc" id="L234">            changePassButton.setEnabled(false);</span>
        }else{
<span class="nc" id="L236">            changePassButton.setEnabled(true);</span>
        }
<span class="nc" id="L238">    }</span>

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JComboBox alertComboBox;
    private javax.swing.JButton applyButton;
    private javax.swing.JButton cancelButton;
    private javax.swing.JButton changePassButton;
    private javax.swing.JButton fontButton;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JCheckBox onlineCheckBox;
    private javax.swing.JCheckBox rememberBox;
    private javax.swing.JTextField serverIPField;
    private javax.swing.JTextField serverPortField;
    private javax.swing.JComboBox statusComboBox;
    private javax.swing.JCheckBox usersCheckBox;
    // End of variables declaration//GEN-END:variables

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>