<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Util.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">68_biblestudy</a> &gt; <a href="index.source.html" class="el_package">bible.util</a> &gt; <span class="el_source">Util.java</span></div><h1>Util.java</h1><pre class="source lang-java linenums">package bible.util;

import java.io.*;
import java.util.*;

import bible.obj.*;

/**
 * Utility methods
 */
<span class="nc" id="L11">public class Util {</span>

<span class="fc" id="L13">    public static final String LINE_SEPARATOR = System.getProperty(&quot;line.separator&quot;);</span>

    public static String ToString(Throwable e) {
<span class="nc" id="L16">        StringWriter sw = new StringWriter();</span>
<span class="nc" id="L17">        PrintWriter pw = new PrintWriter(sw);</span>
<span class="nc" id="L18">        e.printStackTrace(pw);</span>
<span class="nc" id="L19">        pw.close();</span>
<span class="nc" id="L20">        return sw.toString();</span>
    }

    public static String ToString(Vector v) {
<span class="nc" id="L24">        return ToString(v, false, &quot;, &quot;);</span>
    }

    public static String ToString(Vector v, boolean includeIndex, String separator) {
        Object element;
<span class="nc bnc" id="L29" title="All 2 branches missed.">        if(v != null) {</span>
<span class="nc" id="L30">            Object[] objs = new Object[v.size()];</span>
<span class="nc" id="L31">            v.copyInto(objs);</span>
<span class="nc" id="L32">            return ToString(objs, includeIndex, separator);</span>
        } else {
<span class="nc" id="L34">            return &quot;null&quot;;</span>
        }
    }

    public static String ToString(int[] numbers) {
<span class="nc bnc" id="L39" title="All 2 branches missed.">        if(numbers.length == 0) {</span>
<span class="nc" id="L40">            return &quot;&quot;;</span>
        }
<span class="nc" id="L42">        StringBuffer s = new StringBuffer();</span>
<span class="nc bnc" id="L43" title="All 2 branches missed.">        for(int index = 0; index &lt; numbers.length - 1; index++) {</span>
<span class="nc" id="L44">            s.append(numbers[index]).append(&quot;, &quot;);</span>
        }
<span class="nc" id="L46">        return s.append(numbers[numbers.length - 1]).toString();</span>
    }

    public static String ToString(Object[] objects) {
<span class="fc" id="L50">        return ToString(objects, false, &quot;, &quot;);</span>
    }

    public static String ToString(Object[] objects, boolean includeIndex, String separator) {
<span class="fc bfc" id="L54" title="All 2 branches covered.">        if(objects == null) {</span>
<span class="fc" id="L55">            return &quot;null&quot;;</span>
        }
<span class="fc" id="L57">        StringBuffer sb = new StringBuffer();</span>
<span class="fc bfc" id="L58" title="All 2 branches covered.">        for(int index = 0; index &lt; objects.length; index++) {</span>
<span class="pc bpc" id="L59" title="1 of 2 branches missed.">            if(includeIndex) {</span>
<span class="nc" id="L60">                sb.append(index).append(&quot; - &quot;);</span>
            }
<span class="pc bpc" id="L62" title="1 of 2 branches missed.">            if(objects[index] instanceof Vector) {</span>
<span class="nc" id="L63">                sb.append(ToString((Vector)objects[index], includeIndex, separator));</span>
<span class="pc bpc" id="L64" title="1 of 2 branches missed.">            } else if(objects[index] == null){</span>
<span class="fc" id="L65">                sb.append(&quot;null&quot;).append(separator);</span>
            } else {
<span class="nc" id="L67">                sb.append(objects[index].toString()).append(separator);</span>
            }
        }
<span class="fc" id="L70">        String s = sb.toString();</span>
<span class="fc bfc" id="L71" title="All 2 branches covered.">        if(s.endsWith(separator)) {</span>
<span class="fc" id="L72">            s = s.substring(0, s.length() - separator.length());</span>
        }// else objects.length == 0
<span class="fc" id="L74">        return s;</span>
    }

    public static String ToString(String[] items, String separator) {
<span class="nc" id="L78">        StringBuffer s = new StringBuffer();</span>
<span class="nc bnc" id="L79" title="All 2 branches missed.">        for(int index = 0; index &lt; items.length - 1; index++) {</span>
<span class="nc" id="L80">            s.append(items[index]).append(separator);</span>
        }
<span class="nc bnc" id="L82" title="All 2 branches missed.">        if(items.length &gt; 0) {</span>
<span class="nc" id="L83">            s.append(items[items.length - 1]);</span>
        }
<span class="nc" id="L85">        return s.toString();</span>
    }

    public static String[] ToStringArray(Object[] objects) {
<span class="nc" id="L89">        String[] returnValues = new String[objects.length];</span>
<span class="nc bnc" id="L90" title="All 2 branches missed.">        for(int index = 0; index &lt; objects.length; index++) {</span>
<span class="nc" id="L91">            returnValues[index] = objects[index].toString();</span>
        }
<span class="nc" id="L93">        return returnValues;</span>
    }

    public static String[] ToStringArray(Vector objects) {
        Object element;
<span class="nc bnc" id="L98" title="All 2 branches missed.">        if(objects != null) {</span>
<span class="nc" id="L99">            String[] strings = new String[objects.size()];</span>
<span class="nc" id="L100">            objects.copyInto(strings);</span>
<span class="nc" id="L101">            return strings;</span>
        } else {
<span class="nc" id="L103">            return new String[0];</span>
        }
    }

    public static String[] ToStringArray(String items, String separator) {
<span class="nc" id="L108">        StringTokenizer st = new StringTokenizer(items, separator, false);</span>
<span class="nc" id="L109">        int count = st.countTokens();</span>
<span class="nc" id="L110">        String [] returnValue = new String[count];</span>
<span class="nc bnc" id="L111" title="All 2 branches missed.">        for(int index = 0; index &lt; count; index++) {</span>
<span class="nc" id="L112">            returnValue[index] = st.nextToken();</span>
        }
<span class="nc" id="L114">        return returnValue;</span>
    }

    public static int[] ToIntArray(String items, String separator) {
<span class="nc" id="L118">        StringTokenizer st = new StringTokenizer(items, separator, false);</span>
<span class="nc" id="L119">        int count = st.countTokens();</span>
<span class="nc" id="L120">        int [] returnValue = new int[count];</span>
<span class="nc bnc" id="L121" title="All 2 branches missed.">        for(int index = 0; index &lt; count; index++) {</span>
<span class="nc" id="L122">            returnValue[index] = Integer.parseInt(st.nextToken());</span>
        }
<span class="nc" id="L124">        return returnValue;</span>
    }

    public static int[] ToIntArray(String[] items) {
<span class="nc" id="L128">        int[] returnValue = new int[items.length];</span>
<span class="nc bnc" id="L129" title="All 2 branches missed.">        for(int index = 0; index &lt; items.length; index++) {</span>
<span class="nc" id="L130">            returnValue[index] = Integer.parseInt(items[index]);</span>
        }
<span class="nc" id="L132">        return returnValue;</span>
    }

    public static int[] ToIntArray(Identifible[] items) {
<span class="fc" id="L136">        int[] returnValue = new int[items.length];</span>
<span class="pc bpc" id="L137" title="1 of 2 branches missed.">        for(int index = 0; index &lt; items.length; index++) {</span>
<span class="nc" id="L138">            returnValue[index] = items[index].getId();</span>
        }
<span class="nc" id="L140">        return returnValue;</span>
    }

    public static Vector ToVector(Object[] objects) {
<span class="nc" id="L144">        Vector position = new Vector(objects.length);</span>
<span class="nc bnc" id="L145" title="All 2 branches missed.">        for (int index = 0; index &lt; objects.length; index++) {</span>
<span class="nc" id="L146">            position.addElement(objects[index]);</span>
        }
<span class="nc" id="L148">        return position;</span>
    }


    public static Vector ToVector(int[] numbers) {
<span class="nc" id="L153">        Vector position = new Vector(numbers.length);</span>
<span class="nc bnc" id="L154" title="All 2 branches missed.">        for (int index = 0; index &lt; numbers.length; index++) {</span>
<span class="nc" id="L155">            position.addElement(new Integer(numbers[index]));</span>
        }
<span class="nc" id="L157">        return position;</span>
    }

    public static String Replace(String original, String from, String to) {
<span class="nc" id="L161">        String replaced = original;</span>
        String start;
                                                            // look for the next from after the last replacement
<span class="nc bnc" id="L164" title="All 2 branches missed.">        for(int index = replaced.indexOf(from); index &gt;= 0; index = replaced.indexOf(from, index + to.length())) {</span>

<span class="nc" id="L166">            start = replaced.substring(0, index) + to;</span>
<span class="nc bnc" id="L167" title="All 2 branches missed.">            if(index + from.length() + 1 &lt;= replaced.length()) {// There is something after replaced piece</span>
<span class="nc" id="L168">                replaced = start + replaced.substring(index + from.length());</span>
            } else {
<span class="nc" id="L170">                replaced = start;</span>
            }
        }
<span class="nc" id="L173">        return replaced;</span>
    }

    public static long GetSize(Object obj) throws IOException {
<span class="nc" id="L177">        long objSize = -1;</span>
<span class="nc bnc" id="L178" title="All 2 branches missed.">        if (obj instanceof Serializable){</span>
            try {
<span class="nc" id="L180">                ByteArrayOutputStream os = new ByteArrayOutputStream();</span>
<span class="nc" id="L181">                ObjectOutputStream oos = new ObjectOutputStream(os);</span>
<span class="nc" id="L182">                oos.writeObject(obj);</span>
<span class="nc" id="L183">                oos.flush();</span>
<span class="nc" id="L184">                objSize = os.size();</span>
<span class="nc" id="L185">                os.close();</span>
<span class="nc" id="L186">            } catch(Exception e) {</span>
<span class="nc" id="L187">                Logger.Log(e, &quot;obj=&quot; + obj);</span>
<span class="nc" id="L188">            }</span>
        }
<span class="nc" id="L190">        return objSize;</span>
    }
}

</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>