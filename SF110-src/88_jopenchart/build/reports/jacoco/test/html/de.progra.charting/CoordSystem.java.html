<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>CoordSystem.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">88_jopenchart</a> &gt; <a href="index.source.html" class="el_package">de.progra.charting</a> &gt; <span class="el_source">CoordSystem.java</span></div><h1>CoordSystem.java</h1><pre class="source lang-java linenums">/*
    JOpenChart Java Charting Library and Toolkit
    Copyright (C) 2001  Sebastian Mï¿½ller
    http://jopenchart.sourceforge.net

    This library is free software; you can redistribute it and/or
    modify it under the terms of the GNU Lesser General Public
    License as published by the Free Software Foundation; either
    version 2.1 of the License, or (at your option) any later version.

    This library is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
    Lesser General Public License for more details.

    You should have received a copy of the GNU Lesser General Public
    License along with this library; if not, write to the Free Software
    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA

    CoordSystem.java
    Created on 26. Juni 2001, 22:49
 */

package de.progra.charting;

import de.progra.charting.render.AbstractRenderer;
import de.progra.charting.render.ChartRenderingHints;
import java.awt.Rectangle;
import java.awt.geom.Point2D;
import java.awt.geom.Rectangle2D;
import java.awt.geom.Line2D;
import java.awt.geom.AffineTransform;
import java.awt.Graphics2D;
import java.awt.Dimension;
import java.awt.Color;
import java.awt.Font;
import java.awt.font.FontRenderContext;
import java.awt.font.TextLayout;
import java.text.DecimalFormat;
import de.progra.charting.model.ChartDataModel;
import de.progra.charting.model.ChartDataModelConstraints;


/** This class defines a coordinate system. The CoordSystem class computes
 * an AffineTransform for each y-axis, which translates the user space
 * coordinates (ie. the data value coordinates) into pixel space coordinates.
 * These AffineTransform classes make the PixelToPointTranslator obsolete,
 * since it provides more flexibility. &lt;code&gt;getDefaultTransform&lt;/code&gt; always
 * computes the default transformation, whereas you can set another
 * transformation via &lt;code&gt;setTransform&lt;/code&gt;. This will be used to implement
 * zooming and panning in the Swing classes.&lt;p&gt;
 * All classes incl. this one, which render data will use the transformations
 * to translate the coordinates. The transformations are not set up on
 * instantiation of a CoordSystem, instead they're computed when setBounds
 * is called, because they need this information of course. Afterwards you
 * can set your own transformation or even better you can manipulate the
 * existing ones by pre- or postconcatenating another AffineTransform.
 */
public class CoordSystem extends AbstractRenderer {
    
	/** The x-axis caption string. */
<span class="fc" id="L62">    protected String xaxis_unit = &quot;x&quot;;</span>
	/** The y-axis caption string. */
<span class="fc" id="L64">    protected String yaxis_unit = &quot;y&quot;;</span>
    
	/** The Font used in the CoordSystem. */
<span class="fc" id="L67">    protected Font font = new Font(&quot;sans&quot;, Font.PLAIN, 9);</span>
    
    /** FontRenderContext used througout the CoordSystem*/
<span class="fc" id="L70">    protected final FontRenderContext frc = new FontRenderContext(null, false, false);</span>
    /** DecimalFormat used throught on the Yaxis of the CoordSystem*/
    protected DecimalFormat dfY;
    /** DecimalFormat used throught on the Xaxis of the CoordSystem*/
    protected DecimalFormat dfX;
    /** if true, the arrows will be drawn at the end of the axi*/
<span class="fc" id="L76">    protected boolean shouldDrawArrows = true;</span>
    /** if true, the increment will be painted at each tick mark*/ 
<span class="fc" id="L78">    protected boolean shouldPaintAltTick = true;</span>
    /** if true only the tick will be painted on the yaxis.  Alternately, if false, a 
     * light grey line will paint across the background of the chart.*/
<span class="fc" id="L81">    protected boolean shouldPaintOnlyTick = true;</span>
    
    /** If true, the labels will be painted. If false, only the ticks will display. */
<span class="fc" id="L84">    protected boolean shouldPaintLabels = true;</span>
    
    /** The left margin */
<span class="fc" id="L87">	protected int leftmargin = 50;</span>
	/** The top margin. */
<span class="fc" id="L89">    protected int topmargin = 20;</span>
	
	/** The right margin. */
<span class="fc" id="L92">    protected int rightmargin = 30;</span>
	/** The bottom margin. */
<span class="fc" id="L94">    protected int bottommargin = 30;</span>
	/** The minimal margin constant. */
<span class="fc" id="L96">    public final int MINIMALMARGIN = 20;</span>
	/** The arrow length constant. */
<span class="fc" id="L98">    public final int ARROWLENGTH = 15;</span>
    
	/** The ChartDataModel constraints of the first y-axis and the x-axis. */
    protected ChartDataModelConstraints constraints;
	/** The ChartDataModel constraints of the second y-axis and the x-axis. */
    protected ChartDataModelConstraints constraints2;
    
	/** The DataModel class. */
    protected ChartDataModel model;
    
	/** The utilities class, which contains all the rendering methods etc. */
    protected CoordSystemUtilities c;
    
	/** The xaxis.*/
    protected Axis xaxis;
    /** The first y-axis. */
	protected Axis yaxis;
	/** The second y-axis. */
    protected Axis yaxis2;
    
	/** The multiplication matrix for the first y-axis and the x-axis. */
    protected AffineTransform y1transform;
	/** The multiplication matrix for the second y-axis and the x-axis. */
    protected AffineTransform y2transform;
    
    /** the axis binding constant for the first y-axis
     */
    public static final int FIRST_YAXIS = 0;
    /** the axis binding constant for the second y-axis
     */
    public static final int SECOND_YAXIS = 1;
    
    /** Creates a new CoordSystem using the given model constraints.
     * Also creates default linear x and y-axis. Note that the length
     * of the axis are set on the first call to
     * setBounds().
     * @param c the ChartDataModel needed to compute the DataConstraints.
     */
<span class="fc" id="L136">    public CoordSystem(ChartDataModel cdm) {</span>
<span class="fc" id="L137">        this.constraints = cdm.getChartDataModelConstraints(FIRST_YAXIS);</span>
<span class="fc" id="L138">        this.constraints2 = cdm.getChartDataModelConstraints(SECOND_YAXIS);</span>
        
<span class="fc" id="L140">        this.model = cdm;</span>
        
<span class="fc" id="L142">        xaxis = new Axis(Axis.HORIZONTAL, constraints);</span>
<span class="fc" id="L143">        yaxis = new Axis(Axis.VERTICAL, constraints);</span>
        
<span class="fc" id="L145">        c = new CoordSystemUtilities(this, constraints, constraints2, model);</span>
		
<span class="fc" id="L147">		dfY = new DecimalFormat();</span>
<span class="fc" id="L148">        dfX = new DecimalFormat();</span>
<span class="fc" id="L149">    }</span>
    
    /** Creates a new CoordSystem using the given model constraints.
     * Also creates default linear x and y-axis. Note that the length
     * of the axis are set on the first call to
     * setBounds().
     * @param c the ChartDataModel needed to compute the DataConstraints.
     * @param xtext the x-axis unit
     * @param ytext the y-axis unit
     */
    public CoordSystem(ChartDataModel c, String xunit, String yunit) {
<span class="nc" id="L160">        this(c);</span>

<span class="nc" id="L162">        setXAxisUnit(xunit);</span>
<span class="nc" id="L163">        setYAxisUnit(yunit);</span>
<span class="nc" id="L164">    }</span>
	
	/**
     * Create a new CoordSystem with alternate painting parameters.
     * @param c the ChartDataModel needed to compute the DataConstraints.
     * @param drawArrows if true the arrows will be drawn at the end of the axis
     * @param paintAltYTick if true the caption will paint on alternate ticks of the 
     * yaxis instead of on every one.
     * @param paintOnlyYTick if true the horizontal lightgray line will &lt;i&gt;not&lt;/i&gt;
     * appear behind the chart at each yaxis tick mark.
     */
    public CoordSystem(ChartDataModel c, DecimalFormat yAxisFormat, 
            boolean drawArrows, boolean paintAltYTick, boolean paintOnlyYTick) {
<span class="nc" id="L177">        this(c);</span>
<span class="nc" id="L178">        dfY = yAxisFormat;</span>
<span class="nc" id="L179">        shouldDrawArrows = drawArrows;</span>
<span class="nc" id="L180">        shouldPaintAltTick = paintAltYTick;</span>
<span class="nc" id="L181">        shouldPaintOnlyTick = paintOnlyYTick;</span>
<span class="nc" id="L182">    }</span>

    /** Sets the coordinate transformation for any y-coordinate.
     * @param at the AffineTransform that transforms the coordinates into pixel
     * space
     * @axis defines for which y-axis the transform is computed
     */
    public void setTransform(AffineTransform at, int axis) {
<span class="nc bnc" id="L190" title="All 3 branches missed.">        switch(axis) {</span>
<span class="nc" id="L191">            case(FIRST_YAXIS): y1transform = at; break;</span>
<span class="nc" id="L192">            case(SECOND_YAXIS): y2transform = at; break;</span>
        }
<span class="nc" id="L194">    }</span>
    
    /** Returns the currently defined AffineTransform for any y-axis.
     * @param axis the y-axis to be used.
     */
    public AffineTransform getTransform(int axis) {
<span class="nc bnc" id="L200" title="All 3 branches missed.">        switch(axis) {</span>
<span class="nc" id="L201">            case(FIRST_YAXIS): return y1transform;</span>
<span class="nc" id="L202">            case(SECOND_YAXIS): return y2transform;</span>
        }
        
<span class="nc" id="L205">        return null;</span>
    }
    
    /** This method computes the default transform which transforms the
     * user space coordinates of this coordinate system to the pixel
     * space coordinates used in the Graphics object.
     * All rendering in the CoordinateSystem and the ChartRenderers
     * will rely on this transform.
     * @param axis defines which y-axis to use.
     */
    public AffineTransform getDefaultTransform(int axis) {
<span class="nc" id="L216">        double x_pt2px = 0;</span>
<span class="nc" id="L217">        double y_pt2px = 0;</span>
<span class="nc" id="L218">        double xcoord0 = 0;</span>
<span class="nc" id="L219">        double ycoord0 = 0;</span>
        
<span class="nc" id="L221">        x_pt2px = 1 / getXAxis().getPointToPixelRatio();</span>
        //System.out.println(&quot;** x_pt2px = &quot;+getXAxis().getPointToPixelRatio());
<span class="nc" id="L223">        xcoord0 = getBounds().getX() + getLeftMargin() + getXAxis().getPixelForValue(0.0);</span>
        
<span class="nc bnc" id="L225" title="All 3 branches missed.">        switch(axis) {</span>
            case FIRST_YAXIS:
<span class="nc" id="L227">                y_pt2px = 1 / getFirstYAxis().getPointToPixelRatio();</span>
<span class="nc" id="L228">                ycoord0 = getBounds().getY() + getBounds().getHeight() - getBottomMargin() -</span>
<span class="nc" id="L229">                getFirstYAxis().getPixelForValue(0.0);</span>
<span class="nc" id="L230">                break;</span>
            case SECOND_YAXIS:
<span class="nc" id="L232">                y_pt2px = 1 / getSecondYAxis().getPointToPixelRatio();</span>
<span class="nc" id="L233">                ycoord0 = getBounds().getY() + getBounds().getHeight() - getBottomMargin() -</span>
<span class="nc" id="L234">                getSecondYAxis().getPixelForValue(0.0);</span>
                break;
        }
<span class="nc" id="L237">        return new AffineTransform(x_pt2px, 0f, 0f,</span>
        -y_pt2px, xcoord0, ycoord0);
    }
    
    /** Sets the x-axis.
     * @param a the x-axis
     */
    public void setXAxis(Axis a) {
<span class="nc" id="L245">        xaxis = a;</span>
<span class="nc" id="L246">    }</span>
    
    /** Returns the x axis.
     * @return the x-axis
     */
    public Axis getXAxis() {
<span class="nc" id="L252">        return xaxis;</span>
    }

    /** Sets the x-axis unit string.
     * @param xtext the unit string
     */
    public void setXAxisUnit(String xunit) {
<span class="fc" id="L259">        this.xaxis_unit = xunit;</span>
<span class="fc" id="L260">    }</span>
    
    /** Gets the x-axis unit string.
     * @return the label String
     */
    public String getXAxisUnit() {        
<span class="nc" id="L266">        return xaxis_unit;</span>
    }
    
    /** Sets the y-axis unit string.
     * @param ytext the unit string
     */
    public void setYAxisUnit(String yunit) {
<span class="fc" id="L273">        this.yaxis_unit = yunit;</span>
<span class="fc" id="L274">    }</span>
    
    /** Gets the y-axis label.
     * @return the label String
     */
    public String getYAxisUnit() {        
<span class="nc" id="L280">        return yaxis_unit;</span>
    }
    
    /** Sets the font for the axis labels.
     * @param f the Font to be used
     */
    public void setFont(Font f) {
<span class="nc" id="L287">        font = f;</span>
<span class="nc" id="L288">    }</span>
    
    /** Returns the font used for the axis labels.
     * @return the Font object
     */
    public Font getFont() {        
<span class="nc" id="L294">        return font;</span>
    }

    /** Sets the left y-axis and computes the matrix transformation.
     * @param a the left y-axis
     */
    public void setFirstYAxis(Axis a) {
<span class="nc" id="L301">        yaxis = a;</span>
<span class="nc" id="L302">    }</span>
    
    /** Returns the first y-axis.
     * @return the left y-axis
     */
    public Axis getFirstYAxis() {
<span class="nc" id="L308">        return yaxis;</span>
    }
    
    /** Sets the second y-axis and computes the matrix transformation.
     * @param a the right y-axis
     */
    public void setSecondYAxis(Axis a) {
<span class="nc" id="L315">        yaxis2 = a;</span>
<span class="nc" id="L316">    }</span>
    
    /** Returns the second y-axis.
     * @return the right y-axis
     */
    public Axis getSecondYAxis() {
<span class="nc" id="L322">        return yaxis2;</span>
    }
    
    /** Returns the inner margin, ie the bounds minus the margins.
     * @return a Rectangle object defining the inner bounds.
     */
    public Rectangle getInnerBounds() {
<span class="nc" id="L329">        Rectangle b = getBounds();</span>
<span class="nc" id="L330">        Rectangle i = new Rectangle((int)b.getX() + getLeftMargin() - 1,</span>
<span class="nc" id="L331">        (int)b.getY() + getTopMargin() - 1,</span>
<span class="nc" id="L332">        (int)b.getWidth() - (getLeftMargin() + getRightMargin()) + 2,</span>
<span class="nc" id="L333">        (int)b.getHeight() - (getTopMargin() + getBottomMargin()) + 2);</span>
<span class="nc" id="L334">        return i;</span>
    }
    
    /** Computes all margins, initializes the length of the Axis and
     * calls &lt;code&gt;super.setBounds&lt;/code&gt;. Additionally, it sets the
     * default AffineTransforms for every y-axis.
     * @param bounds &lt;CODE&gt;Rectangle&lt;/CODE&gt; object defining the bounds
     */
    public void setBounds(Rectangle bounds) {
<span class="nc" id="L343">        super.setBounds(bounds);</span>
	
<span class="nc" id="L345">	setRightMargin(c.computeRightMargin());</span>
<span class="nc" id="L346">	setLeftMargin(c.computeLeftMargin());</span>
	
<span class="nc" id="L348">	setTopMargin(c.computeTopMargin());</span>
<span class="nc" id="L349">	setBottomMargin(c.computeBottomMargin());</span>
        
<span class="nc" id="L351">        xaxis.setLength((int)(bounds.getWidth()) - getLeftMargin() - getRightMargin());</span>
        //System.out.println(&quot;** xaxis.length = &quot;+xaxis.getLength());
<span class="nc" id="L353">        yaxis.setLength((int)(bounds.getHeight()) - getTopMargin() - getBottomMargin());</span>
        //System.out.println(&quot;** yaxis.length = &quot;+yaxis.getLength());
<span class="nc" id="L355">        setTransform(getDefaultTransform(FIRST_YAXIS), FIRST_YAXIS);</span>
<span class="nc bnc" id="L356" title="All 2 branches missed.">        if(yaxis2 != null) {</span>
<span class="nc" id="L357">            yaxis2.setLength((int)(bounds.getHeight()) - getTopMargin() - getBottomMargin());</span>
<span class="nc" id="L358">            setTransform(getDefaultTransform(SECOND_YAXIS), SECOND_YAXIS);</span>
        }
<span class="nc" id="L360">    }</span>
    
    /** Returns the preferred size needed for the renderer.
     * @return a Dimension with the minimum Integer values.
     */
    public Dimension getPreferredSize() {
<span class="nc" id="L366">        return new Dimension(Integer.MIN_VALUE, Integer.MIN_VALUE);</span>
    }
    
    /** Overrides the method to just call &lt;code&gt;paintDefault&lt;/code&gt;.
     * @param g the &lt;CODE&gt;Graphics2D&lt;/CODE&gt; object to paint in
     */
    public void render(Graphics2D g) {
<span class="nc" id="L373">        paintDefault(g);</span>
<span class="nc" id="L374">    }</span>
    
    /** This method is called by the paint method to do the actual painting.
     * The painting is supposed to start at point (0,0) and the size is
     * always the same as the preferred size. The paint method performs
     * the possible scaling.
     * @param g the &lt;CODE&gt;Graphics2D&lt;/CODE&gt; object to paint in
     */
    public void paintDefault(Graphics2D g) {
<span class="nc" id="L383">        g.setColor(Color.black);</span>
        
<span class="nc" id="L385">        Line2D x = c.getXAxisLine2D();</span>
<span class="nc" id="L386">        Line2D y = c.getYAxisLine2D();</span>
        
<span class="nc" id="L388">        g.draw(x);</span>
<span class="nc" id="L389">        g.draw(y);</span>
        
        // draw X-Axis Arrow
<span class="nc bnc" id="L392" title="All 2 branches missed.">		if(shouldDrawArrows) {</span>
<span class="nc" id="L393">			g.drawLine((int)x.getX2(), (int)x.getY2(), (int)x.getX2() + ARROWLENGTH, (int)x.getY2());</span>
<span class="nc" id="L394">			g.fillPolygon(new int[] {(int)(x.getX2() + ARROWLENGTH / 3.0),</span>
<span class="nc" id="L395">						(int)(x.getX2() + ARROWLENGTH / 3.0),</span>
<span class="nc" id="L396">						(int)(x.getX2() + ARROWLENGTH)},</span>
<span class="nc" id="L397">						new int[] {(int)x.getY2() - 3, (int)x.getY2() + 3, (int)x.getY2()},</span>
						3);
		}
        
        // draw X-Axis label right below the Arrow ?!
<span class="nc" id="L402">        g.setColor(Color.black);</span>
<span class="nc" id="L403">        TextLayout layoutX = new TextLayout(getXAxisUnit(), getFont(), </span>
                                           new FontRenderContext(null, true, false));
<span class="nc" id="L405">		layoutX.draw(g, (float)x.getX2() + (float)ARROWLENGTH / 3,  (float)x.getY2() + (float)layoutX.getBounds().getHeight() + 5);</span>
        
        // draw Y-Axis Arrow
<span class="nc bnc" id="L408" title="All 2 branches missed.">		if(shouldDrawArrows) {</span>
<span class="nc" id="L409">			g.drawLine((int)y.getX1(), (int)y.getY1(), (int)y.getX1(), (int)y.getY1() - ARROWLENGTH);</span>
<span class="nc" id="L410">			g.fillPolygon(new int[] {(int)(y.getX1() - 3),</span>
<span class="nc" id="L411">						(int)(y.getX1() + 3),</span>
<span class="nc" id="L412">						(int)(y.getX1())},</span>
<span class="nc" id="L413">						new int[] {(int)(y.getY1() - ARROWLENGTH / 3.0),</span>
<span class="nc" id="L414">						(int)(y.getY1() - ARROWLENGTH / 3.0),</span>
<span class="nc" id="L415">						(int)y.getY1() - ARROWLENGTH},</span>
						3);
		}

        // draw Y-Axis label right below the Arrow ?!
<span class="nc" id="L420">        g.setColor(Color.black);</span>
<span class="nc" id="L421">        TextLayout layoutY = new TextLayout(getYAxisUnit(), getFont(), </span>
                                           new FontRenderContext(null, true, false));
<span class="nc" id="L423">        layoutY.draw(g, (float)y.getX1()-6-(float)layoutY.getBounds().getWidth(), </span>
<span class="nc" id="L424">                        (float)y.getY1() - layoutX.getDescent() - 3);</span>
        
<span class="nc bnc" id="L426" title="All 2 branches missed.">        if(getSecondYAxis() != null) {</span>
<span class="nc" id="L427">            Line2D y2 = c.getSecondYAxisLine2D();</span>
<span class="nc" id="L428">            g.draw(y2);</span>
        }
        
<span class="nc bnc" id="L431" title="All 2 branches missed.">        if(model.isColumnNumeric())</span>
<span class="nc" id="L432">            c.drawNumericalXAxisTicks(g);</span>
        else
<span class="nc" id="L434">            c.drawXAxisTicks(g);</span>
        
<span class="nc" id="L436">        c.drawYAxisTicks(g);</span>
<span class="nc" id="L437">    }</span>
    
    /** Returns a new PointToPixelTranslator for the given axis.
     * Please notice that this method is deprecated since release 0.92.
     * The PointToPixelTranslator interface has been replaced with
     * AffineTransforms.
     * @param y the y-axis identifier used to choose the right Point / Pixel ratio
     * @return a PointToPixelTranslator object or null if the resulting
     * Point is not within the Bounds of the Coordinate System
     * @deprecated
     */
    public PointToPixelTranslator getPointToPixelTranslator(int yaxis) {
<span class="nc" id="L449">        final Axis x = this.getXAxis();</span>
        final Axis y;
<span class="nc bnc" id="L451" title="All 2 branches missed.">        if(yaxis == CoordSystem.FIRST_YAXIS)</span>
<span class="nc" id="L452">            y = this.getFirstYAxis();</span>
        else
<span class="nc" id="L454">            y = this.getSecondYAxis();</span>
        
<span class="nc" id="L456">        return new PointToPixelTranslator() {</span>
            public Point2D getPixelCoord(Point2D pt) {
<span class="nc" id="L458">                double x0 = 0.0;</span>
<span class="nc" id="L459">                double y0 = 0.0;</span>
                
<span class="nc" id="L461">                x0 = getBounds().getX()+getLeftMargin()+</span>
<span class="nc" id="L462">                x.getPixelForValue(pt.getX());</span>
                
<span class="nc" id="L464">                y0 = getBounds().getY()+getBounds().getHeight() - getBottomMargin() -</span>
<span class="nc" id="L465">                y.getPixelForValue(pt.getY());</span>
<span class="nc" id="L466">                Point2D p = new Point2D.Double(x0, y0);</span>
                
<span class="nc bnc" id="L468" title="All 2 branches missed.">                if(getInnerBounds().contains(p))</span>
<span class="nc" id="L469">                    return p;</span>
                else
<span class="nc" id="L471">                    return null;</span>
            }
        };
    }
    
    /** Returns the left margin. */
    protected int getLeftMargin() {
<span class="nc" id="L478">        return leftmargin;</span>
    }
    
    /** Returns the right margin. */
    protected int getRightMargin() {
<span class="nc" id="L483">        return rightmargin;</span>
    }
    
    /** Returns the top margin. */
    protected int getTopMargin() {
<span class="nc" id="L488">        return topmargin;</span>
    }
    
    /** Returns the bottom margin. */
    protected int getBottomMargin() {
<span class="nc" id="L493">        return bottommargin;</span>
    }
    
    /** Sets the left margin.
     * @param margin the new margin value 
     */
    protected void setLeftMargin(int margin) {
<span class="nc" id="L500">        leftmargin = margin;</span>
<span class="nc" id="L501">    }</span>
    
    /** Sets the right margin.
     * @param margin the new margin value 
     */
    protected void setRightMargin(int margin) {
<span class="nc" id="L507">        rightmargin = margin;</span>
<span class="nc" id="L508">    }</span>
    
    /** Sets the top margin.
     * @param margin the new margin value 
     */
    protected void setTopMargin(int margin) {
<span class="nc" id="L514">        topmargin = margin;</span>
<span class="nc" id="L515">    } </span>
    
    /** Sets the bottom margin.
     * @param margin the new margin value 
     */
    public void setBottomMargin(int margin) {
<span class="nc" id="L521">        bottommargin = margin;</span>
<span class="nc" id="L522">    } </span>
	
	/** Returns the FontRenderContext used througout the CoordSystem*/
	public FontRenderContext getFontRenderContext() {
<span class="nc" id="L526">		return frc;</span>
	}
	
    /** Returns the DecimalFormat used throught on the Yaxis of the CoordSystem*/
    public DecimalFormat getYDecimalFormat() {
<span class="nc" id="L531">		return dfY;</span>
	}
	
    /** Returns the DecimalFormat used throught on the Xaxis of the CoordSystem*/
	public DecimalFormat getXDecimalFormat() {
<span class="nc" id="L536">		return dfX;</span>
	}
    
    /** if true, the arrows will be drawn at the end of the axis*/
	public boolean isDrawArrows() {
<span class="nc" id="L541">		return shouldDrawArrows;</span>
	}
    
    /** if true, the increment will be painted at each tick mark*/
	public boolean isPaintAltTick() {
<span class="nc" id="L546">		return shouldPaintAltTick;</span>
	}
    
    /** if true only the tick will be painted on the yaxis.  Alternately a 
     * light grey line will paint across the background of the chart.*/
    public boolean isPaintOnlyTick() {
<span class="nc" id="L552">		return shouldPaintOnlyTick;</span>
	}
   
    public boolean isPaintLabels() {
<span class="nc" id="L556">        return shouldPaintLabels;</span>
    }
    
    public void setPaintLabels(boolean label) {
<span class="nc" id="L560">        shouldPaintLabels = label;</span>
<span class="nc" id="L561">    }</span>
    
    /** Returns the used ChartDataModelConstraints. */
    public ChartDataModelConstraints getChartDataModelConstraints(int axis) {
<span class="nc bnc" id="L565" title="All 2 branches missed.">        if(axis == FIRST_YAXIS)</span>
<span class="nc" id="L566">            return constraints;</span>
<span class="nc bnc" id="L567" title="All 2 branches missed.">        else if(axis == SECOND_YAXIS)</span>
<span class="nc" id="L568">            return constraints2;</span>
        else
<span class="nc" id="L570">            return null;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>