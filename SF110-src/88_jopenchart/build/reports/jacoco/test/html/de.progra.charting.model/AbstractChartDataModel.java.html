<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>AbstractChartDataModel.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">88_jopenchart</a> &gt; <a href="index.source.html" class="el_package">de.progra.charting.model</a> &gt; <span class="el_source">AbstractChartDataModel.java</span></div><h1>AbstractChartDataModel.java</h1><pre class="source lang-java linenums">/*
    JOpenChart Java Charting Library and Toolkit
    Copyright (C) 2001  Sebastian Mï¿½ller
    http://jopenchart.sourceforge.net

    This library is free software; you can redistribute it and/or
    modify it under the terms of the GNU Lesser General Public
    License as published by the Free Software Foundation; either
    version 2.1 of the License, or (at your option) any later version.

    This library is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
    Lesser General Public License for more details.

    You should have received a copy of the GNU Lesser General Public
    License along with this library; if not, write to the Free Software
    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA

    AbstractChartDataModel.java
    Created on 28. Juni 2001, 18:58
*/

package de.progra.charting.model;

import de.progra.charting.event.ChartDataModelListener;
import de.progra.charting.event.ChartDataModelEvent;
import javax.swing.event.EventListenerList;
import de.progra.charting.CoordSystem;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.TreeSet;
import java.util.Set;
import java.util.HashMap;

/**
 * This class implements the event-handling methods for a chart model.
 * @author  mueller
 * @version 1.0
 */
public abstract class AbstractChartDataModel implements ChartDataModel {
    
    /** The listener list. */
<span class="fc" id="L44">    protected EventListenerList listener = new EventListenerList();</span>

    /** Flag defining the automatic scaling of max and min values. */
<span class="fc" id="L47">    protected boolean autoscale = false;</span>

    /** Flag defining the manual scaling of max and min values. */
<span class="fc" id="L50">    protected boolean manualscale = false;</span>

    /** Maximum and minimum column values to be displayed. */
    protected double maxcolumn, mincolumn;

    /** Maximum and minimum values to be displayed. */
    protected Number maxvalue, minvalue;
    
    /** Creates new AbstractChartDataModel */
<span class="fc" id="L59">    public AbstractChartDataModel() {</span>
<span class="fc" id="L60">    }</span>

    /** Removes a ChartDataModelListener.
     * @param l the ChartDataListener
     */
    public void removeChartDataModelListener(ChartDataModelListener l) {
<span class="nc" id="L66">        listener.remove(ChartDataModelListener.class, l);</span>
<span class="nc" id="L67">    }</span>
    
    /** Adds a ChartDataModelListener.
     * @param l the ChartDataModelListener
     */
    public void addChartDataModelListener(ChartDataModelListener l) {
<span class="nc" id="L73">        listener.add(ChartDataModelListener.class, l);</span>
<span class="nc" id="L74">    }</span>
    
    /** Determines if the column values are numeric.
     * @return &lt;CODE&gt;false&lt;/CODE&gt; per default
     */
    public boolean isColumnNumeric() {
<span class="nc" id="L80">        return false;</span>
    }    
    
    /** Provides an empty implementation for not-editable DataModels.
     * @param set the DataSet in which the value should be set
     * @param index the index in the DataSet where the value should be stored
     * @param value the value object
     */
    public void setValueAt(int set, int index, Object value) {
<span class="nc" id="L89">    }</span>
    
    /** Returns the class of the column values.
     * @return &lt;CODE&gt;Object.class&lt;/CODE&gt; per default
     */
    public Class getColumnClass() {
<span class="nc" id="L95">        return Object.class;</span>
    }
    
    /** Promotes a new ChartDataModelEvent.
     * @param src the source object of the event.
     */
    public void fireChartDataModelChangedEvent(Object src) {
<span class="nc" id="L102">        ChartDataModelEvent e = new ChartDataModelEvent(src);</span>
<span class="nc" id="L103">        Object[] ls = listener.getListenerList();</span>
<span class="nc bnc" id="L104" title="All 2 branches missed.">        for (int i = (ls.length - 2); i &gt;= 0; i-=2) {</span>
<span class="nc bnc" id="L105" title="All 2 branches missed.">            if (ls[i] == ChartDataModelListener.class) {</span>
<span class="nc" id="L106">                ((ChartDataModelListener)ls[i + 1]).chartDataChanged(e);</span>
            }
        }
<span class="nc" id="L109">    }</span>
    
    /** Returns the Axis Binding for a specific DataSet, ie the Axis on
     * which the DataSet should be plotted
     * @param set the DataSet whose Axis binding should be determined
     * @return &lt;code&gt;DataSet.FIRST_YAXIS&lt;/code&gt; by default.
     */
    public int getAxisBinding(int set) {
<span class="nc" id="L117">        return CoordSystem.FIRST_YAXIS;</span>
    }
    
    /** Provides a default empty implementation.
     * @param set the DataSet
     * @param axis the Axis binding
     */
    public void setAxisBinding(int set, int axis) {
<span class="nc" id="L125">    }    </span>
    
    public void setAutoScale(boolean b) {
<span class="nc" id="L128">        autoscale = b;</span>
<span class="nc" id="L129">    }</span>
    
    public boolean isAutoScale() {
<span class="nc" id="L132">        return autoscale;</span>
    }

    /** Enables the manual axis scaling. Set the desired
     * maximum and minimum values using the setMaximum...Value
     * functions.
     */
    public void setManualScale(boolean b) {
<span class="nc" id="L140">        manualscale = b;</span>
<span class="nc" id="L141">    }</span>

    /** Returns true if the manual axis scaling is enabled. This overrides
     * the enabled automatic axis scaling.
     */
    public boolean isManualScale() {
<span class="nc" id="L147">        return manualscale;</span>
    }

    /** Sets the maximum x-axis value. */
    public void setMaximumColumnValue(double d) {
<span class="nc" id="L152">        maxcolumn = d;</span>
<span class="nc" id="L153">    }</span>

    /** Sets the minimum x-axis value. */
    public void setMinimumColumnValue(double d) {
<span class="nc" id="L157">        mincolumn = d;</span>
<span class="nc" id="L158">    }</span>

    /** Sets the maximum y-axis value. */
    public void setMaximumValue(Number n) {
<span class="nc" id="L162">        maxvalue = n;</span>
<span class="nc" id="L163">    }</span>

    /** Sets the minimum y-axis value. */
    public void setMinimumValue(Number n) {
<span class="nc" id="L167">        minvalue = n;</span>
<span class="nc" id="L168">    }</span>

    public double getManualMaximumColumnValue() {
<span class="nc" id="L171">        return maxcolumn;</span>
    }

	public double getManualMinimumColumnValue() {
<span class="nc" id="L175">        return mincolumn;</span>
    }

    public Number getManualMaximumValue() {
<span class="nc" id="L179">        return maxvalue;</span>
    }

	public Number getManualMinimumValue() {
<span class="nc" id="L183">        return minvalue;</span>
    }
	
    /** Returns the title of the DataSet.
     * @param set the DataSet identifier
     * @return the the number of
     * the DataSet per default.
     */
    public String getDataSetName(int set) {
<span class="nc" id="L192">        return &quot;Dataset &quot;+set;</span>
    }
    
    /** Compares this ChartDataModel with another object. 
     * @param o the object to compare with
     * @return true, if o is an AbstractChartDataModel, the number of
     * DataSets is equal and all DataSet names and column values are equal.
     */
    public boolean equals(Object o) {
<span class="nc bnc" id="L201" title="All 2 branches missed.">        if(o == null)</span>
<span class="nc" id="L202">            return false;</span>
        try {
<span class="nc" id="L204">            AbstractChartDataModel model = (AbstractChartDataModel)o;</span>
            
<span class="nc bnc" id="L206" title="All 2 branches missed.">            if(getDataSetNumber() != model.getDataSetNumber()) {</span>
<span class="nc" id="L207">                return false;</span>
            }
            
<span class="nc bnc" id="L210" title="All 2 branches missed.">            for(int i = 0; i &lt; getDataSetNumber(); i++) {</span>
<span class="nc bnc" id="L211" title="All 2 branches missed.">                if(!getDataSetName(i).equals(model.getDataSetName(i))) {</span>
<span class="nc" id="L212">                    return false;</span>
                }
                
<span class="nc bnc" id="L215" title="All 2 branches missed.">                for(int j = 0; j &lt; getDataSetLength(j); j++) {</span>
<span class="nc bnc" id="L216" title="All 2 branches missed.">                    if(!getColumnValueAt(j).equals(model.getColumnValueAt(j))) {</span>
<span class="nc" id="L217">                        return false;</span>
                    }
                }
            }
<span class="nc" id="L221">        } catch(Exception e) { return false;}</span>
        
<span class="nc" id="L223">        return true;</span>
    }
    
    protected abstract TreeSet getOrderedValues(int axis);
    
    protected abstract double getFirstColumnValue();
    
    protected abstract double getLastColumnValue();
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>