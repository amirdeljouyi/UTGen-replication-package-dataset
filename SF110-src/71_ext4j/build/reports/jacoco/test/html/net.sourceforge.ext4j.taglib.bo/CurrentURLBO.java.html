<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>CurrentURLBO.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">71_ext4j</a> &gt; <a href="index.source.html" class="el_package">net.sourceforge.ext4j.taglib.bo</a> &gt; <span class="el_source">CurrentURLBO.java</span></div><h1>CurrentURLBO.java</h1><pre class="source lang-java linenums">/**
 * 
 */
package net.sourceforge.ext4j.taglib.bo;

import java.util.Collection;

import javax.servlet.http.HttpServletRequest;

import net.sourceforge.ext4j.taglib.bo.IRequest;
import net.sourceforge.ext4j.taglib.bo.Request;
import net.sourceforge.ext4j.taglib.bo.RequestParam;


/**
 * @author luc
 *
 */
<span class="nc" id="L19">public class CurrentURLBO {</span>
	
	private static final String STRING_EMPTY = &quot;&quot;;
	private static final String STRING_QMARK = &quot;?&quot;;

	/* (non-Javadoc)
	 * @see com.tripfilms.web.module.IWebModule#register(javax.servlet.http.HttpServletRequest)
	 */
	public static IRequest getCurrentURL(HttpServletRequest pRequest) {
<span class="nc bnc" id="L28" title="All 2 branches missed.">		String oURL = pRequest.getRequestURI() + ((pRequest.getQueryString() != null)?STRING_QMARK + pRequest.getQueryString():STRING_EMPTY);</span>
<span class="nc" id="L29">		IRequest oReq = new Request(oURL);		</span>
<span class="nc" id="L30">		return new RootRequest(oReq);</span>
	}
	
	/**
	 * Returns clone to so we can keep using the same variable on the page.
	 * WARNING: calls to getParam():RequestParam won't return a clone and thus will affect the page variable.
	 * @author luc
	 */
	static class RootRequest implements IRequest  {
		
		private IRequest mRoot;
		
<span class="nc" id="L42">		public RootRequest(IRequest pOriginal) {</span>
<span class="nc" id="L43">			mRoot = pOriginal;</span>
<span class="nc" id="L44">		}</span>

		public IRequest addParam(String pName, String pValue) {
<span class="nc" id="L47">			return mRoot.clone().addParam(pName, pValue);</span>
		}

		public IRequest cleanEmptyParams() {
<span class="nc" id="L51">			return mRoot.cleanEmptyParams();</span>
		}

		public String getBaseURL() {
<span class="nc" id="L55">			return mRoot.getBaseURL();</span>
		}

		public String getHashValue() {
<span class="nc" id="L59">			return mRoot.getHashValue();</span>
		}

		public RequestParam getParam(String pName, boolean pIgnoreCase) {
<span class="nc" id="L63">			return mRoot.getParam(pName, pIgnoreCase);</span>
		}

		public RequestParam getParam(String pName) {
<span class="nc" id="L67">			return mRoot.getParam(pName);</span>
		}

		public Collection&lt;RequestParam&gt; getParams() {
<span class="nc" id="L71">			return mRoot.getParams();</span>
		}

		public String getQueryString() {
<span class="nc" id="L75">			return mRoot.getQueryString();</span>
		}

		public int getValue(String pName, int pDefault) {
<span class="nc" id="L79">			return mRoot.getValue(pName, pDefault);</span>
		}

		public String getValue(String pName, String pDefault) {
<span class="nc" id="L83">			return mRoot.getValue(pName, pDefault);</span>
		}

		public boolean isWebRequest() {
<span class="nc" id="L87">			return mRoot.isWebRequest();</span>
		}

		public IRequest removeParam(String pName) {
<span class="nc" id="L91">			return mRoot.clone().removeParam(pName);</span>
		}

		public IRequest setBaseURL(String pBaseURL) {
<span class="nc" id="L95">			return mRoot.clone().setBaseURL(pBaseURL);</span>
		}

		public IRequest setHashValue(String pValue) {
<span class="nc" id="L99">			return mRoot.clone().setHashValue(pValue);</span>
		}

		public IRequest setParam(RequestParam pParam) {
<span class="nc" id="L103">			return mRoot.clone().setParam(pParam);</span>
		}

		public IRequest setParam(String pName, String pValue) {
<span class="nc" id="L107">			return mRoot.clone().setParam(pName, pValue);</span>
		}

		public IRequest toBaseURL() {
<span class="nc" id="L111">			return mRoot.toBaseURL();</span>
		}

		public IRequest clone() {
<span class="nc" id="L115">			return mRoot;</span>
		}
		
		@Override
		public String toString() {
<span class="nc" id="L120">			return mRoot.toString();</span>
		}
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>