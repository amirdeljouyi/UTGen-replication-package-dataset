<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Functions.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">71_ext4j</a> &gt; <a href="index.source.html" class="el_package">net.sourceforge.ext4j.taglib.tag</a> &gt; <span class="el_source">Functions.java</span></div><h1>Functions.java</h1><pre class="source lang-java linenums">/**
 * @author luc
 */
package net.sourceforge.ext4j.taglib.tag;

import java.text.DecimalFormat;
import java.text.SimpleDateFormat;
import java.util.Arrays;
import java.util.Calendar;
import java.util.Date;
import java.util.HashMap;
import java.util.Map;
import java.util.StringTokenizer;

import javax.servlet.jsp.JspTagException;

import net.sourceforge.ext4j.taglib.bo.IRequest;



/**
 * @author luc
 *
 */
<span class="nc" id="L25">public class Functions {</span>

	//private static Log mLogger = LogFactory.getLog(Functions.class);
<span class="nc" id="L28">	private static final Map&lt;Integer, String&gt; NUMBERS_WORD = new HashMap&lt;Integer, String&gt;();</span>
	
	private static final String UNDERSCORE = &quot;_&quot;;
	private static final String REGEX_UNDERSCORE_ONE_OR_MORE = &quot;_+&quot;;
	private static final String REGEX_WHITESPACE_ONE_OR_MORE = &quot;\\s+&quot;;
<span class="nc" id="L33">	private static final String[] TO_REPLACE = {&quot;-&quot;,&quot;:&quot;,&quot;,&quot;,&quot;'&quot;,&quot;!&quot;,&quot;\&quot;&quot;,&quot;\\*&quot;,&quot;\\(&quot;,&quot;\\)&quot;,&quot;~&quot;,&quot;`&quot;};</span>
	private static final String BLURB_SUFFIX = &quot;...&quot;;
	private static final String STRING_SPACE = &quot; &quot;;
	private static final String STRING_DOT = &quot;.&quot;;
	private static final String STRING_COMMA = &quot;,&quot;;
	private static final String STRING_EMPTY = &quot;&quot;;
	private static final String STRING_HTML_CR = &quot;&lt;br /&gt;&quot;;
	//private static final String STRING_CR = System.getProperty(&quot;line.separator&quot;); 
	private final static String EOL_LINUX = &quot;\n&quot;; 
	private final static String EOL_WIN32 = &quot;\r\n&quot;; 
	private final static String EOL_MAC_LEGACY = &quot;\n\r&quot;;
	public static final String LINK_PREFIX = &quot;webtools.link.&quot;;
	//private static final String FILENAME_VAR_REGEX = &quot;\\$\\{filename\\}&quot;;
	
	static {
<span class="nc" id="L48">		NUMBERS_WORD.put(0, &quot;zero&quot;);</span>
<span class="nc" id="L49">		NUMBERS_WORD.put(1, &quot;one&quot;);</span>
<span class="nc" id="L50">		NUMBERS_WORD.put(2, &quot;two&quot;);</span>
<span class="nc" id="L51">		NUMBERS_WORD.put(3, &quot;three&quot;);</span>
<span class="nc" id="L52">		NUMBERS_WORD.put(4, &quot;four&quot;);</span>
<span class="nc" id="L53">		NUMBERS_WORD.put(5, &quot;five&quot;);</span>
<span class="nc" id="L54">		NUMBERS_WORD.put(6, &quot;six&quot;);</span>
<span class="nc" id="L55">		NUMBERS_WORD.put(7, &quot;seven&quot;);</span>
<span class="nc" id="L56">		NUMBERS_WORD.put(8, &quot;eight&quot;);</span>
<span class="nc" id="L57">		NUMBERS_WORD.put(9, &quot;nine&quot;);</span>
<span class="nc" id="L58">		NUMBERS_WORD.put(10, &quot;ten&quot;);</span>
<span class="nc" id="L59">		NUMBERS_WORD.put(11, &quot;eleven&quot;);</span>
<span class="nc" id="L60">		NUMBERS_WORD.put(12, &quot;twelve&quot;);</span>
<span class="nc" id="L61">		NUMBERS_WORD.put(13, &quot;thirteen&quot;);</span>
<span class="nc" id="L62">		NUMBERS_WORD.put(14, &quot;fourteen&quot;);</span>
<span class="nc" id="L63">		NUMBERS_WORD.put(15, &quot;fifteen&quot;);</span>
<span class="nc" id="L64">		NUMBERS_WORD.put(16, &quot;sixteen&quot;);</span>
<span class="nc" id="L65">		NUMBERS_WORD.put(17, &quot;seventeen&quot;);</span>
<span class="nc" id="L66">		NUMBERS_WORD.put(18, &quot;eighteen&quot;);</span>
<span class="nc" id="L67">		NUMBERS_WORD.put(19, &quot;nineteen&quot;);</span>
<span class="nc" id="L68">		fillTens(20, &quot;twenty&quot;);</span>
<span class="nc" id="L69">		fillTens(30, &quot;thirty&quot;);</span>
<span class="nc" id="L70">		fillTens(40, &quot;fourty&quot;);</span>
<span class="nc" id="L71">		fillTens(50, &quot;fifty&quot;);</span>
<span class="nc" id="L72">		fillTens(60, &quot;sixty&quot;);</span>
<span class="nc" id="L73">		fillTens(70, &quot;seventy&quot;);					</span>
<span class="nc" id="L74">		fillTens(80, &quot;eighty&quot;);</span>
<span class="nc" id="L75">		fillTens(90, &quot;ninety&quot;);</span>
<span class="nc" id="L76">	}</span>
	
	public static int year(int pOffset) {
<span class="nc" id="L79">		Calendar c = Calendar.getInstance();</span>
<span class="nc" id="L80">		int oYear = c.get(Calendar.YEAR);</span>
<span class="nc" id="L81">		return oYear + pOffset;</span>
	}
	
	public static char toUpper(char c) {
<span class="nc" id="L85">		return Character.toUpperCase(c);</span>
	}
	
	public static char forDigit(int pDigit, int pRadix) {
<span class="nc" id="L89">		return Character.forDigit(pDigit, pRadix);</span>
	}
	
	public static int length(Object pCollection) throws JspTagException {
<span class="nc bnc" id="L93" title="All 2 branches missed.">		if (pCollection == null) return 0;</span>
<span class="nc bnc" id="L94" title="All 2 branches missed.">		if (Iterable.class.isAssignableFrom(pCollection.getClass())) {</span>
<span class="nc" id="L95">			Iterable&lt;Object&gt; oIterable = (Iterable&lt;Object&gt;) pCollection;</span>
<span class="nc" id="L96">			int oSize = 0;</span>
<span class="nc bnc" id="L97" title="All 2 branches missed.">			for (Object oKey : oIterable) {</span>
<span class="nc" id="L98">				oSize++;</span>
<span class="nc" id="L99">			}</span>
<span class="nc" id="L100">			return oSize;</span>
		} else {
<span class="nc" id="L102">			return org.apache.taglibs.standard.functions.Functions.length(pCollection);</span>
		}
	}
	
	public static String join(String[] pStrings, String pSep) {
<span class="nc bnc" id="L107" title="All 4 branches missed.">		if (pStrings == null || pStrings.length == 0) return STRING_EMPTY;</span>
<span class="nc" id="L108">		StringBuffer oBuf = new StringBuffer();</span>
<span class="nc bnc" id="L109" title="All 2 branches missed.">		for (int i = 0; i &lt; pStrings.length; i++) {</span>
<span class="nc bnc" id="L110" title="All 2 branches missed.">			if (oBuf.length() &gt; 0) oBuf.append(pSep);</span>
<span class="nc" id="L111">			oBuf.append(pStrings[i]);</span>
		}
<span class="nc" id="L113">		return oBuf.toString();</span>
	}

	public static String seo(String pValue) {
<span class="nc bnc" id="L117" title="All 2 branches missed.">		if (pValue == null) return pValue;</span>
<span class="nc" id="L118">		String oResult = pValue;</span>
<span class="nc" id="L119">		oResult = oResult.replaceAll(REGEX_WHITESPACE_ONE_OR_MORE, UNDERSCORE);</span>
<span class="nc bnc" id="L120" title="All 2 branches missed.">		for (int i = 0; i &lt; TO_REPLACE.length; i++) {</span>
<span class="nc" id="L121">			oResult = oResult.replaceAll(TO_REPLACE[i], UNDERSCORE);</span>
		}		
<span class="nc" id="L123">		oResult = oResult.replaceAll(REGEX_UNDERSCORE_ONE_OR_MORE, UNDERSCORE); // trim &quot;_&quot;s</span>
<span class="nc" id="L124">		return oResult;</span>
	}

	public static long round(double pValue) {
<span class="nc" id="L128">		return Math.round(pValue);</span>
	}
	
	public static String stripHTML(String s) {
<span class="nc bnc" id="L132" title="All 2 branches missed.">		if (s == null) return null;</span>
<span class="nc" id="L133">		return s.replaceAll(&quot;\\&lt;[^&gt;]*\\&gt;&quot;, STRING_EMPTY);</span>
	}
	
	public static String blurb(String s, int pMaxLength) {
<span class="nc bnc" id="L137" title="All 2 branches missed.">		if (s == null) return null;</span>
<span class="nc" id="L138">		String oResult = stripHTML(s);</span>
<span class="nc bnc" id="L139" title="All 2 branches missed.">		if (oResult.length() &lt; pMaxLength) return oResult;</span>
<span class="nc" id="L140">		StringBuilder oBuf = new StringBuilder();</span>
<span class="nc" id="L141">		String[] oWords = oResult.split(STRING_SPACE);</span>
<span class="nc" id="L142">		int i = 0;</span>
<span class="nc bnc" id="L143" title="All 4 branches missed.">		while (i &lt; oWords.length &amp;&amp; oBuf.length() &lt; pMaxLength) {</span>
<span class="nc" id="L144">			oBuf.append(oWords[i]);</span>
<span class="nc" id="L145">			oBuf.append(STRING_SPACE);</span>
<span class="nc" id="L146">			i++;</span>
		}
<span class="nc" id="L148">		oResult = oBuf.toString().trim();</span>
<span class="nc bnc" id="L149" title="All 4 branches missed.">		while (oResult.endsWith(STRING_DOT) || oResult.endsWith(STRING_COMMA)) {</span>
<span class="nc" id="L150">			oResult = oResult.substring(0, oResult.length() - 1);</span>
		}
		//oResult = stripHTML(oResult); // moved above
<span class="nc" id="L153">		return oResult + BLURB_SUFFIX;</span>
	}

	public static String blurbHTML(String s, int pMaxLength) {
<span class="nc bnc" id="L157" title="All 2 branches missed.">		if (s == null) return null;</span>
<span class="nc" id="L158">		String oResult = s.replaceAll(&quot;&lt;p&gt;&quot;, STRING_SPACE);</span>
<span class="nc" id="L159">		oResult = oResult.replaceAll(&quot;&lt;/p&gt;&quot;, STRING_EMPTY);</span>
<span class="nc" id="L160">		oResult = oResult.replaceAll(&quot;&lt;br /&gt;&quot;, STRING_SPACE);</span>
<span class="nc" id="L161">		oResult = oResult.replaceAll(&quot;&lt;br&gt;&quot;, STRING_SPACE);</span>
<span class="nc" id="L162">		return blurb(oResult, pMaxLength);</span>
	}
	
	public static String since(Date pFrom) {
<span class="nc bnc" id="L166" title="All 2 branches missed.">		if (pFrom == null)</span>
<span class="nc" id="L167">			return &quot;&quot;;</span>
<span class="nc" id="L168">		String oCaption = null;</span>
<span class="nc" id="L169">		long oDiff = Calendar.getInstance().getTime().getTime() - pFrom.getTime();</span>
<span class="nc" id="L170">		long oDaysPassed = oDiff / (1000 * 60 * 60 * 24);</span>
<span class="nc bnc" id="L171" title="All 2 branches missed.">		if (oDaysPassed &lt;= 1) {</span>
<span class="nc" id="L172">			long oMinutesPassed = oDiff / (1000*60);</span>
<span class="nc bnc" id="L173" title="All 2 branches missed.">			if (oMinutesPassed &lt;= 1) {</span>
<span class="nc" id="L174">				oCaption = &quot;1 minute ago&quot;;</span>
<span class="nc bnc" id="L175" title="All 2 branches missed.">			} else if (oMinutesPassed &lt;= 5) {</span>
<span class="nc" id="L176">				oCaption = &quot;5 minutes ago&quot;;</span>
<span class="nc bnc" id="L177" title="All 2 branches missed.">			} else if (oMinutesPassed &lt;= 30) {</span>
<span class="nc" id="L178">				oCaption = &quot;30 minutes ago&quot;;</span>
			} 
<span class="nc" id="L180">			long oHours = oMinutesPassed / 60;</span>
<span class="nc bnc" id="L181" title="All 2 branches missed.">			if (oHours &lt;= 1) {</span>
<span class="nc" id="L182">				oCaption = &quot;1 hour ago&quot;;</span>
<span class="nc bnc" id="L183" title="All 2 branches missed.">			} else if (oHours &lt;= 11){</span>
<span class="nc" id="L184">				oCaption = oHours + &quot; hours ago&quot;;</span>
			} else {
<span class="nc" id="L186">				oCaption = &quot;today&quot;;</span>
			}
<span class="nc bnc" id="L188" title="All 4 branches missed.">		} else if (oDaysPassed &gt; 1 &amp;&amp; oDaysPassed &lt;= 2) {</span>
<span class="nc" id="L189">			oCaption = &quot;yesterday&quot;;</span>
<span class="nc bnc" id="L190" title="All 2 branches missed.">		} else if (oDaysPassed &lt;= 7) {</span>
<span class="nc" id="L191">			oCaption = &quot;this week&quot;;</span>
<span class="nc bnc" id="L192" title="All 4 branches missed.">		} else if (oDaysPassed &gt; 7 &amp;&amp; oDaysPassed &lt;= 14) {</span>
<span class="nc" id="L193">			oCaption = &quot;last week&quot;;</span>
<span class="nc bnc" id="L194" title="All 4 branches missed.">		} else if (oDaysPassed &gt; 14 &amp;&amp; oDaysPassed &lt;= 21) {</span>
<span class="nc" id="L195">			oCaption = &quot;2 weeks ago&quot;;</span>
<span class="nc bnc" id="L196" title="All 4 branches missed.">		} else if (oDaysPassed &gt; 21 &amp;&amp; oDaysPassed &lt;= 28) {</span>
<span class="nc" id="L197">			oCaption = &quot;3 weeks ago&quot;;</span>
<span class="nc bnc" id="L198" title="All 4 branches missed.">		} else if (oDaysPassed &gt; 28 &amp;&amp; oDaysPassed &lt;= 60) {</span>
<span class="nc" id="L199">			oCaption = &quot;last month&quot;;</span>
<span class="nc bnc" id="L200" title="All 4 branches missed.">		} else if (oDaysPassed &gt; 60 &amp;&amp; oDaysPassed &lt;= 365) {</span>
<span class="nc" id="L201">			int oMonths = ((int)oDaysPassed)/30;</span>
<span class="nc" id="L202">			oCaption = oMonths + &quot; months ago&quot;;</span>
<span class="nc" id="L203">		} else {</span>
<span class="nc" id="L204">			oCaption = &quot;over a year ago&quot;;</span>
		}
<span class="nc" id="L206">		return oCaption;</span>
	}
	
	public static String decimalFormat(double pDouble, String pPattern) {
<span class="nc" id="L210">		DecimalFormat oFormatter = new DecimalFormat(pPattern);</span>
<span class="nc" id="L211">		return oFormatter.format(pDouble);</span>
	}
	
	/**
	 * Format a date with a pattern (using java.text.SimpleDateFormat)
	 * @param pDateTime the date
	 * @param pPattern the pattern
	 * @return the date to display
	 */
	public static String dateFormat(Date pDateTime, String pPattern) {
<span class="nc bnc" id="L221" title="All 2 branches missed.">		if (pDateTime == null)</span>
<span class="nc" id="L222">			return &quot;&quot;;</span>
<span class="nc" id="L223">		SimpleDateFormat oFormatter = new SimpleDateFormat (pPattern);</span>
<span class="nc" id="L224">		return oFormatter.format(pDateTime);</span>
	}
	
	/**
	 * Add 's or ' at the end of the text, for example &quot;James'&quot; for &quot;James&quot; or &quot;Daniel's&quot; for &quot;Daniel&quot;
	 * @param pText the text
	 * @return the text with 's or '
	 */
	public static String addS(String pText) {
<span class="nc bnc" id="L233" title="All 4 branches missed.">		if (pText == null || pText.trim().equals(&quot;&quot;))</span>
<span class="nc" id="L234">			return &quot;&quot;;</span>
<span class="nc bnc" id="L235" title="All 2 branches missed.">		if (pText.charAt(pText.length() - 1) == 's')</span>
<span class="nc" id="L236">			return pText + &quot;'&quot;;</span>
		else
<span class="nc" id="L238">			return pText + &quot;'s&quot;;</span>
	}
	
	/**
	 * Return the pMaxLength first characters of the string s with &quot;...&quot;
	 * @param s
	 * @param pMaxLength
	 * @return
	 */
	public static String blurbChar(String s, int pMaxLength) {
<span class="nc bnc" id="L248" title="All 2 branches missed.">		if (s == null) return null;</span>
//		if (s.length() &lt; pMaxLength) return s.replaceAll(STRING_CR, &quot; &quot;);
//		return s.substring(0, pMaxLength).replaceAll(STRING_CR, &quot; &quot;) + BLURB_SUFFIX;
<span class="nc bnc" id="L251" title="All 2 branches missed.">		if (s.length() &lt; pMaxLength) return s.replaceAll(EOL_WIN32, &quot; &quot;).replaceAll(EOL_MAC_LEGACY, &quot; &quot;).replaceAll(EOL_LINUX, &quot; &quot;);</span>
<span class="nc" id="L252">		return s.substring(0, pMaxLength).replaceAll(EOL_WIN32, &quot; &quot;).replaceAll(EOL_MAC_LEGACY, &quot; &quot;).replaceAll(EOL_LINUX, &quot; &quot;) + BLURB_SUFFIX;</span>
	}
	
	/**
	 *  Break up a too big word on several lines
	 * @param s
	 * @param pMaxLength
	 * @return
	 */
	public static String cutWordCR(String s, int pMaxLength) {
<span class="nc bnc" id="L262" title="All 2 branches missed.">		if (s == null) return null;</span>
<span class="nc bnc" id="L263" title="All 2 branches missed.">		if (s.length() &lt; pMaxLength) return s;</span>
<span class="nc" id="L264">		String oString = s;</span>
<span class="nc" id="L265">		String oReturn = &quot;&quot;;</span>
		do {
<span class="nc" id="L267">			oReturn = oReturn + oString.substring(0, pMaxLength) + STRING_HTML_CR;</span>
<span class="nc" id="L268">			oString = oString.substring(pMaxLength, oString.length());</span>
<span class="nc bnc" id="L269" title="All 2 branches missed.">		} while (oString.length() &gt; pMaxLength);</span>
<span class="nc bnc" id="L270" title="All 2 branches missed.">		if (oString.trim().length() == 0) {</span>
<span class="nc" id="L271">			oReturn = oReturn.substring(oReturn.length() - STRING_HTML_CR.length(), oReturn.length());</span>
		}	else {
<span class="nc" id="L273">			oReturn = oReturn + oString;</span>
		}
<span class="nc" id="L275">		return oReturn;</span>
	}

	/**
	 * Break up the too big words in the given text
	 * @param pText
	 * @param pMaxLength
	 * @return
	 */
	public static String cutWordCRText(String pText, int pMaxLength) {
<span class="nc bnc" id="L285" title="All 2 branches missed.">		if (pText == null) return null;</span>
<span class="nc bnc" id="L286" title="All 2 branches missed.">		if (pText.length() &lt; pMaxLength) return pText;</span>
<span class="nc" id="L287">		String oReturn = &quot;&quot;;</span>
<span class="nc" id="L288">		int c = 0;</span>
<span class="nc bnc" id="L289" title="All 2 branches missed.">		for (int i = 0; i &lt; pText.length(); i++) {</span>
<span class="nc bnc" id="L290" title="All 2 branches missed.">			if (pText.charAt(i) == ' ')</span>
<span class="nc" id="L291">				c = 0;</span>
<span class="nc bnc" id="L292" title="All 2 branches missed.">			else if (c &gt;= pMaxLength) {</span>
<span class="nc" id="L293">				oReturn = oReturn + STRING_HTML_CR;</span>
<span class="nc" id="L294">				c = 0;</span>
			}
			else				
<span class="nc" id="L297">				c++;</span>
<span class="nc" id="L298">			oReturn = oReturn + pText.charAt(i);</span>
		}
<span class="nc" id="L300">		return oReturn;</span>
	}

	/**
	 * Break up the too big words in the given text
	 * @param pText
	 * @param pMaxLength
	 * @return
	 */
	public static String replaceCRWithBR(String pText) {
<span class="nc bnc" id="L310" title="All 2 branches missed.">		if (pText == null) return null;</span>
<span class="nc" id="L311">		return pText.replaceAll(&quot;\r\n|\n&quot;, &quot;&lt;br /&gt;&quot;);</span>
	}
	
	/**
	 * Convert a date in milliseconds
	 * @param pDateTime the date
	 * @return the milliseconds
	 */
	public static long dateToMilliseconds(Date pDateTime) {
<span class="nc bnc" id="L320" title="All 2 branches missed.">		if (pDateTime == null)</span>
<span class="nc" id="L321">			return 0;</span>
		
<span class="nc" id="L323">		Calendar c = Calendar.getInstance();</span>
<span class="nc" id="L324">		c.setTime(pDateTime);</span>
<span class="nc" id="L325">		return c.getTimeInMillis();</span>
	}
	
	/**
	 * Order the words of a String 
	 * @param s
	 * @param separator the words separator
	 * @return
	 */
	public static String orderWords(String s, String pSeparator) {
<span class="nc bnc" id="L335" title="All 6 branches missed.">		if (s == null || s.trim().length() == 0 || s.equals(pSeparator)) return null;</span>
<span class="nc" id="L336">		String[] oWords = s.split(pSeparator);</span>
<span class="nc" id="L337">		Arrays.sort(oWords);		</span>
<span class="nc" id="L338">		StringBuffer oBuf = new StringBuffer();</span>
<span class="nc bnc" id="L339" title="All 2 branches missed.">		for (int i = 0; i &lt; oWords.length; i++) {</span>
<span class="nc" id="L340">			oBuf.append(oWords[i]);</span>
<span class="nc bnc" id="L341" title="All 2 branches missed.">			if ((i+1) &lt; oWords.length) oBuf.append(pSeparator);</span>
		}
<span class="nc" id="L343">		return oBuf.toString();</span>
	}
	
	public static String capFirstLetters(String s) {
<span class="nc bnc" id="L347" title="All 4 branches missed.">		if (s == null || s.trim().length() == 0) return s;</span>
<span class="nc" id="L348">		String oLowerCase = s.toLowerCase();</span>
<span class="nc" id="L349">		StringTokenizer oTokenizer = new StringTokenizer(oLowerCase, STRING_SPACE);</span>
<span class="nc" id="L350">		StringBuffer oBuf = new StringBuffer();</span>
<span class="nc" id="L351">		String oToken = null;</span>
<span class="nc bnc" id="L352" title="All 2 branches missed.">		while (oTokenizer.hasMoreTokens())  {</span>
<span class="nc" id="L353">			oToken = oTokenizer.nextToken();</span>
<span class="nc" id="L354">			oBuf.append(oToken.substring(0, 1).toUpperCase() + oToken.substring(1));</span>
<span class="nc bnc" id="L355" title="All 2 branches missed.">			if (oTokenizer.hasMoreTokens()) oBuf.append(STRING_SPACE);</span>
		}
<span class="nc" id="L357">		return oBuf.toString();</span>
	}
	
	private static void fillTens(int pTen, String pTenWord) {
<span class="nc" id="L361">		NUMBERS_WORD.put(pTen, pTenWord);</span>
<span class="nc bnc" id="L362" title="All 2 branches missed.">		for (int i = 1; i &lt; 10; i++) {</span>
<span class="nc" id="L363">			NUMBERS_WORD.put(pTen + i, pTenWord + &quot;-&quot; + NUMBERS_WORD.get(i));</span>
		}
<span class="nc" id="L365">	}</span>
	
	public static String numberInWord(int pValue) throws Exception {
<span class="nc" id="L368">		String oWord = NUMBERS_WORD.get(pValue);</span>
<span class="nc bnc" id="L369" title="All 2 branches missed.">		if (oWord == null) oWord = Integer.toString(pValue);</span>
<span class="nc" id="L370">		return oWord;</span>
	}
	
	public static String ordinal(int pInteger) {
<span class="nc" id="L374">		int oDigit = getLastDigit(pInteger);</span>
<span class="nc bnc" id="L375" title="All 6 branches missed.">		if ((pInteger &gt; 20 || pInteger &lt; 10) &amp;&amp; oDigit &lt; 4) {</span>
<span class="nc bnc" id="L376" title="All 4 branches missed.">			switch (oDigit) {</span>
				case 1:
<span class="nc" id="L378">					return pInteger + &quot;st&quot;;</span>
				case 2:
<span class="nc" id="L380">					return pInteger + &quot;nd&quot;;</span>
				case 3:
<span class="nc" id="L382">					return pInteger + &quot;rd&quot;;</span>
			}
		}
<span class="nc" id="L385">		return pInteger + &quot;th&quot;;</span>
	}
	
	private static int getLastDigit(int pInteger) {
<span class="nc" id="L389">		String s = Integer.toString(pInteger);</span>
<span class="nc" id="L390">		return Integer.parseInt(s.substring(s.length() - 1));</span>
	}
	
	public static IRequest removeParam(String pName, IRequest pRequest) throws Exception {
<span class="nc" id="L394">		return pRequest.removeParam(pName);</span>
	}
	
	public static IRequest addParam(String pName, String pValue, IRequest pRequest) throws Exception {
<span class="nc" id="L398">		return pRequest.addParam(pName, pValue);</span>
	}
	
	public static IRequest setParam(String pName, String pValue, IRequest pRequest) throws Exception {
<span class="nc" id="L402">		return pRequest.setParam(pName, pValue);</span>
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>