<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>IPAC.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">82_ipcalculator</a> &gt; <a href="index.source.html" class="el_package">ipac</a> &gt; <span class="el_source">IPAC.java</span></div><h1>IPAC.java</h1><pre class="source lang-java linenums">package ipac;
import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
import javax.swing.event.*;
import java.util.*;

/**
 *  Title: Internet Protocol Address Calculator (IPAC)
 *  &lt;br&gt;Description: Internet Protocol Address Calculator (IPAC) Main Graphical
 *                   User Interface (GUI).
 *  &lt;br&gt;Copyright (c) 2006-7 Jason Wang
 *
 *  &lt;p&gt;This program is free software; you can redistribute it and/or
 *  &lt;br&gt;modify it under the terms of the GNU General Public License
 *  &lt;br&gt;as published by the Free Software Foundation; either version 2
 *  &lt;br&gt;of the License, or (at your option) any later version.
 *
 *  &lt;br&gt;This program is distributed in the hope that it will be useful,
 *  &lt;br&gt;but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  &lt;br&gt;MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *  &lt;br&gt;GNU General Public License for more details.
 *
 *  &lt;br&gt;You should have received a copy of the GNU General Public License
 *  &lt;br&gt;along with this program; if not, write to the Free Software
 *  &lt;br&gt;Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
 *                                                              02110-1301, USA.
 *
 *  @author      Jason Wang
 *  @version     v0.18
 */

public class IPAC extends JFrame implements ChangeListener {
    /** USER EDITABLE OPTIONS */
        /** URL of online help files */
<span class="nc" id="L36">        String HELPTOPICURL = &quot;http://www.apnic.net/temp/help.html&quot;;</span>
    
    /** Global Variables -=- DO NOT EDIT */
    JTabbedPane IPAddressCalculator;
<span class="nc" id="L40">    IPv4 IPv4 = new IPv4();</span>
<span class="nc" id="L41">    IPv6 IPv6 = new IPv6();</span>
<span class="nc" id="L42">    WhoIS Whois = new WhoIS();</span>
    
    /** Creates a new instance of IPAC */
    public IPAC() {
<span class="nc" id="L46">        super(&quot;Internet Protocol Address Calculator (IPAC)&quot;);</span>
<span class="nc" id="L47">        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span>
<span class="nc" id="L48">        setSize(800, 600);</span>
<span class="nc" id="L49">        setVisible(true);</span>
<span class="nc" id="L50">        setResizable(true);</span>
<span class="nc" id="L51">        JFrame.setDefaultLookAndFeelDecorated(false);</span>
        
<span class="nc" id="L53">        setJMenuBar(addMenuBar());</span>
        
        try {
<span class="nc" id="L56">            getContentPane().setLayout(new BorderLayout());</span>
<span class="nc" id="L57">            getContentPane().add(addTopPanel(), BorderLayout.NORTH);</span>
<span class="nc" id="L58">            createTabbedPane();</span>
<span class="nc" id="L59">            getContentPane().add(IPAddressCalculator, BorderLayout.CENTER);</span>
<span class="nc" id="L60">            getContentPane().setBackground(Color.WHITE);</span>
            
            /** Change default program icon look to the APNIC Logo */
<span class="nc" id="L63">            java.net.URL imgURL = getClass().getResource(&quot;APNIC_Logo.JPG&quot;);</span>
<span class="nc" id="L64">            setIconImage(new ImageIcon(imgURL).getImage());</span>
            
<span class="nc" id="L66">        } catch (Exception e) {</span>
<span class="nc" id="L67">            e.printStackTrace();</span>
<span class="nc" id="L68">        }</span>
        
        /** Re-pack all components to prevent display errors */
<span class="nc" id="L71">        pack();</span>
<span class="nc" id="L72">        setSize(800, 600);</span>
<span class="nc" id="L73">    }</span>
    
    /**
     *  Copies the IP Address from IPv4 and IPv6 textfields when
     *  &lt;code&gt;JTabbedPane&lt;/code&gt; changes its state to WhoIs tab.
     *
     *  &lt;p&gt;Overrides abstract method stateChanged(javax.swing.event.ChangeEvent)
     *  in javax.swing.event.ChangeListener.
     *
     *  @param  e    a ChangeEvent object
     */
    public void stateChanged(ChangeEvent e){
<span class="nc" id="L85">        String tabName = IPAddressCalculator.getTitleAt(</span>
<span class="nc" id="L86">                ((DefaultSingleSelectionModel)e.getSource()).getSelectedIndex());</span>
<span class="nc" id="L87">        String query = &quot;&quot;;</span>
<span class="nc bnc" id="L88" title="All 2 branches missed.">        if (tabName == &quot;Whois&quot;){</span>
<span class="nc bnc" id="L89" title="All 2 branches missed.">            if (IPv4.IPAddressTextField.getText().trim().length() != 0)</span>
<span class="nc" id="L90">                query = IPv4.IPAddressTextField.getText();</span>
<span class="nc bnc" id="L91" title="All 2 branches missed.">            else if (IPv6.IPAddressTextField.getText().trim().length() != 0)</span>
<span class="nc" id="L92">                query = IPv6.IPAddressTextField.getText();</span>
        }
<span class="nc" id="L94">        StringTokenizer token = new StringTokenizer (query, &quot; &quot;);</span>
<span class="nc bnc" id="L95" title="All 2 branches missed.">        if (token.hasMoreTokens())</span>
<span class="nc" id="L96">            Whois.queryTextField.setText(token.nextToken() +  token.nextToken());</span>
        else 
<span class="nc" id="L98">            Whois.queryTextField.setText(query);</span>
<span class="nc" id="L99">    }</span>
    
    /**
     *  Creates the top section of this program.
     *
     *  &lt;p&gt;This includes:
     *  &lt;ul&gt;
     *      &lt;li&gt;The APNIC logo
     *      &lt;li&gt;Full APNIC Name
     *      &lt;li&gt;Name of this program
     *  &lt;/ul&gt;
     *
     *  @return     A &lt;code&gt;JPanel&lt;/code&gt; containing all components for the top
     *              section of this program.
     */
    private JPanel addTopPanel(){
<span class="nc" id="L115">        JPanel topPanel = new JPanel();</span>
<span class="nc" id="L116">        topPanel.setLayout(new BoxLayout(topPanel, BoxLayout.Y_AXIS));</span>
<span class="nc" id="L117">        topPanel.setBackground(Color.WHITE);</span>
        
<span class="nc" id="L119">        JPanel topBar = new JPanel(new BorderLayout());</span>
        
<span class="nc" id="L121">        JLabel apnicLogoLabel = new JLabel(new ImageIcon(getClass().getResource(</span>
                &quot;logo.jpg&quot;)));
<span class="nc" id="L123">        topBar.add(apnicLogoLabel, BorderLayout.WEST);</span>
        
<span class="nc" id="L125">        JLabel apnicLabel =</span>
                new JLabel(&quot;Asia Pacific Network Information Centre&quot;);
<span class="nc" id="L127">        apnicLabel.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 15));</span>
<span class="nc" id="L128">        apnicLabel.setForeground(new Color(2, 69, 169));</span>
<span class="nc" id="L129">        apnicLabel.setBorder(BorderFactory.createMatteBorder(</span>
                0, 0, 30, 10, Color.WHITE));
<span class="nc" id="L131">        topBar.add(apnicLabel, BorderLayout.EAST);</span>
        
<span class="nc" id="L133">        topBar.setBackground(Color.WHITE);</span>
<span class="nc" id="L134">        topPanel.add(topBar);</span>
        
<span class="nc" id="L136">        JPanel bottomBar = new JPanel(new FlowLayout());</span>
        
<span class="nc" id="L138">        JLabel programNameLabel = new JLabel(</span>
                &quot;  IP Address Calculator  &quot;, JLabel.LEFT);
<span class="nc" id="L140">        programNameLabel.setOpaque(true);</span>
<span class="nc" id="L141">        programNameLabel.setForeground(new Color(2, 69, 169));</span>
<span class="nc" id="L142">        programNameLabel.setFont(new Font(&quot;Verdana&quot;, Font.BOLD, 30));</span>
<span class="nc" id="L143">        programNameLabel.setBackground(new Color(255, 204, 102));</span>
        
<span class="nc" id="L145">        bottomBar.add(programNameLabel);</span>
<span class="nc" id="L146">        bottomBar.setBackground(new Color(255, 204, 102));</span>
<span class="nc" id="L147">        bottomBar.setBorder(BorderFactory.createMatteBorder(</span>
                10, 10, 10, 10, Color.WHITE));
<span class="nc" id="L149">        topPanel.add(bottomBar);</span>
        
<span class="nc" id="L151">        return topPanel;</span>
    }
    
    /**
     *  Adds three panels to the &lt;code&gt;JTabbedPane&lt;/code&gt;.
     */
    private void createTabbedPane(){
<span class="nc" id="L158">        IPAddressCalculator = new JTabbedPane(JTabbedPane.TOP);</span>
<span class="nc" id="L159">        IPAddressCalculator.addTab(&quot;IPv4&quot;, IPv4);</span>
<span class="nc" id="L160">        IPAddressCalculator.addTab(&quot;IPv6&quot;, IPv6);</span>
<span class="nc" id="L161">        IPAddressCalculator.addTab(&quot;Whois&quot;, Whois);</span>
<span class="nc" id="L162">        IPAddressCalculator.getModel().addChangeListener(this);</span>
        
<span class="nc" id="L164">        IPAddressCalculator.setForeground(new Color(2, 69, 169));</span>
<span class="nc" id="L165">        IPAddressCalculator.setBackground(Color.WHITE);</span>
<span class="nc" id="L166">        IPAddressCalculator.setOpaque(false);</span>
<span class="nc" id="L167">    }</span>
    
    /**
     *  Creates a &lt;code&gt;menuBar&lt;/code&gt; where the user can view the license and
     *  the online help files.
     *
     *  @return      A &lt;code&gt;menuBar&lt;/code&gt; containing these components.
     */
    private JMenuBar addMenuBar(){
<span class="nc" id="L176">        JMenuBar menuBar = new JMenuBar();</span>
        
<span class="nc" id="L178">        JMenu fileMenuBar = new JMenu(&quot;File&quot;);</span>
<span class="nc" id="L179">        fileMenuBar.setMnemonic(KeyEvent.VK_F);</span>
        
<span class="nc" id="L181">        JMenuItem exitMenuItem = new JMenuItem(&quot;Exit&quot;);</span>
<span class="nc" id="L182">        exitMenuItem.setMnemonic(KeyEvent.VK_X);</span>
<span class="nc" id="L183">        exitMenuItem.setAccelerator(KeyStroke.getKeyStroke(</span>
                KeyEvent.VK_X, Event.ALT_MASK));
<span class="nc" id="L185">        exitMenuItem.addActionListener(new ActionListener(){</span>
            public void actionPerformed(ActionEvent e){
<span class="nc" id="L187">                System.exit(0);</span>
<span class="nc" id="L188">            }</span>
        });
<span class="nc" id="L190">        fileMenuBar.add(exitMenuItem);</span>
        
<span class="nc" id="L192">        menuBar.add(fileMenuBar);</span>
        
<span class="nc" id="L194">        JMenu helpMenuBar = new JMenu(&quot;Help&quot;);</span>
<span class="nc" id="L195">        helpMenuBar.setMnemonic(KeyEvent.VK_H);</span>
        
<span class="nc" id="L197">        JMenuItem helpTopicsMenuItem = new JMenuItem(&quot;Help Topics&quot;);</span>
<span class="nc" id="L198">        helpTopicsMenuItem.setMnemonic(KeyEvent.VK_T);</span>
<span class="nc" id="L199">        helpTopicsMenuItem.addActionListener(new ActionListener(){</span>
            public void actionPerformed(ActionEvent e){
<span class="nc" id="L201">                new URLOpener(HELPTOPICURL);</span>
<span class="nc" id="L202">            }</span>
        });
<span class="nc" id="L204">        helpMenuBar.add(helpTopicsMenuItem);</span>
        
<span class="nc" id="L206">        JMenuItem GPLReaderMenuItem = new JMenuItem(&quot;GNU GPL Reader&quot;);</span>
<span class="nc" id="L207">        GPLReaderMenuItem.addActionListener(new ActionListener(){</span>
            public void actionPerformed(ActionEvent e){
<span class="nc" id="L209">                new GPLReader();</span>
<span class="nc" id="L210">            }</span>
        });
<span class="nc" id="L212">        helpMenuBar.add(GPLReaderMenuItem);</span>
        
<span class="nc" id="L214">        menuBar.add(helpMenuBar);</span>
        
<span class="nc" id="L216">        return menuBar;</span>
    }
    
    public static void main(String[] args) {
<span class="nc" id="L220">        new IPAC();</span>
<span class="nc" id="L221">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>