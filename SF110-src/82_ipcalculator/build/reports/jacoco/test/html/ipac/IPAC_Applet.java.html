<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>IPAC_Applet.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">82_ipcalculator</a> &gt; <a href="index.source.html" class="el_package">ipac</a> &gt; <span class="el_source">IPAC_Applet.java</span></div><h1>IPAC_Applet.java</h1><pre class="source lang-java linenums">package ipac;
import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
import javax.swing.event.*;
import java.util.*;

/**
 *  Title: Internet Protocol Address Calculator (IPAC) Applet
 *  &lt;br&gt;Description: Internet Protocol Address Calculator (IPAC) Main Graphical
 *                   User Interface (GUI).
 *  &lt;br&gt;Copyright (c) 2006-7 Jason Wang
 *
 *  &lt;p&gt;This program is free software; you can redistribute it and/or
 *  &lt;br&gt;modify it under the terms of the GNU General Public License
 *  &lt;br&gt;as published by the Free Software Foundation; either version 2
 *  &lt;br&gt;of the License, or (at your option) any later version.
 *
 *  &lt;br&gt;This program is distributed in the hope that it will be useful,
 *  &lt;br&gt;but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  &lt;br&gt;MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *  &lt;br&gt;GNU General Public License for more details.
 *
 *  &lt;br&gt;You should have received a copy of the GNU General Public License
 *  &lt;br&gt;along with this program; if not, write to the Free Software
 *  &lt;br&gt;Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
 *                                                              02110-1301, USA.
 *
 *  @author      Jason Wang
 *  @version     v0.18
 */

<span class="nc" id="L33">public class IPAC_Applet extends JApplet implements ChangeListener {</span>
    /** USER EDITABLE OPTIONS */
        /** URL of online help files */
<span class="nc" id="L36">        String HELPTOPICURL = &quot;http://www.apnic.net/temp/help.html&quot;;</span>
    
    /** Global Variables -=- DO NOT EDIT */
    JTabbedPane IPAddressCalculator;
<span class="nc" id="L40">    IPv4 IPv4 = new IPv4();</span>
<span class="nc" id="L41">    IPv6 IPv6 = new IPv6();</span>
<span class="nc" id="L42">    WhoIS Whois = new WhoIS();</span>
    
    /** Creates a new instance of IPAC Applet */
    public void init() {
        try {
<span class="nc" id="L47">            java.awt.EventQueue.invokeAndWait(new Runnable() {</span>
                public void run() {
<span class="nc" id="L49">                    initComponents();</span>
<span class="nc" id="L50">                }</span>
            });
<span class="nc" id="L52">        } catch (Exception ex) {</span>
<span class="nc" id="L53">            ex.printStackTrace();</span>
<span class="nc" id="L54">        }</span>
<span class="nc" id="L55">    }</span>
    
    private void initComponents() {
<span class="nc" id="L58">        setSize(800, 600);</span>
<span class="nc" id="L59">        setVisible(true);</span>
<span class="nc" id="L60">        JFrame.setDefaultLookAndFeelDecorated(false);</span>
        
<span class="nc" id="L62">        setJMenuBar(addMenuBar());</span>
        
        try {
<span class="nc" id="L65">            getContentPane().setLayout(new BorderLayout());</span>
<span class="nc" id="L66">            getContentPane().add(addTopPanel(), BorderLayout.NORTH);</span>
<span class="nc" id="L67">            createTabbedPane();</span>
<span class="nc" id="L68">            getContentPane().add(IPAddressCalculator, BorderLayout.CENTER);</span>
<span class="nc" id="L69">            getContentPane().setBackground(Color.WHITE);</span>
            
<span class="nc" id="L71">        } catch (Exception e) {</span>
<span class="nc" id="L72">            e.printStackTrace();</span>
<span class="nc" id="L73">        }</span>
<span class="nc" id="L74">    }</span>
    
    /**
     *  Copies the IP Address from IPv4 and IPv6 textfields when
     *  &lt;code&gt;JTabbedPane&lt;/code&gt; changes its state to WhoIs tab.
     *
     *  &lt;p&gt;Overrides abstract method stateChanged(javax.swing.event.ChangeEvent)
     *  in javax.swing.event.ChangeListener.
     *
     *  @param  e    a ChangeEvent object
     */
    public void stateChanged(ChangeEvent e){
<span class="nc" id="L86">        String tabName = IPAddressCalculator.getTitleAt(</span>
<span class="nc" id="L87">                ((DefaultSingleSelectionModel)e.getSource()).getSelectedIndex());</span>
<span class="nc" id="L88">        String query = &quot;&quot;;</span>
<span class="nc bnc" id="L89" title="All 2 branches missed.">        if (tabName == &quot;Whois&quot;){</span>
<span class="nc bnc" id="L90" title="All 2 branches missed.">            if (IPv4.IPAddressTextField.getText().trim().length() != 0)</span>
<span class="nc" id="L91">                query = IPv4.IPAddressTextField.getText();</span>
<span class="nc bnc" id="L92" title="All 2 branches missed.">            else if (IPv6.IPAddressTextField.getText().trim().length() != 0)</span>
<span class="nc" id="L93">                query = IPv6.IPAddressTextField.getText();</span>
        }
<span class="nc" id="L95">        StringTokenizer token = new StringTokenizer (query, &quot; &quot;);</span>
<span class="nc bnc" id="L96" title="All 2 branches missed.">        if (token.hasMoreTokens())</span>
<span class="nc" id="L97">            Whois.queryTextField.setText(token.nextToken() +  token.nextToken());</span>
        else 
<span class="nc" id="L99">            Whois.queryTextField.setText(query);</span>
<span class="nc" id="L100">    }</span>
    
    /**
     *  Creates the top section of this program.
     *
     *  &lt;p&gt;This includes:
     *  &lt;ul&gt;
     *      &lt;li&gt;The APNIC logo
     *      &lt;li&gt;Full APNIC Name
     *      &lt;li&gt;Name of this program
     *  &lt;/ul&gt;
     *
     *  @return     A &lt;code&gt;JPanel&lt;/code&gt; containing all components for the top
     *              section of this program.
     */
    private JPanel addTopPanel(){
<span class="nc" id="L116">        JPanel topPanel = new JPanel();</span>
<span class="nc" id="L117">        topPanel.setLayout(new BoxLayout(topPanel, BoxLayout.Y_AXIS));</span>
<span class="nc" id="L118">        topPanel.setBackground(Color.WHITE);</span>
        
<span class="nc" id="L120">        JPanel topBar = new JPanel(new BorderLayout());</span>
        
<span class="nc" id="L122">        JLabel apnicLogoLabel = new JLabel(new ImageIcon(getClass().getResource(</span>
                &quot;logo.jpg&quot;)));
<span class="nc" id="L124">        topBar.add(apnicLogoLabel, BorderLayout.WEST);</span>
        
<span class="nc" id="L126">        JLabel apnicLabel =</span>
                new JLabel(&quot;Asia Pacific Network Information Centre&quot;);
<span class="nc" id="L128">        apnicLabel.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 15));</span>
<span class="nc" id="L129">        apnicLabel.setForeground(new Color(2, 69, 169));</span>
<span class="nc" id="L130">        apnicLabel.setBorder(BorderFactory.createMatteBorder(</span>
                0, 0, 30, 10, Color.WHITE));
<span class="nc" id="L132">        topBar.add(apnicLabel, BorderLayout.EAST);</span>
        
<span class="nc" id="L134">        topBar.setBackground(Color.WHITE);</span>
<span class="nc" id="L135">        topPanel.add(topBar);</span>
        
<span class="nc" id="L137">        JPanel bottomBar = new JPanel(new FlowLayout());</span>
        
<span class="nc" id="L139">        JLabel programNameLabel = new JLabel(</span>
                &quot;  IP Address Calculator  &quot;, JLabel.LEFT);
<span class="nc" id="L141">        programNameLabel.setOpaque(true);</span>
<span class="nc" id="L142">        programNameLabel.setForeground(new Color(2, 69, 169));</span>
<span class="nc" id="L143">        programNameLabel.setFont(new Font(&quot;Verdana&quot;, Font.BOLD, 30));</span>
<span class="nc" id="L144">        programNameLabel.setBackground(new Color(255, 204, 102));</span>
        
<span class="nc" id="L146">        bottomBar.add(programNameLabel);</span>
<span class="nc" id="L147">        bottomBar.setBackground(new Color(255, 204, 102));</span>
<span class="nc" id="L148">        bottomBar.setBorder(BorderFactory.createMatteBorder(</span>
                10, 10, 10, 10, Color.WHITE));
<span class="nc" id="L150">        topPanel.add(bottomBar);</span>
        
<span class="nc" id="L152">        return topPanel;</span>
    }
    
    /**
     *  Adds three panels to the &lt;code&gt;JTabbedPane&lt;/code&gt;.
     */
    private void createTabbedPane(){
<span class="nc" id="L159">        IPAddressCalculator = new JTabbedPane(JTabbedPane.TOP);</span>
<span class="nc" id="L160">        IPAddressCalculator.addTab(&quot;IPv4&quot;, IPv4);</span>
<span class="nc" id="L161">        IPAddressCalculator.addTab(&quot;IPv6&quot;, IPv6);</span>
<span class="nc" id="L162">        IPAddressCalculator.addTab(&quot;Whois&quot;, Whois);</span>
<span class="nc" id="L163">        IPAddressCalculator.getModel().addChangeListener(this);</span>
        
<span class="nc" id="L165">        IPAddressCalculator.setForeground(new Color(2, 69, 169));</span>
<span class="nc" id="L166">        IPAddressCalculator.setBackground(Color.WHITE);</span>
<span class="nc" id="L167">        IPAddressCalculator.setOpaque(false);</span>
<span class="nc" id="L168">    }</span>
    
    /**
     *  Creates a &lt;code&gt;menuBar&lt;/code&gt; where the user can view the license and
     *  the online help files.
     *
     *  @return      A &lt;code&gt;menuBar&lt;/code&gt; containing these components.
     */
    private JMenuBar addMenuBar(){
<span class="nc" id="L177">        JMenuBar menuBar = new JMenuBar();</span>
        
<span class="nc" id="L179">        JMenu fileMenuBar = new JMenu(&quot;File&quot;);</span>
<span class="nc" id="L180">        fileMenuBar.setMnemonic(KeyEvent.VK_F);</span>
        
<span class="nc" id="L182">        JMenuItem exitMenuItem = new JMenuItem(&quot;Exit&quot;);</span>
<span class="nc" id="L183">        exitMenuItem.setMnemonic(KeyEvent.VK_X);</span>
<span class="nc" id="L184">        exitMenuItem.setAccelerator(KeyStroke.getKeyStroke(</span>
                KeyEvent.VK_X, Event.ALT_MASK));
<span class="nc" id="L186">        exitMenuItem.addActionListener(new ActionListener(){</span>
            public void actionPerformed(ActionEvent e){
<span class="nc" id="L188">                System.exit(0);</span>
<span class="nc" id="L189">            }</span>
        });
<span class="nc" id="L191">        fileMenuBar.add(exitMenuItem);</span>
        
<span class="nc" id="L193">        menuBar.add(fileMenuBar);</span>
        
<span class="nc" id="L195">        JMenu helpMenuBar = new JMenu(&quot;Help&quot;);</span>
<span class="nc" id="L196">        helpMenuBar.setMnemonic(KeyEvent.VK_H);</span>
        
<span class="nc" id="L198">        JMenuItem helpTopicsMenuItem = new JMenuItem(&quot;Help Topics&quot;);</span>
<span class="nc" id="L199">        helpTopicsMenuItem.setMnemonic(KeyEvent.VK_T);</span>
<span class="nc" id="L200">        helpTopicsMenuItem.addActionListener(new ActionListener(){</span>
            public void actionPerformed(ActionEvent e){
<span class="nc" id="L202">                new URLOpener(HELPTOPICURL);</span>
<span class="nc" id="L203">            }</span>
        });
<span class="nc" id="L205">        helpMenuBar.add(helpTopicsMenuItem);</span>
        
<span class="nc" id="L207">        JMenuItem GPLReaderMenuItem = new JMenuItem(&quot;GNU GPL Reader&quot;);</span>
<span class="nc" id="L208">        GPLReaderMenuItem.addActionListener(new ActionListener(){</span>
            public void actionPerformed(ActionEvent e){
<span class="nc" id="L210">                new GPLReader();</span>
<span class="nc" id="L211">            }</span>
        });
<span class="nc" id="L213">        helpMenuBar.add(GPLReaderMenuItem);</span>
        
<span class="nc" id="L215">        menuBar.add(helpMenuBar);</span>
        
<span class="nc" id="L217">        return menuBar;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>