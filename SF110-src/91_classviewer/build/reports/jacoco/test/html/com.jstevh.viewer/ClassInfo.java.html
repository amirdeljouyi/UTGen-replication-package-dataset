<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ClassInfo.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">91_classviewer</a> &gt; <a href="index.source.html" class="el_package">com.jstevh.viewer</a> &gt; <span class="el_source">ClassInfo.java</span></div><h1>ClassInfo.java</h1><pre class="source lang-java linenums">/* 
 * Copyright (C) 2004  James Harris 
 *
 * This library is free software; you can redistribute it and/or
 *
 * modify it under the terms of the GNU Lesser General Public
 *
 * License as published by the Free Software Foundation; either
 *
 * version 2.1 of the License, or (at your option) any later version.
 *
 *
 *
 * This library is distributed in the hope that it will be useful,
 *
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 *
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
 *
 * Lesser General Public License for more details.
 *
 *
 * You should have received a copy of the GNU Lesser General Public
 *
 * License along with this library; if not, write to the Free Software
 *
 * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA
 *
 */

//5-5-04  Added recursive search to find all interfaces.   ___JSH
//7-30-04 Switched to TreeList to keep from getting interfaces twice in list.  ___JSH
//8-01-04 Handled exceptions with fields.   ___JSH

package com.jstevh.viewer;

import java.awt.*;
import java.lang.reflect.*;
import java.util.*;
import javax.swing.*;
import javax.swing.border.*;

import com.jstevh.tools.*;


/**
* Obtains the interfaces as well as the public constructors, methods
* and fields from a Class object. 
* &lt;p&gt;
* This class is for obtaining data and handling.
*
* @author   James Harris
* @version  2.0a
*/              
public class ClassInfo{

    public static boolean debug;
	 
    private boolean statusAbstract;
        
<span class="fc" id="L61">    private Class c=javax.swing.WindowConstants.class;</span>

    private DirManager dirMan;
    
    private static int count, length;
    
    public final static int NO_OBJECT_METHODS=1, NO_INHERITED_METHODS=2;
    
<span class="fc" id="L69">    private String[] cMethods,fndMethods=null;</span>
    
    protected String[] knownPackages;

<span class="nc" id="L73">    public boolean isAbstract(){return statusAbstract;}</span>
<span class="fc" id="L74">    public boolean isInterface(){return c.isInterface();}</span>
    
<span class="fc" id="L76">    public String getClassName(){return c.getName();}</span>
<span class="pc bpc" id="L77" title="1 of 2 branches missed.">    public String getClassPackage(){return c.getPackage()!=null? c.getPackage().getName():null;}    </span>
    public String getSuperClassName(){        
<span class="fc bfc" id="L79" title="All 4 branches covered.">        if (c!=java.lang.Object.class &amp;&amp; !c.isInterface()) return c.getSuperclass().getName();</span>
<span class="fc" id="L80">        else return null;</span>
    }
    
<span class="fc" id="L83">    private ClassInfo(){</span>
                
<span class="fc" id="L85">    }  </span>

    /**
    * Constructor for when the class name is known at creation.  
    *
    * @param  name the name of the class on which to get info
    */              
<span class="fc" id="L92">    public ClassInfo(String name) throws ClassNotFoundException{</span>
	    
<span class="fc" id="L94">	    c = getClass(name);</span>
	    
<span class="pc bpc" id="L96" title="1 of 2 branches missed.">	    if (c==null) throw new ClassNotFoundException();</span>
	    
<span class="fc" id="L98">	    Method[] m = c.getMethods();</span>
<span class="fc" id="L99">	    Object[] obj = null;</span>
	    
<span class="fc" id="L101">	    cMethods = getData(m);</span>
	    
<span class="pc bpc" id="L103" title="1 of 2 branches missed.">	    if (cMethods!=null){</span>
<span class="fc bfc" id="L104" title="All 2 branches covered.">		    if (c!=java.lang.Object.class){</span>
			    
<span class="fc" id="L106">			    StringList tempList = new StringList();</span>
			    
<span class="fc bfc" id="L108" title="All 2 branches covered.">			    for (count=0; count&lt;cMethods.length; count++){</span>
<span class="fc bfc" id="L109" title="All 2 branches covered.">				    if (cMethods[count].indexOf(&quot;Object.&quot;)==-1) tempList.add(cMethods[count]);</span>
			    }
			    
<span class="fc" id="L112">			    cMethods = tempList.toArray();</span>
			    
		    }
		    
<span class="fc bfc" id="L116" title="All 2 branches covered.">		    for (count=0; count&lt;cMethods.length; count++){ </span>
			    
<span class="fc bfc" id="L118" title="All 4 branches covered.">			    if (!statusAbstract &amp;&amp; cMethods[count].indexOf(&quot;abstract&quot;)!=-1) statusAbstract=true;</span>
		    }
	    }
	    
<span class="fc" id="L122">    }       </span>

    /**
    * Constructor for when the class name is known at creation.  
    *
    * @param    name  name of class
    *           locManager    class that manages package information
    */              
<span class="fc" id="L130">    public ClassInfo(String name, DirManager locManager) throws ClassNotFoundException{</span>
	    
<span class="fc" id="L132">	    dirMan = locManager;</span>
	    
<span class="fc" id="L134">	    knownPackages = dirMan.getPackageList();</span>
	    
<span class="fc" id="L136">	    c = getClass(name);</span>
	    
<span class="fc bfc" id="L138" title="All 2 branches covered.">	    if (c==null) throw new ClassNotFoundException();</span>
	    
<span class="fc" id="L140">	    Method[] m = c.getMethods();</span>
<span class="fc" id="L141">	    Object[] obj = null;</span>
	    
<span class="fc" id="L143">	    cMethods = getData(m);</span>
	    
<span class="pc bpc" id="L145" title="1 of 2 branches missed.">	    if (cMethods!=null){</span>
<span class="fc bfc" id="L146" title="All 2 branches covered.">		    if (c!=java.lang.Object.class){</span>
			    
<span class="fc" id="L148">			    StringList tempList = new StringList();</span>
			    
<span class="fc bfc" id="L150" title="All 2 branches covered.">			    for (count=0; count&lt;cMethods.length; count++){</span>
<span class="fc bfc" id="L151" title="All 2 branches covered.">				    if (cMethods[count].indexOf(&quot;Object.&quot;)==-1) tempList.add(cMethods[count]);</span>
			    }
			    
<span class="fc" id="L154">			    cMethods = tempList.toArray();</span>
			    
		    }
		    
<span class="fc bfc" id="L158" title="All 2 branches covered.">		    for (count=0; count&lt;cMethods.length; count++){ </span>
			    
<span class="pc bpc" id="L160" title="2 of 4 branches missed.">			    if (!statusAbstract &amp;&amp; cMethods[count].indexOf(&quot;abstract&quot;)!=-1) statusAbstract=true;</span>
		    }
	    }
	    
<span class="fc" id="L164">    }</span>

    /**
    * Returns an array of strings that contain the public fields for 
    * the class. The data is pulled from the c private Class object. 
    * &lt;p&gt;
    * This method always returns immediately.
    *
    * @return      string array of public fields
    */              
    public String[] printFields(){
        
        
<span class="fc" id="L177">        Field[] f=c.getFields();</span>
<span class="fc" id="L178">        length=f.length;</span>
        
<span class="fc" id="L180">        String[] StringData=null;</span>
        
<span class="fc bfc" id="L182" title="All 2 branches covered.">        if (length&gt;0){</span>
<span class="fc" id="L183">            StringData = new String[length];</span>
            String tempStr;
            
<span class="fc" id="L186">            Object obj=new Object();</span>
                
<span class="pc bpc" id="L188" title="1 of 2 branches missed.">            if (debug) System.out.println(&quot;****************************************&quot;);</span>
<span class="fc bfc" id="L189" title="All 2 branches covered.">            for (count=0; count&lt;length; count++){</span>
                try{
<span class="fc" id="L191">                    tempStr= f[count]+&quot;=&quot;+f[count].get(obj);</span>
<span class="fc" id="L192">                    StringData[count]=tempStr;</span>
<span class="pc bpc" id="L193" title="1 of 2 branches missed.">                    if (debug) System.out.println(tempStr);</span>
                }
<span class="nc" id="L195">                catch (IllegalAccessException e){</span>
<span class="nc" id="L196">			e.printStackTrace();</span>
			
<span class="nc" id="L198">			tempStr= f[count]+&quot;= ILLEGAL ACCESS EXCEPTION, unable to load&quot;;</span>
<span class="nc" id="L199">			StringData[count]=tempStr;</span>
		}
<span class="fc" id="L201">		catch (IllegalArgumentException j){</span>
<span class="fc" id="L202">			j.printStackTrace();</span>
<span class="fc" id="L203">			tempStr= f[count]+&quot;= ILLEGAL ARGUMENT EXCEPTION, unable to load&quot;;</span>
<span class="fc" id="L204">			StringData[count]=tempStr;</span>
<span class="pc" id="L205">		}</span>
            }
<span class="fc" id="L207">        }</span>
<span class="pc bpc" id="L208" title="1 of 2 branches missed.">        else if (debug) System.out.println(&quot;No public fields.&quot;);</span>
        
        
<span class="fc" id="L211">        return StringData;</span>
        
        
    }
    
    /**
    * Returns an array of strings that contain the public methods for 
    * the class. The data is pulled from the c private Class object. 
    * &lt;p&gt;
    * This method always returns immediately.
    *
    * @return      string array of public methods
    */                  
    public String[] printMethods(){
        
<span class="fc bfc" id="L226" title="All 2 branches covered.">        if (debug) System.out.println(&quot;****************************************&quot;);</span>

<span class="fc" id="L228">        String[] tempArray = null;</span>

<span class="fc bfc" id="L230" title="All 2 branches covered.">       if (cMethods!=null){</span>
<span class="fc" id="L231">            tempArray = new String[cMethods.length];       </span>
        
<span class="fc" id="L233">            System.arraycopy(cMethods, 0, tempArray, 0, cMethods.length);</span>
        
        }
        
                
<span class="fc bfc" id="L238" title="All 4 branches covered.">        if (debug &amp;&amp; tempArray==null) System.out.println(&quot;No public methods.&quot;);        </span>
        else{
<span class="fc" id="L240">            printArray(tempArray);</span>
            
        }
        
<span class="fc" id="L244">        return tempArray;</span>
    }
    
    /**
    * Returns an array of strings that contain the public methods for 
    * the class excluding inherited methods. The data is pulled from
    * the c private Class object. 
    * &lt;p&gt;
    * This method always returns immediately.
    *
    * @param  param (not currently implemented) selects whether inherited
    *               objects are returned
    * @return      string array of public methods
    */              
    public String[] printMethods(int param){
        
<span class="pc bpc" id="L260" title="1 of 2 branches missed.">        if (cMethods==null) return null;</span>
        
<span class="pc bpc" id="L262" title="1 of 2 branches missed.">        if (debug) System.out.println(&quot;****************************************&quot;);</span>
        
<span class="fc" id="L264">        String[] data = cMethods;</span>
        
<span class="fc" id="L266">        StringList tempList = new StringList();</span>
        
<span class="fc bfc" id="L268" title="All 2 branches covered.">        for (int i=0; i&lt;cMethods.length; i++){</span>
<span class="pc bpc" id="L269" title="1 of 2 branches missed.">            if (cMethods[i].indexOf(getClassName()+'.')!=-1) tempList.add(cMethods[i]);</span>
        }
        
<span class="pc bpc" id="L272" title="1 of 2 branches missed.">        if (!tempList.isEmpty()) data = tempList.toArray();</span>
<span class="nc" id="L273">        else data=null;</span>
                
<span class="pc bpc" id="L275" title="2 of 4 branches missed.">        if (debug &amp;&amp; data==null) System.out.println(&quot;No public methods.&quot;);        </span>
        else{
<span class="fc" id="L277">            printArray(data);</span>
            
        }
        
<span class="fc" id="L281">        return data;</span>
    }

    /**
    * Returns an array of strings that contain the public constructors for 
    * the class. The data is pulled from the c private Class object. 
    * &lt;p&gt;
    * This method calls  {@link #getData(java.lang.Class[])} method for constructors.
    *
    * @return      string array of public constructors
    */              
    public String[] printConstructors(){
        
<span class="fc" id="L294">        Constructor[] constr = c.getConstructors();        </span>
        
<span class="pc bpc" id="L296" title="1 of 2 branches missed.">        if (debug) System.out.println(&quot;****************************************&quot;);</span>
        
<span class="fc" id="L298">        String[] data = getData(constr);</span>
        
<span class="pc bpc" id="L300" title="1 of 4 branches missed.">        if (debug &amp;&amp; data==null) System.out.println(&quot;No public constructors.&quot;);</span>
<span class="fc" id="L301">        else printArray(data);</span>
        
<span class="fc" id="L303">        return data;        </span>
    }


    /**
    * Returns an array of strings that contain the interfaces for 
    * the class. The data is pulled from the c private Class object. 
    * &lt;p&gt;
    * This method calls  {@link #getData(java.lang.Class[])} method for constructors.
    *
    * @return      string array of interfaces
    */              
    public String[] printInterfaces(){
        
<span class="fc" id="L317">        Class[] inter=c.getInterfaces();</span>
        
<span class="fc bfc" id="L319" title="All 2 branches covered.">        if (debug) System.out.println(&quot;****************************************&quot;);</span>
        
<span class="fc" id="L321">        String[] data = getData(inter);</span>

	
<span class="fc bfc" id="L324" title="All 4 branches covered.">	if (c!=java.lang.Object.class &amp;&amp; !c.isInterface()){</span>

<span class="fc" id="L326">		Class superC=c.getSuperclass();</span>

<span class="fc" id="L328">		TreeSet &lt;String&gt; hInterfaces = new TreeSet&lt;String&gt;();</span>

<span class="fc" id="L330">		int i=0;</span>

<span class="fc bfc" id="L332" title="All 4 branches covered.">		if (data!=null) for (i=0; i&lt;data.length; i++){		</span>

<span class="fc" id="L334">			hInterfaces.add(data[i]);</span>

		}

<span class="pc bpc" id="L338" title="1 of 4 branches missed.">		while(superC!=null &amp;&amp; superC!=java.lang.Object.class){</span>


<span class="fc" id="L341">        		inter=superC.getInterfaces();</span>
        
<span class="pc bpc" id="L343" title="1 of 2 branches missed.">        		if (debug) System.out.println(&quot;****************************************&quot;);</span>
        
<span class="fc" id="L345">        		data = getData(inter);</span>

<span class="fc bfc" id="L347" title="All 4 branches covered.">			if (data!=null) for (i=0; i&lt;data.length; i++){</span>

<span class="fc" id="L349">					hInterfaces.add(data[i]);</span>
			}

<span class="fc" id="L352">			superC=superC.getSuperclass();			</span>

		}

<span class="fc bfc" id="L356" title="All 2 branches covered.">		if (hInterfaces.size()!=0){</span>

<span class="fc" id="L358">			data = new String[hInterfaces.size()];</span>
			
<span class="fc" id="L360">			Iterator it = hInterfaces.iterator();</span>
			
<span class="fc" id="L362">			i=0;</span>

<span class="fc bfc" id="L364" title="All 2 branches covered.">			while (it.hasNext()){</span>
<span class="fc" id="L365">				data[i]= (String)it.next();</span>
<span class="fc" id="L366">				i++;</span>
			}


		}
		

	}
        
<span class="fc bfc" id="L375" title="All 4 branches covered.">        if (debug &amp;&amp; data==null) System.out.println(&quot;No interfaces.&quot;);</span>
<span class="fc" id="L376">        else printArray(data);</span>
        
<span class="fc" id="L378">        return data;        </span>
    }

    /**
    * Takes an array of Member objects and gets names from toString(). 
    * &lt;p&gt;
    * This method always returns immediately.
    *
    * @param  m  array of Member objects
    * 
    * @return    string array of names
    */              
    public static String[] getData(Member[] m){
        
<span class="fc" id="L392">        length=m.length;</span>
        
<span class="fc bfc" id="L394" title="All 2 branches covered.">        if (length==0) return null;</span>
        
<span class="fc" id="L396">        String[] StringData = new String[length];</span>
        String tempStr;
        
<span class="fc bfc" id="L399" title="All 2 branches covered.">        for (count=0; count&lt;m.length; count++){</span>
                        
<span class="fc" id="L401">            tempStr = m[count].toString();</span>
<span class="fc" id="L402">            StringData[count]=tempStr;</span>
        }
        
<span class="fc" id="L405">        return StringData;</span>
    }

    /**
    * Takes an array of Class objects and gets names from toString(). 
    * &lt;p&gt;
    * This method always returns immediately.
    *
    * @param  m  array of Class objects
    * 
    * @return    string array of names
    */          
    public static String[] getData(Class[] m){
        
<span class="fc" id="L419">        length=m.length;</span>
        
<span class="fc bfc" id="L421" title="All 2 branches covered.">        if (length==0) return null;</span>
        
<span class="fc" id="L423">        String[] StringData = new String[length];</span>
        String tempStr;
        
<span class="fc bfc" id="L426" title="All 2 branches covered.">        for (count=0; count&lt;m.length; count++){</span>
                        
<span class="fc" id="L428">            tempStr = m[count].getName();</span>
<span class="fc" id="L429">            StringData[count]=tempStr;</span>
        }
        
<span class="fc" id="L432">        return StringData;</span>
    }

    /**
    * Searches through cMethods, the private array of public methods
    * for a given string fragment, and selects methods that have that
    * fragment in them. 
    * &lt;p&gt;
    * This method calls searchStrings().
    *
    * @param    tempStr  string fragment with which to search
    * 
    * @return   string array of found methods    
    */              
    public String[] srchMethods(String tempStr){
        
<span class="fc bfc" id="L448" title="All 2 branches covered.">        if (tempStr==null) return null;</span>
        
<span class="fc" id="L450">        fndMethods = StringTools.searchStrings(cMethods, tempStr);</span>
        
<span class="fc bfc" id="L452" title="All 2 branches covered.">        if (fndMethods!=null){</span>
<span class="fc" id="L453">            String[] tempArray = new String[fndMethods.length];       </span>
        
<span class="fc" id="L455">            System.arraycopy(fndMethods, 0, tempArray, 0, fndMethods.length);</span>
        
<span class="fc" id="L457">            return tempArray;</span>
        }
        
<span class="fc" id="L460">        return null;</span>
    }

    /**
    * Searches through cMethods, the private array of public methods
    * for a given string fragment, with a given string index, and searches
    * on the index for the fragment in them but gets method from cMethods. 
    * &lt;p&gt;
    * This method calls searchStrings().
    *
    * @param    tempStr  string fragment with which to search
    *           index    string array that is searched through
    * 
    * @return   string array of found methods    
    */              
    public String[] srchMethods(String tempStr, String[] index){
        
<span class="fc bfc" id="L477" title="All 2 branches covered.">        if (tempStr==null) return null;</span>
        
<span class="fc" id="L479">        fndMethods = StringTools.searchStrings(cMethods, index, tempStr);</span>
        
<span class="pc bpc" id="L481" title="1 of 2 branches missed.">        if (fndMethods!=null){</span>
<span class="fc" id="L482">            String[] tempArray = new String[fndMethods.length];       </span>
        
<span class="fc" id="L484">            System.arraycopy(fndMethods, 0, tempArray, 0, fndMethods.length);</span>
        
<span class="fc" id="L486">            return tempArray;</span>
        }
        
<span class="nc" id="L489">        return null;</span>
    }

    /**
    * Searches through found methods and returns method at given 
    * position, uses anonymous inner class.  If no methods 
    * have been searched for it returns null.
    *
    * @param    pos  position of found methods in array 0 is first.
    * 
    * @return   MethodData object with information about method            
    */              
    public MethodData getFoundMethod(final int pos){
        
<span class="fc bfc" id="L503" title="All 4 branches covered.">        if (fndMethods==null || pos&gt;fndMethods.length) return null;</span>
                
<span class="fc" id="L505">        return new MethodData(){</span>
            //check to make sure position isn't out of range
            
<span class="fc" id="L508">            String tempStr = fndMethods[pos],</span>
                   tempStr2;
                   
            String className, methodName;
            
            int begin, end;
            
            Class methClass;            
            
            {
                  
<span class="fc" id="L519">                end = tempStr.indexOf(&quot;)&quot;);            </span>
<span class="fc" id="L520">                tempStr = tempStr.substring(0,end+1);</span>
                
<span class="fc" id="L522">                begin = tempStr.lastIndexOf(&quot; &quot;);            </span>
<span class="fc" id="L523">                tempStr = tempStr.substring(begin+1, tempStr.length());</span>
                
<span class="fc" id="L525">                begin = tempStr.indexOf(&quot;(&quot;);</span>
                            
<span class="fc" id="L527">                end = tempStr.lastIndexOf(&quot;.&quot;, begin);</span>
                
<span class="fc" id="L529">                className = tempStr.substring(0, end);</span>
<span class="fc" id="L530">                methodName = tempStr.substring(end+1, tempStr.length());</span>
                
<span class="pc bpc" id="L532" title="1 of 2 branches missed.">                if (debug) System.out.println(&quot;className=&quot;+className);</span>
                            
<span class="fc" id="L534">                methClass = ClassInfo.tryClass(className);</span>
                
<span class="pc bpc" id="L536" title="1 of 2 branches missed.">                if (debug) System.out.println(&quot;methClass=&quot;+methClass);</span>
            
<span class="fc" id="L538">            }</span>
                        
            
            public String getMethPackage(){
                
<span class="nc bnc" id="L543" title="All 2 branches missed.">               if (methClass==null) return null;</span>
               
<span class="nc bnc" id="L545" title="All 2 branches missed.">               return methClass.getPackage()!=null? methClass.getPackage().getName():null;</span>
                
            }
            
            public String getMethClass(){
                
<span class="nc bnc" id="L551" title="All 2 branches missed.">               if (methClass==null) return null;</span>
               
<span class="nc" id="L553">                return methClass.getName();</span>
                
            }
            
            public String getMethName(){
                
<span class="nc" id="L559">                return methodName;</span>
            }
            
        };
        
    }


    /**
    * Takes any given array and prints out with System.out.println  
    *
    * @param    array   an array of objects
    *                 
    */              
    private void printArray(Object[] array){

<span class="fc bfc" id="L575" title="All 2 branches covered.">	if (!debug) return;</span>
        
<span class="fc" id="L577">        length = array.length;</span>
        
<span class="pc bpc" id="L579" title="1 of 2 branches missed.">        if (length==0) return;</span>
        
<span class="fc bfc" id="L581" title="All 2 branches covered.">        for (count=0; count&lt;length; count++){</span>
<span class="fc" id="L582">            System.out.println(array[count]);</span>
        }
<span class="fc" id="L584">    }</span>

    /**
    * Takes a given class name and tries to to find the class. 
    * If the initial try does not work it tries all known packages
    * to see if any of them will work with the class name. 
    *
    * @param    name    name of class
    * 
    * @return   found Class                
    */              
    private Class getClass(String name){            
        
<span class="fc" id="L597">        String tempStr = name;</span>
<span class="fc" id="L598">        Class tempClass=null;</span>
        
<span class="fc" id="L600">        tempClass = tryClass(name);</span>
        
<span class="fc bfc" id="L602" title="All 2 branches covered.">        if (tempClass == null){            </span>
<span class="fc bfc" id="L603" title="All 2 branches covered.">            for (int i=0; i&lt;knownPackages.length; i++){</span>
<span class="fc" id="L604">                tempStr = knownPackages[i]+name;</span>
<span class="fc" id="L605">                tempClass=tryClass(tempStr);</span>
<span class="pc bpc" id="L606" title="1 of 2 branches missed.">                if (tempClass!=null) break;</span>
            }
        }     
        
<span class="fc" id="L610">        return tempClass;</span>
    }    
    
    /**
    * Takes a given class name and tries to to find the class. 
    * If the initial try does not work it returns null. 
    *
    * @param    name    name of class
    * 
    * @return   found Class       
    */              
    private static Class tryClass(String name){
        
<span class="fc" id="L623">            Class tempClass=null;</span>
            
            try{
<span class="fc bfc" id="L626" title="All 2 branches covered.">                if (name!=null) tempClass = Class.forName(name.trim());                                </span>
            }
<span class="fc" id="L628">            catch (java.lang.ClassNotFoundException e){</span>

<span class="fc" id="L630">                return null;</span>
            }
<span class="nc" id="L632">	    catch (java.lang.NoClassDefFoundError f){</span>
		//f.printStackTrace();
<span class="nc" id="L634">		return null;</span>
<span class="fc" id="L635">	    }</span>
	    
            
<span class="fc" id="L638">            return tempClass;</span>
    } 
        
    /**
    * Prints out class info with System.out.println  
    *
    *                             
    */              
    private void printClassInfo(){
                                        
          
<span class="fc" id="L649">        printMethods();                </span>
            
<span class="fc bfc" id="L651" title="All 2 branches covered.">        if (!c.isInterface()){</span>
            
<span class="fc" id="L653">            printConstructors();</span>
                      
<span class="pc bpc" id="L655" title="1 of 2 branches missed.">            if (debug) System.out.println(&quot;****************************************&quot;);</span>
            
<span class="fc" id="L657">            printInterfaces();</span>
                
<span class="pc bpc" id="L659" title="1 of 2 branches missed.">            if (debug) System.out.println(&quot;****************************************&quot;);</span>
<span class="pc bpc" id="L660" title="1 of 2 branches missed.">            if (statusAbstract){</span>
<span class="nc" id="L661">                System.out.println(&quot;Abstract &quot;+c);</span>
            }
<span class="fc" id="L663">            else System.out.println(c.getName());</span>
<span class="fc bfc" id="L664" title="All 2 branches covered.">            if (c!=java.lang.Object.class) System.out.println(&quot;Superclass is &quot;+c.getSuperclass().getName()+&quot;.&quot;);                        </span>
        }
        else {   
<span class="fc" id="L667">            printFields();</span>
<span class="pc bpc" id="L668" title="1 of 2 branches missed.">            if (debug) System.out.println(&quot;****************************************&quot;);            </span>
<span class="fc" id="L669">            System.out.println(c.getName()+&quot; is an interface.&quot;);</span>
        }
<span class="fc" id="L671">    }   </span>
    
    /**
    * Main method for getting class information. 
    * Prints out data with System.out.println. 
    *
    * @param    args    string array for main
    *                        
    */              
    public static void main(String[] args)throws Exception{
<span class="fc" id="L681">        long t1 = System.currentTimeMillis();</span>
                
<span class="fc" id="L683">        debug=true;</span>

<span class="fc" id="L685">        String name=null;</span>
        ClassInfo myClassInfo;        
         
<span class="fc bfc" id="L688" title="All 2 branches covered.">        if (args.length&gt;0){            </span>
            
<span class="fc bfc" id="L690" title="All 2 branches covered.">            if (args[0].equals(&quot;new&quot;)){</span>
<span class="fc" id="L691">                name = args[1];</span>
            }
            else{
<span class="fc" id="L694">                name = args[0];</span>
                
                try{
<span class="fc" id="L697">                    myClassInfo = new ClassInfo(name);</span>
<span class="fc" id="L698">                    myClassInfo.printClassInfo();</span>
                }
<span class="nc" id="L700">                catch(ClassNotFoundException e){                    </span>
<span class="nc" id="L701">                    System.out.println(&quot;Class not found.&quot;);</span>
<span class="nc" id="L702">                    System.exit(0);</span>
<span class="pc" id="L703">                }                </span>
            }
            
        }
        else {
            
<span class="fc" id="L709">            myClassInfo = new ClassInfo();</span>
<span class="fc" id="L710">            myClassInfo.printClassInfo();</span>
            
        }
        
        
               
                          
<span class="fc" id="L717">        System.out.println(&quot;Total time: &quot;+(System.currentTimeMillis()-t1));                        </span>
<span class="fc" id="L718">    }</span>
        
}



     
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>