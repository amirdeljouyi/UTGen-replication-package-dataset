<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>TableStockage.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">8_gfarcegestionfa</a> &gt; <a href="index.source.html" class="el_package">fr.unice.gfarce.interGraph</a> &gt; <span class="el_source">TableStockage.java</span></div><h1>TableStockage.java</h1><pre class="source lang-java linenums">package fr.unice.gfarce.interGraph;

import javax.swing.table.AbstractTableModel;

/**
 * Classe TableStockage &lt;br&gt;
 * Table qui stocke toutes les valeurs de type String; la premi&amp;egrave;re
 * ligne sert de description des colonnes &lt;br&gt;
 * @author KOWALSKI Mathias
 */
public class TableStockage extends AbstractTableModel {

	private static final long serialVersionUID = 1L;
	private String [] nomColonnes;
	private Object[][] matrice;


	/**
	 * Constructeur par d&amp;eacute;faut
	 */
<span class="fc" id="L21">	public TableStockage() {</span>
<span class="fc" id="L22">		nomColonnes = new String[0];</span>
<span class="fc" id="L23">		matrice = new Object[0][0];</span>
<span class="fc" id="L24">	}</span>

	/**
	 * Nouvelle table avec nb lignes et colonnes pour initialiser
	 * Attention, nbLignes en local est n-1 plus petit que le nombre
	 * de lignes du tableau car la premi&amp;egrave;re ligne sert de description
	 * des colonnes
	 * @param nbLignes
	 * @param nbColonnes
	 */
<span class="fc" id="L34">	public TableStockage(int nbLignes, int nbColonnes) {</span>
<span class="fc" id="L35">		nomColonnes = new String[nbColonnes];</span>
<span class="fc" id="L36">		matrice = new Object[nbLignes-1][nbColonnes];</span>
<span class="fc" id="L37">	}</span>

	/**
	 * Cr&amp;eacute;e une TableStockage &amp;agrave; partir de noms de colonnes et matrice de donn&amp;eacute;es pr&amp;eacute;d&amp;eacute;finies
	 * @param nomColonnes
	 * @param matrice
	 */
<span class="nc" id="L44">	public TableStockage(String[] nomColonnes, Object[][] matrice) {</span>
<span class="nc" id="L45">		this.nomColonnes = nomColonnes;</span>
<span class="nc" id="L46">		this.matrice = new Object[matrice.length][nomColonnes.length];</span>
<span class="nc bnc" id="L47" title="All 2 branches missed.">		for (int i=0;i&lt;matrice.length;i++) {</span>
<span class="nc bnc" id="L48" title="All 2 branches missed.">			for (int j=0;j&lt;nomColonnes.length;j++) {</span>
<span class="nc" id="L49">				this.setValueAt(matrice[i][j], i, j);</span>
			}
		}
<span class="nc" id="L52">	}</span>


	/**
	 * @see javax.swing.table.TableModel#getColumnCount()
	 */
	public int getColumnCount() {
<span class="fc" id="L59">		return nomColonnes.length;</span>
	}

	/**
	 * @see javax.swing.table.TableModel#getRowCount()
	 */
	public int getRowCount() {
<span class="fc" id="L66">		return matrice.length;</span>
	}

	/**
	 * @see javax.swing.table.TableModel#getColumnName(int)
	 */
	public String getColumnName(int columnIndex) {
<span class="fc" id="L73">		return nomColonnes[columnIndex];</span>
	}

	/**
	 * Recupere la classe des objets de la colonne (String par defaut si pas de ligne)
	 * @param c
	 * @return Class
	 */
	public Class&lt;?&gt; getColumnClass(int c) {
		try {
<span class="fc" id="L83">			return getValueAt(0, c).getClass();</span>
<span class="fc" id="L84">		} catch(NullPointerException ex) {</span>
<span class="fc" id="L85">			return Object.class;</span>
		}
	}

	/**
	 * Change le nom d'une colonne par rapport &amp;agrave; son index
	 * @param columnIndex
	 * @param contenu
	 */
	public void setColumnName(int columnIndex, String contenu) {
<span class="fc" id="L95">		nomColonnes[columnIndex] = contenu;</span>
<span class="fc" id="L96">	}</span>

	public String[] getNomColonnes() {
<span class="nc" id="L99">		return nomColonnes;</span>
	}

	/**
	 * @see javax.swing.table.TableModel#getValueAt(int, int)
	 */
	public Object getValueAt(int rowIndex, int columnIndex) {
<span class="fc" id="L106">		return matrice[rowIndex][columnIndex];</span>
	}

	/**
	 * @see javax.swing.table.TableModel#isCellEditable(int, int)
	 */
	public boolean isCellEditable(int rowIndex, int columnIndex) {
<span class="nc" id="L113">		return true;</span>
	}

	public void setColumnClass(int posColonne, Class&lt;?&gt; type){
<span class="pc bpc" id="L117" title="1 of 2 branches missed.">		if(type.equals(String.class)){</span>
<span class="nc bnc" id="L118" title="All 2 branches missed.">			for(int i=0; i&lt;getRowCount(); i++){</span>
<span class="nc" id="L119">				setValueAt(&quot;&quot;, i, posColonne);</span>
			}
<span class="pc bpc" id="L121" title="1 of 2 branches missed.">		}else if(type.equals(Boolean.class)){</span>
<span class="nc bnc" id="L122" title="All 2 branches missed.">			for(int i=0; i&lt;getRowCount(); i++){</span>
<span class="nc" id="L123">				setValueAt(new Boolean(false), i, posColonne);</span>
			}
		}else{
<span class="fc bfc" id="L126" title="All 2 branches covered.">			for(int i=0; i&lt;getRowCount(); i++){</span>
<span class="fc" id="L127">				setValueAt(new Double(0), i, posColonne);</span>
			}
		}
<span class="fc" id="L130">	}</span>


	/**
	 * @see javax.swing.table.TableModel#setValueAt(java.lang.Object, int, int)
	 */
    @Override
	public void setValueAt(Object value, int rowIndex, int columnIndex) {
<span class="fc" id="L138">		matrice[rowIndex][columnIndex] = value;</span>
<span class="fc" id="L139">	}</span>

	/**
	 * Rempli la matrice contenant les donn&amp;eacute;es par rapport aux index
	 * La premi&amp;egrave;re ligne sert de description aux colonnes
	 * @param value
	 * @param rowIndex
	 * @param columnIndex
	 */
	public void remplirMatrice(Object value, int rowIndex, int columnIndex) {
<span class="nc bnc" id="L149" title="All 2 branches missed.">		if(rowIndex == 0) {</span>
<span class="nc" id="L150">			nomColonnes[columnIndex] = (String)value;</span>
		}else{
<span class="nc" id="L152">			matrice[rowIndex-1][columnIndex] = value;</span>
		}
<span class="nc" id="L154">	}</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>