<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>FtpApplet.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">65_gsftp</a> &gt; <a href="index.source.html" class="el_package">com.gotoservers.ftp</a> &gt; <span class="el_source">FtpApplet.java</span></div><h1>FtpApplet.java</h1><pre class="source lang-java linenums">package com.gotoservers.ftp;
import java.applet.Applet;
import java.awt.BorderLayout;
import java.awt.Button;
import java.awt.Container;
import java.awt.Frame;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.net.MalformedURLException;
import java.net.URL;


import mindbright.ssh.SSHPropertyHandler;
import mindbright.ssh.SSHSCPPanel;

<span class="nc" id="L16">public class FtpApplet extends Applet{</span>
    public static final String VERSION = &quot;1.1&quot;;
<span class="nc" id="L18">    Button loginButton = new Button(&quot;Login&quot;); </span>
	String server; 
	int port;
	String username;
	String password;
<span class="nc" id="L23">	SSHPropertyHandler props = new SSHPropertyHandler();</span>
	LoginParam lp;
	SSHSCPPanel ftp;
<span class="nc" id="L26">	boolean showDialog = true;</span>
	public String getAppletInfo() {
<span class="nc" id="L28">		return &quot;GoTo Servers FTP Applet v&quot;+VERSION+&quot;\r\nCopyright by GoToServers.com&quot;;</span>
	}

	public void init() {
<span class="nc" id="L32">		String s = getParameter(&quot;showDialog&quot;);</span>
<span class="nc bnc" id="L33" title="All 4 branches missed.">		if( &quot;false&quot;.equalsIgnoreCase(s) || &quot;no&quot;.equalsIgnoreCase(s) ){</span>
<span class="nc" id="L34">			showDialog = false;</span>
		}
<span class="nc" id="L36">		server = getParameter(&quot;server&quot;);</span>
<span class="nc bnc" id="L37" title="All 4 branches missed.">		if( server!=null &amp;&amp; server.length()&gt;0){</span>
<span class="nc" id="L38">			props.setRemoteServer(server);</span>
		}
<span class="nc" id="L40">		String portS = this.getParameter(&quot;port&quot;);</span>
		try{
<span class="nc" id="L42">			port=Integer.parseInt(portS);</span>
<span class="nc bnc" id="L43" title="All 2 branches missed.">			if( port&gt;0 ){</span>
<span class="nc" id="L44">				props.setRemotePort(port);</span>
			}
<span class="nc" id="L46">		}catch(Exception e){</span>
			
<span class="nc" id="L48">		}</span>
<span class="nc" id="L49">		username = getParameter(&quot;username&quot;);</span>
<span class="nc bnc" id="L50" title="All 4 branches missed.">		if( username!=null &amp;&amp; username.length()&gt;0){</span>
<span class="nc" id="L51">			props.setRemoteUser(username);</span>
		}
		
<span class="nc" id="L54">		password = getParameter(&quot;password&quot;);</span>
<span class="nc bnc" id="L55" title="All 4 branches missed.">		if( password!=null &amp;&amp; password.length()&gt;0){</span>
<span class="nc" id="L56">			props.setRemotePassword(password);</span>
		}


<span class="nc" id="L60">	}</span>
	protected void login(){
<span class="nc bnc" id="L62" title="All 2 branches missed.">		if( ftp!=null ){</span>
<span class="nc" id="L63">			ftp.close();</span>
<span class="nc" id="L64">			this.remove(ftp);</span>
		}
<span class="nc" id="L66">		ftp = new SSHSCPPanel(props);// //, itor );</span>
<span class="nc" id="L67">		add(ftp,BorderLayout.CENTER);</span>
<span class="nc" id="L68">		ftp.show(props);</span>
<span class="nc" id="L69">		this.validate();</span>
<span class="nc" id="L70">	}</span>
	public void start(){
<span class="nc" id="L72">		Container parent = this.getParent();</span>
<span class="nc bnc" id="L73" title="All 2 branches missed.">		while(parent!=null ){</span>
<span class="nc bnc" id="L74" title="All 2 branches missed.">			if( parent instanceof Frame){</span>
<span class="nc" id="L75">				props.setParent((Frame)parent);</span>
<span class="nc" id="L76">				break;</span>
			}
<span class="nc" id="L78">			parent = parent.getParent();</span>
		}
		
<span class="nc" id="L81">		setLayout(new BorderLayout());</span>
        try{
<span class="nc" id="L83">            Thread.sleep(1000);</span>
<span class="nc" id="L84">        }catch (Exception e) {}</span>
<span class="nc bnc" id="L85" title="All 2 branches missed.">        if( showDialog ){</span>
<span class="nc" id="L86">        	lp = new LoginParam(this,props);</span>
<span class="nc" id="L87">			add(lp,BorderLayout.NORTH);</span>
		}else{
<span class="nc" id="L89">			login();</span>
		}
<span class="nc" id="L91">	}	</span>

	public void destroy(){
<span class="nc" id="L94">		ftp.close();</span>
<span class="nc" id="L95">	}</span>

	//public void actionPerformed(ActionEvent e) {
	//	if( lp.showDialog() ){
	//		this.login();
	//	}
	//}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>