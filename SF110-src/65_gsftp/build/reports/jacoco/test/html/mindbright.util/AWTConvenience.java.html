<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>AWTConvenience.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">65_gsftp</a> &gt; <a href="index.source.html" class="el_package">mindbright.util</a> &gt; <span class="el_source">AWTConvenience.java</span></div><h1>AWTConvenience.java</h1><pre class="source lang-java linenums">/******************************************************************************
 *
 * Copyright (c) 1998,99 by Mindbright Technology AB, Stockholm, Sweden.
 *                 www.mindbright.se, info@mindbright.se
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 *****************************************************************************
 * $Author: webjabber $
 * $Date: 2006/06/13 18:43:57 $
 * $Name:  $
 *****************************************************************************/
package mindbright.util;

import java.awt.*;
import java.awt.event.*;

<span class="nc" id="L26">public abstract class AWTConvenience {</span>

    public static class CloseAction implements ActionListener {
	Dialog dialog;
<span class="nc" id="L30">	public CloseAction(Dialog dialog) {</span>
<span class="nc" id="L31">	    this.dialog = dialog;</span>
<span class="nc" id="L32">	}</span>
	public void actionPerformed(ActionEvent e) {
<span class="nc" id="L34">	    dialog.setVisible(false);</span>
<span class="nc" id="L35">	}</span>
    }

    public static class CloseAdapter extends WindowAdapter {
	Button b;
<span class="nc" id="L40">	public CloseAdapter(Button b) {</span>
<span class="nc" id="L41">	    this.b = b;</span>
<span class="nc" id="L42">	}</span>
	public void windowClosing(WindowEvent e) {
<span class="nc" id="L44">	    b.dispatchEvent(new ActionEvent(b, ActionEvent.ACTION_PERFORMED,</span>
<span class="nc" id="L45">					    b.getActionCommand()));</span>
<span class="nc" id="L46">	}</span>
    }

    public static class OKCancelAdapter extends KeyAdapter {
    
<span class="nc" id="L51">	protected static boolean isMRJ = false;</span>
  
	static {
	    try { // see &lt;http://developer.apple.com/qa/java/java17.html&gt;
<span class="nc bnc" id="L55" title="All 2 branches missed.">		isMRJ = (System.getProperty(&quot;mrj.version&quot;) != null);</span>
<span class="nc" id="L56">	    } catch (Exception e) {</span>
		// applets may not be able to do this
<span class="nc" id="L58">	    }</span>
<span class="nc" id="L59">	}</span>
 
	Button butOK;
	Button butCancel;
  
<span class="nc" id="L64">	public OKCancelAdapter(Button ok, Button cancel) {</span>
<span class="nc" id="L65">	    this.butOK = ok;</span>
<span class="nc" id="L66">	    this.butCancel = cancel;</span>
<span class="nc" id="L67">	}</span>
  
	protected void pushButton(Button target) {
<span class="nc bnc" id="L70" title="All 2 branches missed.">	    if (isMRJ) { // see &lt;http://developer.apple.com/qa/java/java01.html&gt;</span>
<span class="nc" id="L71">		target.dispatchEvent(new KeyEvent(target, KeyEvent.KEY_PRESSED, </span>
<span class="nc" id="L72">						  System.currentTimeMillis(), 0, KeyEvent.VK_ENTER, </span>
						  (char)KeyEvent.VK_ENTER));
	    } else { // still can work, just no visual feedback
<span class="nc" id="L75">		target.dispatchEvent(new ActionEvent(target, ActionEvent.ACTION_PERFORMED,</span>
<span class="nc" id="L76">						     target.getActionCommand()));</span>
	    }
<span class="nc" id="L78">	}</span>
  
	public void keyReleased(KeyEvent e) {
<span class="nc bnc" id="L81" title="All 3 branches missed.">	    switch(e.getKeyCode()) {</span>
<span class="nc bnc" id="L82" title="All 2 branches missed.">	    case KeyEvent.VK_ENTER : if (butOK != null) pushButton(butOK); break;</span>
<span class="nc bnc" id="L83" title="All 2 branches missed.">	    case KeyEvent.VK_ESCAPE : if (butCancel != null) pushButton(butCancel); break;</span>
	    }
<span class="nc" id="L85">	}</span>
    }

    public final static void placeDialog(Dialog diag) {
<span class="nc" id="L89">	Dimension sDim = Toolkit.getDefaultToolkit().getScreenSize();</span>
<span class="nc" id="L90">	Dimension mDim = diag.getSize();</span>
	int x, y;
<span class="nc" id="L92">	x = ((sDim.width / 2) - (mDim.width / 2));</span>
<span class="nc" id="L93">	y = ((sDim.height / 2) - (mDim.height / 2));</span>
<span class="nc" id="L94">	diag.setLocation(x, y);</span>
<span class="nc" id="L95">    }</span>

    public final static void setBackgroundOfChildren(Container container) {
<span class="nc" id="L98">	Component[] children = container.getComponents();</span>
<span class="nc" id="L99">	container.setBackground(SystemColor.menu);</span>
<span class="nc bnc" id="L100" title="All 2 branches missed.">	for(int i = 0; i &lt; children.length; i++) {</span>
<span class="nc bnc" id="L101" title="All 2 branches missed.">	    if(children[i] instanceof Choice)</span>
<span class="nc" id="L102">		continue;</span>
<span class="nc" id="L103">	    children[i].setBackground(SystemColor.menu);</span>

<span class="nc bnc" id="L105" title="All 2 branches missed.">	    if(children[i] instanceof Container) {</span>
<span class="nc" id="L106">		setBackgroundOfChildren((Container)children[i]);</span>
<span class="nc bnc" id="L107" title="All 2 branches missed.">	    } else if(children[i] instanceof Choice) {</span>
<span class="nc" id="L108">		continue;</span>
<span class="nc bnc" id="L109" title="All 4 branches missed.">	    } else if(children[i] instanceof TextField || children[i] instanceof List) {</span>
<span class="nc" id="L110">		children[i].setBackground(SystemColor.text);</span>
	    } else {
<span class="nc" id="L112">		children[i].setBackground(SystemColor.menu);</span>
	    }
	}
<span class="nc" id="L115">    }</span>

    public final static void setKeyListenerOfChildren(Container container, KeyListener listener,
						      Class typeOfChild) {
<span class="nc" id="L119">	Component[] children = container.getComponents();</span>
<span class="nc bnc" id="L120" title="All 2 branches missed.">	for(int i = 0; i &lt; children.length; i++) {</span>
<span class="nc bnc" id="L121" title="All 2 branches missed.">	    if(children[i] instanceof Choice)</span>
<span class="nc" id="L122">		continue;</span>
<span class="nc bnc" id="L123" title="All 2 branches missed.">	    if(children[i] instanceof Container) {</span>
<span class="nc" id="L124">		setKeyListenerOfChildren((Container)children[i], listener, typeOfChild);</span>
<span class="nc bnc" id="L125" title="All 4 branches missed.">	    } else if(children[i] != null &amp;&amp; (typeOfChild == null ||</span>
<span class="nc bnc" id="L126" title="All 2 branches missed.">					      typeOfChild.isInstance(children[i]))) {</span>
<span class="nc" id="L127">		children[i].addKeyListener(listener);</span>
	    }
	}
<span class="nc" id="L130">    }</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>