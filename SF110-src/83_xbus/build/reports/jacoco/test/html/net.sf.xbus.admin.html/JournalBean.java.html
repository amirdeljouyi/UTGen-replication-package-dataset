<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>JournalBean.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">83_xbus</a> &gt; <a href="index.source.html" class="el_package">net.sf.xbus.admin.html</a> &gt; <span class="el_source">JournalBean.java</span></div><h1>JournalBean.java</h1><pre class="source lang-java linenums">package net.sf.xbus.admin.html;

import java.util.HashMap;
import java.util.Iterator;
import java.util.List;

import net.sf.xbus.base.core.XException;

/**
 * Depending on the obtained parameters from the &lt;code&gt;SelectPage&lt;/code&gt; the
 * &lt;code&gt;JournalBean&lt;/code&gt; supplies the &lt;code&gt;JournalPage&lt;/code&gt; with the
 * results from data base in the form of the table. This class contains instance
 * from the {@link  ReadJournal}classe.
 */
<span class="nc" id="L15">public class JournalBean</span>
{

	private List entries;
	private static final String collumnBgCollor = &quot;#D1D0C7&quot;;
	private static final String greyCollor = &quot;#E7E9E6&quot;;
	private static final String whiteCollor = &quot;white&quot;;
<span class="nc" id="L22">	private boolean collor = false;</span>
<span class="nc" id="L23">	private HashMap journalMap = new HashMap();</span>
	private String message;
	private String details;
	private String journIndex;

	// necessary html tages
	private static final String openTagTable_message = &quot;&lt;table width=\&quot;400\&quot; border=0 cellpadding=0 cellspacing=0&gt;&lt;tr class=\&quot;journal\&quot;&gt;&lt;td colspan=\&quot;2\&quot;&gt;&lt;p class=\&quot;zwkopf\&quot;&gt;&quot;;
	private static final String detailsTableMessage = &quot;&lt;tr bgcolor=\&quot;#E7E9E6\&quot;&gt;&lt;td width=\&quot;10\&quot;&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;&quot;;
	private static final String deatilsTable = &quot;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=\&quot;journal\&quot;&gt;&lt;td colspan=\&quot;2\&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/td&gt;&lt;/tr&gt;&quot;;
	private static final String detailsTagFirst = &quot;&lt;tr bgcolor=\&quot;#E7E9E6\&quot;&gt;&lt;td width=\&quot;160\&quot; valign=\&quot;top\&quot;&gt;&quot;;
	private static final String detailsTagOne = &quot;&lt;/td&gt;&lt;/tr&gt;&lt;tr bgcolor=\&quot;#E7E9E6\&quot;&gt;&lt;td width=\&quot;160\&quot; valign=\&quot;top\&quot;&gt;&quot;;
	private static final String detailsTagTwo = &quot;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=\&quot;journal\&quot;&gt;&lt;td width=\&quot;160\&quot; valign=\&quot;top\&quot;&gt;&quot;;
	private static final String detailsTd = &quot;&lt;/td&gt;&lt;td&gt;&quot;;
	private static final String openTagTdTr = &quot;&lt;tr&gt;&lt;td&gt;&quot;;
	private static final String openTagTd = &quot;&lt;td&gt;&quot;;
	private static final String openTagTd_journal = &quot;&lt;td class=\&quot;journal\&quot;&gt;&quot;;
	private static final String openTagTd_function = &quot;&lt;td class=\&quot;function\&quot;&gt;&quot;;
	private static final String openTagTd_selection = &quot;&lt;td class=\&quot;selection\&quot;&gt;&quot;;
	private static final String openTagTr_selection = &quot;&lt;tr align=\&quot;center\&quot; bgcolor=&quot;;
	private static final String openTagTr_bgcolor = &quot;&lt;tr bgcolor=&quot;;
	private static final String openTagP = &quot;&lt;p class=\&quot;zwkopf\&quot;&gt;&quot;;
	private static final String fullTagH4 = &quot;&lt;h4&gt;Details&lt;/h4&gt;&quot;;
	private static final String paramDetails = &quot;message=leer&amp;details=true&amp;index=&quot;;
	private static final String openTagA_messageIdPage = &quot;&lt;a class = \&quot;call\&quot; href=\&quot;MessageIdPage.jsp?messageId=&quot;;
	private static final String openTagA_messagePage = &quot;&lt;a class = \&quot;section\&quot; href=\&quot;MessagePage.jsp?&quot;;
	private static final String openTagA_memo = &quot;&lt;a class=\&quot;section\&quot; name=\&quot;memo\&quot; href=\&quot;#memo\&quot; title=\&quot;&quot;;
	private static final String openTagImage = &quot;&lt;image src=\&quot;/xbus/admin/images/memo.gif\&quot; border=0 align=left&gt;&lt;/a&gt;&quot;;
	private static final String openTagTable_details = &quot;&lt;br&gt;&lt;br&gt;&lt;table width=\&quot;100%\&quot; border=0 cellpadding=0 cellspacing=0&gt;&quot;;
	private static final String openTagTrTdColspan = &quot;&lt;tr class=\&quot;journal\&quot;&gt;&lt;td colspan=\&quot;2\&quot;&gt;&quot;;
	private static final String fullTagTrTdColspan = &quot;&lt;tr&gt;&lt;td colspan=\&quot;2\&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/td&gt;&lt;/tr&gt;&quot;;
	private static final String fullTagA_javasriptBack = &quot;&lt;tr class=\&quot;journal\&quot;&gt;&lt;td colspan=2 align=left&gt;&lt;a class=\&quot;section\&quot; href= \&quot;javascript:history.back()\&quot;&gt;&lt;--- Back&lt;/a&gt;&quot;;
	private static final String fullTagA_javascriptClose = &quot;&lt;tr class=\&quot;journal\&quot; &gt;&lt;td colspan=2 align=left&gt;&lt;a class=\&quot;section\&quot; href= \&quot;javascript:self.close()\&quot;&gt;&lt;--- Close&lt;/a&gt;&quot;;
	private static final String fullTagTrTdColspanColor = &quot;&lt;tr bgcolor=\&quot;#E7E9E6\&quot;&gt;&lt;td colspan=\&quot;2\&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/td&gt;&lt;/tr&gt;&quot;;
	private static final String closeTagA_memoRequest = &quot;request_memo\&quot; onClick = \&quot;openMessage(\'request\',\'false\',\'&quot;;
	private static final String closeTagA_memoResponse = &quot;response_memo\&quot; onClick = \&quot;openMessage(\'response\',\'false\',\'&quot;;
	private static final String closeTagA_memoError = &quot;error_memo\&quot; onClick = \&quot;openMessage(\'error\',\'false\',\'&quot;;
	private static final String closeTagA_messageId = &quot;\&quot; title=\&quot;select to message_id\&quot; target=\&quot;haupt\&quot;&gt;&quot;;
	private static final String closeTagA = &quot;&lt;/a&gt;&quot;;
	private static final String closeTagA_details = &quot;\&quot; title=\&quot;go to the details\&quot; target=\&quot;haupt\&quot;&gt;--&gt;&lt;/a&gt;&quot;;
	private static final String closeTagP = &quot;&lt;/p&gt;&quot;;
	private static final String closeTag = &quot;&gt;&quot;;
	private static final String closeTagTd = &quot;&lt;/td&gt;&quot;;
	private static final String closeTagTdTr = &quot;&lt;/td&gt;&lt;/tr&gt;&quot;;
	private static final String closeTagA_memo = &quot;\')\&quot;&gt;&quot;;
	private static final String closeTagTdTrTable = &quot;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&quot;;
	private static final String noData = &quot;No entries found!&quot;;
	private static final String backspace = &quot;&amp;nbsp;&quot;;

	private String type;
	private String system;
	private String function;
	private String message_id;
	private String request_message;
	private String response_message;
	private String returncode;
	private String requestTimeMin;
	private String requestTimeMax;
	private String orderBy;
	private String sorting;
<span class="nc" id="L82">	private HashMap selectionMap = new HashMap();</span>

	/**
	 * Allows you to set the property &lt;b&gt;&lt;i&gt;selectionMap &lt;/i&gt; &lt;/b&gt;
	 */

	public void setSelectionMap(String selection)
	{
<span class="nc bnc" id="L90" title="All 2 branches missed.">		if (&quot;leer&quot;.equals(selection))</span>
		{
<span class="nc" id="L92">			selectionMap = new HashMap();</span>
		}
		else
		{
<span class="nc" id="L96">			selectionMap = new HashMap();</span>
<span class="nc" id="L97">			selectionMap.put(&quot;MessageId&quot;, selection);</span>
		}
<span class="nc" id="L99">	}</span>

	/**
	 * * Allows you to set the property &lt;b&gt;&lt;i&gt;sorting &lt;/i&gt; &lt;/b&gt;
	 */
	public void setSorting(String newSorting)
	{
<span class="nc bnc" id="L106" title="All 2 branches missed.">		if (newSorting != null)</span>
		{
<span class="nc" id="L108">			sorting = newSorting;</span>
		}
		else
		{
<span class="nc" id="L112">			sorting = &quot;Descending&quot;;</span>
		}
<span class="nc" id="L114">	}</span>

	/**
	 * Allows you to set the property &lt;b&gt;&lt;i&gt;orderBy &lt;/i&gt; &lt;/b&gt;
	 */
	public void setOrderBy(String newOrderBy)
	{

<span class="nc" id="L122">		orderBy = newOrderBy;</span>

<span class="nc" id="L124">	}</span>

	/**
	 * Allows you to set the property &lt;b&gt;&lt;i&gt;type &lt;/i&gt; &lt;/b&gt; and puts the
	 * selected values into the &lt;code&gt;selectionMap&lt;/code&gt;
	 */
	public void setType(String newType)
	{
<span class="nc bnc" id="L132" title="All 4 branches missed.">		if ((newType != null) &amp;&amp; (!newType.equals(&quot;--------------------&quot;)))</span>
		{
<span class="nc" id="L134">			type = newType;</span>
<span class="nc" id="L135">			selectionMap.put(&quot;Type&quot;, type);</span>
		}
<span class="nc" id="L137">	}</span>

	/**
	 * Allows you to set the property &lt;b&gt;&lt;i&gt;system &lt;/i&gt; &lt;/b&gt; and puts the
	 * selected values into the &lt;code&gt;selectionMap&lt;/code&gt;
	 */
	public void setSystem(String newSystem)
	{
<span class="nc bnc" id="L145" title="All 4 branches missed.">		if ((newSystem != null) &amp;&amp; (!newSystem.equals(&quot;--------------------&quot;)))</span>
		{

<span class="nc" id="L148">			system = newSystem;</span>
<span class="nc" id="L149">			selectionMap.put(&quot;System&quot;, system);</span>
		}
<span class="nc" id="L151">	}</span>

	/**
	 * Allows you to set the property &lt;b&gt;&lt;i&gt;function &lt;/i&gt; &lt;/b&gt; and puts the
	 * selected values into the &lt;code&gt;selectionMap&lt;/code&gt;
	 */
	public void setFunction(String newFunction)
	{
<span class="nc bnc" id="L159" title="All 2 branches missed.">		if (newFunction != null)</span>
		{
<span class="nc" id="L161">			function = newFunction;</span>
<span class="nc" id="L162">			selectionMap.put(&quot;Function&quot;, function);</span>
		}
<span class="nc" id="L164">	}</span>
	/**
	 * Allows you to set the property &lt;b&gt;&lt;i&gt;message_id &lt;/i&gt; &lt;/b&gt; and puts the
	 * selected values into the &lt;code&gt;selectionMap&lt;/code&gt;
	 */

	public void setMessageId(String newMessageId)
	{
<span class="nc bnc" id="L172" title="All 2 branches missed.">		if (newMessageId != null)</span>
		{
<span class="nc" id="L174">			message_id = newMessageId;</span>
<span class="nc" id="L175">			selectionMap.put(&quot;MessageId&quot;, message_id);</span>
		}
<span class="nc" id="L177">	}</span>

	/**
	 * Allows you to set the property &lt;b&gt;&lt;i&gt;request_message &lt;/i&gt; &lt;/b&gt; and puts
	 * the selected values into the &lt;code&gt;selectionMap&lt;/code&gt;
	 */
	public void setRequest_message(String newRequest_message)
	{
<span class="nc bnc" id="L185" title="All 2 branches missed.">		if (newRequest_message != null)</span>
		{
<span class="nc" id="L187">			request_message = newRequest_message;</span>
<span class="nc" id="L188">			selectionMap.put(&quot;RequestMessage&quot;, request_message);</span>
		}
<span class="nc" id="L190">	}</span>

	/**
	 * Allows you to set the property &lt;b&gt;&lt;i&gt;response_message &lt;/i&gt; &lt;/b&gt; and puts
	 * the selected values into the &lt;code&gt;selectionMap&lt;/code&gt;
	 */
	public void setResponse_message(String newResponse_message)
	{
<span class="nc bnc" id="L198" title="All 2 branches missed.">		if (newResponse_message != null)</span>
		{
<span class="nc" id="L200">			response_message = newResponse_message;</span>
<span class="nc" id="L201">			selectionMap.put(&quot;ResponseMessage&quot;, response_message);</span>
		}
<span class="nc" id="L203">	}</span>

	/**
	 * Allows you to set the property &lt;b&gt;&lt;i&gt;returncode &lt;/i&gt; &lt;/b&gt; and puts the
	 * selected values into the &lt;code&gt;selectionMap&lt;/code&gt;
	 */
	public void setReturncode(String newReturncode)
	{
<span class="nc bnc" id="L211" title="All 2 branches missed.">		if ((newReturncode != null)</span>
<span class="nc bnc" id="L212" title="All 2 branches missed.">				&amp;&amp; (!newReturncode.equals(&quot;--------------------&quot;)))</span>
		{
<span class="nc" id="L214">			returncode = newReturncode;</span>
<span class="nc" id="L215">			selectionMap.put(&quot;Returncode&quot;, returncode);</span>
		}
<span class="nc" id="L217">	}</span>

	/**
	 * Allows you to set the property &lt;b&gt;&lt;i&gt;requestTimeMin &lt;/i&gt; &lt;/b&gt; and puts
	 * the selected values into the &lt;code&gt;selectionMap&lt;/code&gt;
	 */
	public void setRequestTimeMin(String newRequestTimeMin)
	{
<span class="nc bnc" id="L225" title="All 2 branches missed.">		if (newRequestTimeMin != null)</span>
		{
<span class="nc" id="L227">			requestTimeMin = newRequestTimeMin;</span>
<span class="nc" id="L228">			selectionMap.put(&quot;RequestTimeMin&quot;, requestTimeMin);</span>
		}
<span class="nc" id="L230">	}</span>

	/**
	 * Allows you to set the property &lt;b&gt;&lt;i&gt;requestTimeMax &lt;/i&gt; &lt;/b&gt; and puts
	 * the selected values into the &lt;code&gt;selectionMap&lt;/code&gt;
	 */
	public void setRequestTimeMax(String newRequestTimeMax)
	{
<span class="nc bnc" id="L238" title="All 2 branches missed.">		if (newRequestTimeMax != null)</span>
		{
<span class="nc" id="L240">			requestTimeMax = newRequestTimeMax;</span>
<span class="nc" id="L241">			selectionMap.put(&quot;RequestTimeMax&quot;, requestTimeMax);</span>
		}
<span class="nc" id="L243">	}</span>

	/**
	 * Allows you to set the property &lt;b&gt;&lt;i&gt;message &lt;/i&gt; &lt;/b&gt;
	 */

	public void setMessage(String newMessage)
	{
<span class="nc" id="L251">		message = newMessage;</span>
<span class="nc" id="L252">	}</span>

	/**
	 * Allows you to set the property &lt;b&gt;&lt;i&gt;journalIndex &lt;/i&gt; &lt;/b&gt;
	 */
	public void setJournIndex(String newIndex)
	{
<span class="nc" id="L259">		journIndex = newIndex;</span>
<span class="nc" id="L260">	}</span>

	/**
	 * Allows you to set the property &lt;b&gt;&lt;i&gt;details &lt;/i&gt; &lt;/b&gt;
	 */
	public void setDetails(String newDetails)
	{
<span class="nc" id="L267">		details = newDetails;</span>
<span class="nc" id="L268">	}</span>

	/**
	 * Translates the xml tages to the html tages
	 */
	private String replaceChar(String message)
	{
<span class="nc" id="L275">		StringBuffer messageBuffer = new StringBuffer();</span>

<span class="nc bnc" id="L277" title="All 2 branches missed.">		for (int i = 0; i &lt; message.length(); i++)</span>
		{
<span class="nc" id="L279">			char messageChar = message.charAt(i);</span>
<span class="nc bnc" id="L280" title="All 2 branches missed.">			if (messageChar == '&lt;')</span>
			{
<span class="nc" id="L282">				messageBuffer.append(&quot;&amp;lt;&quot;);</span>
			}
<span class="nc bnc" id="L284" title="All 2 branches missed.">			else if (messageChar == '&gt;')</span>
			{
<span class="nc" id="L286">				messageBuffer.append(&quot;&amp;gt;&quot;);</span>
			}
<span class="nc bnc" id="L288" title="All 2 branches missed.">			else if (messageChar == '\'')</span>
			{
<span class="nc" id="L290">				messageBuffer.append(&quot;&amp;quot;&quot;);</span>
			}

			else
			{
<span class="nc" id="L295">				messageBuffer.append(messageChar);</span>
			}

		}

<span class="nc" id="L300">		return messageBuffer.toString();</span>
	}

	/**
	 * Checks and changes the color
	 */
	private String checkColor(boolean newCollor)
	{
<span class="nc bnc" id="L308" title="All 2 branches missed.">		if (newCollor)</span>
		{
<span class="nc" id="L310">			collor = false;</span>
<span class="nc" id="L311">			return JournalBean.greyCollor;</span>
		}
		else
		{
<span class="nc" id="L315">			collor = true;</span>
<span class="nc" id="L316">			return JournalBean.whiteCollor;</span>
		}
	}

	/**
	 * &lt;code&gt;getDataAsTableRows()&lt;/code&gt; invokes the static method
	 * {@link ReadJournal#readSelected(HashMap, String, String)}and returns all
	 * selected data int the Html tages as String.
	 * 
	 * @return String with all selected data in the Html tages
	 * @see ReadJournal#readSelected(HashMap, String, String)
	 * @see net.sf.xbus.technical.database.DBConnection
	 */
	public String getDataAsTableRows() throws XException
	{
		// conected to the data base and get all selected entries
<span class="nc" id="L332">		entries = ReadJournal.readSelected(selectionMap, orderBy, sorting);</span>

<span class="nc" id="L334">		StringBuffer dataBuffer = new StringBuffer();</span>
<span class="nc" id="L335">		int index = 0;</span>
		ReadJournal journal;
<span class="nc" id="L337">		collor = false;</span>

<span class="nc bnc" id="L339" title="All 2 branches missed.">		if (!entries.iterator().hasNext())</span>
		{
<span class="nc" id="L341">			dataBuffer.append(JournalBean.openTagTdTr);</span>
<span class="nc" id="L342">			dataBuffer.append(JournalBean.openTagP);</span>
<span class="nc" id="L343">			dataBuffer.append(JournalBean.noData);</span>
<span class="nc" id="L344">			dataBuffer.append(JournalBean.closeTagP);</span>
<span class="nc" id="L345">			dataBuffer.append(JournalBean.closeTagTdTr);</span>
		}
		else
		{
<span class="nc" id="L349">			dataBuffer.append(getCollumnsAsTableRows());</span>

<span class="nc bnc" id="L351" title="All 2 branches missed.">			for (Iterator it = entries.iterator(); it.hasNext();)</span>
			{

<span class="nc" id="L354">				journal = (ReadJournal) (it.next());</span>
<span class="nc" id="L355">				journalMap.put(new Integer(index).toString(), journal);</span>

<span class="nc" id="L357">				dataBuffer.append(getJournalAsTableRows(journal, index));</span>

<span class="nc" id="L359">				index++;</span>
			}

		}
<span class="nc" id="L363">		entries.clear();</span>
<span class="nc" id="L364">		return dataBuffer.toString();</span>

	}

	/**
	 * &lt;code&gt;getJournalAsTableRows(ReadJournal, int)&lt;/code&gt; composes String
	 * with the values from the data base.
	 * 
	 * @param journal - ReadJournal object
	 * @param index - int
	 * @return String
	 */

	public String getJournalAsTableRows(ReadJournal journal, int index)
	{
<span class="nc" id="L379">		StringBuffer journalBuffer = new StringBuffer();</span>
		// link to the details
<span class="nc" id="L381">		journalBuffer.append(JournalBean.openTagTr_bgcolor);</span>
<span class="nc" id="L382">		journalBuffer.append(checkColor(collor));</span>
<span class="nc" id="L383">		journalBuffer.append(JournalBean.closeTag);</span>
<span class="nc" id="L384">		journalBuffer.append(JournalBean.openTagTd_journal);</span>
<span class="nc" id="L385">		journalBuffer.append(JournalBean.openTagA_messagePage);</span>
<span class="nc" id="L386">		journalBuffer.append(JournalBean.paramDetails);</span>
<span class="nc" id="L387">		journalBuffer.append(index);</span>
<span class="nc" id="L388">		journalBuffer.append(JournalBean.closeTagA_details);</span>

		// number
<span class="nc" id="L391">		journalBuffer.append(JournalBean.openTagTd_journal);</span>
<span class="nc" id="L392">		journalBuffer.append(new Integer(journal.getNumber()).toString());</span>
<span class="nc" id="L393">		journalBuffer.append(JournalBean.closeTagTd);</span>

		// type
<span class="nc" id="L396">		journalBuffer.append(JournalBean.openTagTd_function);</span>
<span class="nc" id="L397">		journalBuffer.append(new Character(journal.getType()).toString());</span>
<span class="nc" id="L398">		journalBuffer.append(JournalBean.closeTagTd);</span>

		// system
<span class="nc" id="L401">		journalBuffer.append(JournalBean.openTagTd_journal);</span>
<span class="nc" id="L402">		journalBuffer.append(journal.getSystem());</span>
<span class="nc" id="L403">		journalBuffer.append(JournalBean.closeTagTd);</span>

		// function
<span class="nc" id="L406">		journalBuffer.append(JournalBean.openTagTd_function);</span>

<span class="nc bnc" id="L408" title="All 2 branches missed.">		if (journal.getFunction() == null)</span>
		{
<span class="nc" id="L410">			journalBuffer.append(JournalBean.backspace);</span>
		}
		else
		{
<span class="nc" id="L414">			journalBuffer.append(journal.getFunction());</span>
		}
<span class="nc" id="L416">		journalBuffer.append(JournalBean.closeTagTd);</span>

		// message_id

<span class="nc" id="L420">		journalBuffer.append(JournalBean.openTagTd_journal);</span>
<span class="nc" id="L421">		journalBuffer.append(JournalBean.openTagA_messageIdPage);</span>
<span class="nc" id="L422">		journalBuffer.append(journal.getMessageId());</span>
<span class="nc" id="L423">		journalBuffer.append(JournalBean.closeTagA_messageId);</span>
<span class="nc" id="L424">		journalBuffer.append(journal.getMessageId());</span>
<span class="nc" id="L425">		journalBuffer.append(JournalBean.closeTagA);</span>
<span class="nc" id="L426">		journalBuffer.append(JournalBean.closeTagTd);</span>

		// request message
<span class="nc" id="L429">		journalBuffer.append(JournalBean.openTagTd);</span>

<span class="nc bnc" id="L431" title="All 2 branches missed.">		if (journal.getRequestMessage() == null</span>
<span class="nc bnc" id="L432" title="All 2 branches missed.">				|| journal.getRequestMessage().equals(&quot;&lt;null&gt;&quot;))</span>
		{
<span class="nc" id="L434">			journalBuffer.append(JournalBean.backspace);</span>
		}
		else
		{
<span class="nc" id="L438">			journalBuffer.append(JournalBean.openTagA_memo);</span>
<span class="nc" id="L439">			journalBuffer.append(JournalBean.closeTagA_memoRequest);</span>
<span class="nc" id="L440">			journalBuffer.append(index);</span>
<span class="nc" id="L441">			journalBuffer.append(closeTagA_memo);</span>
<span class="nc" id="L442">			journalBuffer.append(JournalBean.openTagImage);</span>

		}

<span class="nc" id="L446">		journalBuffer.append(JournalBean.closeTagTd);</span>

		// request timestamp
<span class="nc" id="L449">		journalBuffer.append(JournalBean.openTagTd_journal);</span>
<span class="nc" id="L450">		journalBuffer.append(journal.getRequestTimestamp());</span>
<span class="nc" id="L451">		journalBuffer.append(JournalBean.closeTagTd);</span>

		// response message
<span class="nc" id="L454">		journalBuffer.append(JournalBean.openTagTd);</span>

<span class="nc bnc" id="L456" title="All 2 branches missed.">		if (journal.getResponseMessage() == null</span>
<span class="nc bnc" id="L457" title="All 2 branches missed.">				|| journal.getResponseMessage().equals(&quot;&lt;null&gt;&quot;))</span>
		{
<span class="nc" id="L459">			journalBuffer.append(JournalBean.backspace);</span>
		}
		else
		{
<span class="nc" id="L463">			journalBuffer.append(JournalBean.openTagA_memo);</span>
<span class="nc" id="L464">			journalBuffer.append(JournalBean.closeTagA_memoResponse);</span>
<span class="nc" id="L465">			journalBuffer.append(index);</span>
<span class="nc" id="L466">			journalBuffer.append(closeTagA_memo);</span>
<span class="nc" id="L467">			journalBuffer.append(JournalBean.openTagImage);</span>

		}

<span class="nc" id="L471">		journalBuffer.append(JournalBean.closeTagTd);</span>

		// response timestamp
<span class="nc" id="L474">		journalBuffer.append(JournalBean.openTagTd_journal);</span>
<span class="nc" id="L475">		journalBuffer.append(journal.getResponseTimestamp());</span>
<span class="nc" id="L476">		journalBuffer.append(JournalBean.closeTagTd);</span>

		// return code
<span class="nc" id="L479">		journalBuffer.append(JournalBean.openTagTd_journal);</span>
<span class="nc" id="L480">		journalBuffer.append(journal.getReturncode());</span>
<span class="nc" id="L481">		journalBuffer.append(JournalBean.closeTagTd);</span>

		// error message
<span class="nc" id="L484">		journalBuffer.append(JournalBean.openTagTd);</span>
<span class="nc bnc" id="L485" title="All 2 branches missed.">		if (journal.getErrormessage() == null</span>
<span class="nc bnc" id="L486" title="All 2 branches missed.">				|| journal.getErrormessage().equals(&quot;&lt;null&gt;&quot;))</span>
		{
<span class="nc" id="L488">			journalBuffer.append(JournalBean.backspace);</span>
		}
		else
		{

<span class="nc" id="L493">			journalBuffer.append(JournalBean.openTagA_memo);</span>
<span class="nc" id="L494">			journalBuffer.append(JournalBean.closeTagA_memoError);</span>
<span class="nc" id="L495">			journalBuffer.append(index);</span>
<span class="nc" id="L496">			journalBuffer.append(closeTagA_memo);</span>
<span class="nc" id="L497">			journalBuffer.append(JournalBean.openTagImage);</span>

		}

<span class="nc" id="L501">		journalBuffer.append(JournalBean.closeTagTdTr);</span>

<span class="nc" id="L503">		return journalBuffer.toString();</span>

	}
	/**
	 * Depending on the obtained parameters, &lt;code&gt;getDetailsAsTable()&lt;/code&gt;
	 * composes String with the request/response/error message or with the
	 * detail liste.
	 * 
	 * @return String
	 */

	public String getDetailsAsTable()
	{
<span class="nc" id="L516">		StringBuffer detailsBuffer = new StringBuffer();</span>
<span class="nc" id="L517">		ReadJournal journal = (ReadJournal) journalMap.get(journIndex);</span>

<span class="nc bnc" id="L519" title="All 2 branches missed.">		if (details.equals(&quot;true&quot;))</span>
		{
<span class="nc" id="L521">			detailsBuffer.append(JournalBean.openTagTable_details);</span>
<span class="nc" id="L522">			detailsBuffer.append(JournalBean.openTagTrTdColspan);</span>
<span class="nc" id="L523">			detailsBuffer.append(JournalBean.fullTagH4);</span>
<span class="nc" id="L524">			detailsBuffer.append(JournalBean.deatilsTable);</span>

<span class="nc" id="L526">			detailsBuffer.append(JournalBean.detailsTagFirst);</span>
<span class="nc" id="L527">			detailsBuffer.append(&quot;Number:&quot;);</span>
<span class="nc" id="L528">			detailsBuffer.append(JournalBean.detailsTd);</span>
<span class="nc" id="L529">			detailsBuffer.append(journal.getNumber());</span>
<span class="nc" id="L530">			detailsBuffer.append(JournalBean.detailsTagTwo);</span>
<span class="nc" id="L531">			detailsBuffer.append(&quot;Type:&quot;);</span>
<span class="nc" id="L532">			detailsBuffer.append(JournalBean.detailsTd);</span>
<span class="nc" id="L533">			detailsBuffer.append(journal.getType());</span>
<span class="nc" id="L534">			detailsBuffer.append(JournalBean.detailsTagOne);</span>
<span class="nc" id="L535">			detailsBuffer.append(&quot;System:&quot;);</span>
<span class="nc" id="L536">			detailsBuffer.append(JournalBean.detailsTd);</span>
<span class="nc" id="L537">			detailsBuffer.append(journal.getSystem());</span>
<span class="nc" id="L538">			detailsBuffer.append(JournalBean.detailsTagTwo);</span>
<span class="nc" id="L539">			detailsBuffer.append(&quot;Function:&quot;);</span>
<span class="nc" id="L540">			detailsBuffer.append(JournalBean.detailsTd);</span>
<span class="nc" id="L541">			detailsBuffer.append(journal.getFunction());</span>
<span class="nc" id="L542">			detailsBuffer.append(JournalBean.detailsTagOne);</span>
<span class="nc" id="L543">			detailsBuffer.append(&quot;Message Id:&quot;);</span>
<span class="nc" id="L544">			detailsBuffer.append(JournalBean.detailsTd);</span>
<span class="nc" id="L545">			detailsBuffer.append(journal.getMessageId());</span>
<span class="nc" id="L546">			detailsBuffer.append(JournalBean.detailsTagTwo);</span>
<span class="nc" id="L547">			detailsBuffer.append(&quot;Returncode:&quot;);</span>
<span class="nc" id="L548">			detailsBuffer.append(JournalBean.detailsTd);</span>
<span class="nc" id="L549">			detailsBuffer.append(journal.getReturncode());</span>
<span class="nc" id="L550">			detailsBuffer.append(JournalBean.detailsTagOne);</span>
<span class="nc" id="L551">			detailsBuffer.append(&quot;Request Timestamp:&quot;);</span>
<span class="nc" id="L552">			detailsBuffer.append(JournalBean.detailsTd);</span>
<span class="nc" id="L553">			detailsBuffer.append(journal.getRequestTimestamp());</span>
<span class="nc" id="L554">			detailsBuffer.append(JournalBean.detailsTagTwo);</span>
<span class="nc" id="L555">			detailsBuffer.append(&quot;Request Message:&quot;);</span>
<span class="nc" id="L556">			detailsBuffer.append(JournalBean.closeTagP);</span>
<span class="nc" id="L557">			detailsBuffer.append(JournalBean.detailsTd);</span>
<span class="nc bnc" id="L558" title="All 2 branches missed.">			if (journal.getRequestMessage() != null)</span>
			{
<span class="nc" id="L560">				detailsBuffer.append(&quot;&lt;PRE&gt;&quot;);</span>
<span class="nc" id="L561">				detailsBuffer.append(replaceChar(journal.getRequestMessage()));</span>
<span class="nc" id="L562">				detailsBuffer.append(&quot;&lt;/PRE&gt;&quot;);</span>
			}
			else
			{
<span class="nc" id="L566">				detailsBuffer.append(&quot;null&quot;);</span>
			}
<span class="nc" id="L568">			detailsBuffer.append(JournalBean.detailsTagOne);</span>
<span class="nc" id="L569">			detailsBuffer.append(&quot;Response Timestamp:&quot;);</span>
<span class="nc" id="L570">			detailsBuffer.append(JournalBean.detailsTd);</span>
<span class="nc" id="L571">			detailsBuffer.append(journal.getResponseTimestamp());</span>
<span class="nc" id="L572">			detailsBuffer.append(JournalBean.detailsTagTwo);</span>
<span class="nc" id="L573">			detailsBuffer.append(&quot;Response Message:&quot;);</span>
<span class="nc" id="L574">			detailsBuffer.append(JournalBean.closeTagP);</span>
<span class="nc" id="L575">			detailsBuffer.append(JournalBean.detailsTd);</span>
<span class="nc bnc" id="L576" title="All 2 branches missed.">			if (journal.getResponseMessage() != null)</span>
			{
<span class="nc" id="L578">				detailsBuffer.append(&quot;&lt;PRE&gt;&quot;);</span>
<span class="nc" id="L579">				detailsBuffer.append(replaceChar(journal.getResponseMessage()));</span>
<span class="nc" id="L580">				detailsBuffer.append(&quot;&lt;/PRE&gt;&quot;);</span>
			}
			else
			{
<span class="nc" id="L584">				detailsBuffer.append(&quot;null&quot;);</span>
			}
<span class="nc" id="L586">			detailsBuffer.append(JournalBean.detailsTagOne);</span>
<span class="nc" id="L587">			detailsBuffer.append(&quot;Errorcode:&quot;);</span>
<span class="nc" id="L588">			detailsBuffer.append(JournalBean.detailsTd);</span>
<span class="nc" id="L589">			detailsBuffer.append(journal.getErrorcode());</span>
<span class="nc" id="L590">			detailsBuffer.append(JournalBean.detailsTagTwo);</span>
<span class="nc" id="L591">			detailsBuffer.append(&quot;Errormessage:&quot;);</span>
<span class="nc" id="L592">			detailsBuffer.append(JournalBean.closeTagP);</span>
<span class="nc" id="L593">			detailsBuffer.append(JournalBean.detailsTd);</span>
<span class="nc bnc" id="L594" title="All 2 branches missed.">			if (journal.getErrormessage() != null)</span>
			{
<span class="nc" id="L596">				detailsBuffer.append(replaceChar(journal.getErrormessage()));</span>
			}
			else
			{
<span class="nc" id="L600">				detailsBuffer.append(&quot;null&quot;);</span>
			}
<span class="nc" id="L602">			detailsBuffer.append(JournalBean.closeTagTdTr);</span>

<span class="nc" id="L604">			detailsBuffer.append(JournalBean.fullTagTrTdColspanColor);</span>
<span class="nc" id="L605">			detailsBuffer.append(JournalBean.fullTagTrTdColspan);</span>
<span class="nc" id="L606">			detailsBuffer.append(JournalBean.fullTagA_javasriptBack);</span>

<span class="nc" id="L608">			detailsBuffer.append(JournalBean.closeTagTdTrTable);</span>

		}

<span class="nc bnc" id="L612" title="All 2 branches missed.">		else if (&quot;request&quot;.equals(message))</span>
		{

<span class="nc" id="L615">			detailsBuffer.append(JournalBean.openTagTable_message);</span>
<span class="nc" id="L616">			detailsBuffer.append(&quot;Request Message&quot;);</span>
<span class="nc" id="L617">			detailsBuffer.append(JournalBean.deatilsTable);</span>

<span class="nc" id="L619">			detailsBuffer.append(JournalBean.detailsTableMessage);</span>

<span class="nc bnc" id="L621" title="All 2 branches missed.">			if (journal.getRequestMessage() != null)</span>
			{
<span class="nc" id="L623">				detailsBuffer.append(&quot;&lt;PRE&gt;&quot;);</span>
<span class="nc" id="L624">				detailsBuffer.append(replaceChar(journal.getRequestMessage()));</span>
<span class="nc" id="L625">				detailsBuffer.append(&quot;&lt;/PRE&gt;&quot;);</span>
			}
			else
			{
<span class="nc" id="L629">				detailsBuffer.append(&quot;null&quot;);</span>
			}
<span class="nc" id="L631">			detailsBuffer.append(JournalBean.closeTagTdTr);</span>
<span class="nc" id="L632">			detailsBuffer.append(JournalBean.fullTagTrTdColspan);</span>
<span class="nc" id="L633">			detailsBuffer.append(JournalBean.fullTagA_javascriptClose);</span>
<span class="nc" id="L634">			detailsBuffer.append(JournalBean.closeTagTdTrTable);</span>
		}

<span class="nc bnc" id="L637" title="All 2 branches missed.">		else if (&quot;response&quot;.equals(message))</span>
		{

<span class="nc" id="L640">			detailsBuffer.append(JournalBean.openTagTable_message);</span>
<span class="nc" id="L641">			detailsBuffer.append(&quot;Response Message&quot;);</span>
<span class="nc" id="L642">			detailsBuffer.append(JournalBean.deatilsTable);</span>

<span class="nc" id="L644">			detailsBuffer.append(JournalBean.detailsTableMessage);</span>
<span class="nc bnc" id="L645" title="All 2 branches missed.">			if (journal.getResponseMessage() != null)</span>
			{
<span class="nc" id="L647">				detailsBuffer.append(&quot;&lt;PRE&gt;&quot;);</span>
<span class="nc" id="L648">				detailsBuffer.append(replaceChar(journal.getResponseMessage()));</span>
<span class="nc" id="L649">				detailsBuffer.append(&quot;&lt;/PRE&gt;&quot;);</span>
			}
			else
			{
<span class="nc" id="L653">				detailsBuffer.append(&quot;null&quot;);</span>
			}
<span class="nc" id="L655">			detailsBuffer.append(JournalBean.closeTagTdTr);</span>
<span class="nc" id="L656">			detailsBuffer.append(JournalBean.fullTagTrTdColspan);</span>
<span class="nc" id="L657">			detailsBuffer.append(JournalBean.fullTagA_javascriptClose);</span>
<span class="nc" id="L658">			detailsBuffer.append(JournalBean.closeTagTdTrTable);</span>

		}

<span class="nc bnc" id="L662" title="All 2 branches missed.">		else if (&quot;error&quot;.equals(message))</span>
		{
<span class="nc" id="L664">			detailsBuffer.append(JournalBean.openTagTable_message);</span>
<span class="nc" id="L665">			detailsBuffer.append(&quot;Errormessage&quot;);</span>
<span class="nc" id="L666">			detailsBuffer.append(JournalBean.deatilsTable);</span>

<span class="nc" id="L668">			detailsBuffer.append(JournalBean.detailsTableMessage);</span>
<span class="nc bnc" id="L669" title="All 2 branches missed.">			if (journal.getErrormessage() != null)</span>
			{
<span class="nc" id="L671">				detailsBuffer.append(replaceChar(journal.getErrormessage()));</span>
			}
			else
			{
<span class="nc" id="L675">				detailsBuffer.append(&quot;null&quot;);</span>
			}
<span class="nc" id="L677">			detailsBuffer.append(JournalBean.closeTagTdTr);</span>
<span class="nc" id="L678">			detailsBuffer.append(JournalBean.fullTagTrTdColspan);</span>
<span class="nc" id="L679">			detailsBuffer.append(JournalBean.fullTagA_javascriptClose);</span>
<span class="nc" id="L680">			detailsBuffer.append(JournalBean.closeTagTdTrTable);</span>

		}

<span class="nc" id="L684">		return detailsBuffer.toString();</span>
	}

	/**
	 * &lt;code&gt;getCollumnsAsTableRows()&lt;/code&gt; composes String with the names of
	 * the collumns.
	 * 
	 * @return String
	 */
	public String getCollumnsAsTableRows()
	{
<span class="nc" id="L695">		StringBuffer columnNameBuffer = new StringBuffer();</span>

<span class="nc" id="L697">		columnNameBuffer.append(JournalBean.openTagTr_selection);</span>
<span class="nc" id="L698">		columnNameBuffer.append(JournalBean.collumnBgCollor);</span>
<span class="nc" id="L699">		columnNameBuffer.append(JournalBean.closeTag);</span>
<span class="nc" id="L700">		columnNameBuffer.append(JournalBean.openTagTd_selection);</span>
<span class="nc" id="L701">		columnNameBuffer.append(JournalBean.backspace);</span>
<span class="nc" id="L702">		columnNameBuffer.append(JournalBean.closeTagTd);</span>
<span class="nc" id="L703">		columnNameBuffer.append(JournalBean.openTagTd_selection);</span>
<span class="nc" id="L704">		columnNameBuffer.append(&quot;No&quot;);</span>
<span class="nc" id="L705">		columnNameBuffer.append(JournalBean.closeTagTd);</span>
<span class="nc" id="L706">		columnNameBuffer.append(JournalBean.openTagTd_selection);</span>
<span class="nc" id="L707">		columnNameBuffer.append(&quot;Type&quot;);</span>
<span class="nc" id="L708">		columnNameBuffer.append(JournalBean.closeTagTd);</span>
<span class="nc" id="L709">		columnNameBuffer.append(JournalBean.openTagTd_selection);</span>
<span class="nc" id="L710">		columnNameBuffer.append(&quot;System&quot;);</span>
<span class="nc" id="L711">		columnNameBuffer.append(JournalBean.closeTagTd);</span>
<span class="nc" id="L712">		columnNameBuffer.append(JournalBean.openTagTd_selection);</span>
<span class="nc" id="L713">		columnNameBuffer.append(&quot;Function&quot;);</span>
<span class="nc" id="L714">		columnNameBuffer.append(JournalBean.closeTagTd);</span>
<span class="nc" id="L715">		columnNameBuffer.append(JournalBean.openTagTd_selection);</span>
<span class="nc" id="L716">		columnNameBuffer.append(&quot;Message Id&quot;);</span>
<span class="nc" id="L717">		columnNameBuffer.append(JournalBean.closeTagTd);</span>
<span class="nc" id="L718">		columnNameBuffer.append(JournalBean.openTagTd_selection);</span>
<span class="nc" id="L719">		columnNameBuffer.append(JournalBean.backspace);</span>
<span class="nc" id="L720">		columnNameBuffer.append(JournalBean.closeTagTd);</span>
<span class="nc" id="L721">		columnNameBuffer.append(JournalBean.openTagTd_selection);</span>
<span class="nc" id="L722">		columnNameBuffer.append(&quot;Request Timestamp&quot;);</span>
<span class="nc" id="L723">		columnNameBuffer.append(JournalBean.closeTagTd);</span>
<span class="nc" id="L724">		columnNameBuffer.append(JournalBean.openTagTd_selection);</span>
<span class="nc" id="L725">		columnNameBuffer.append(JournalBean.backspace);</span>
<span class="nc" id="L726">		columnNameBuffer.append(JournalBean.closeTagTd);</span>
<span class="nc" id="L727">		columnNameBuffer.append(JournalBean.openTagTd_selection);</span>
<span class="nc" id="L728">		columnNameBuffer.append(&quot;Response Timestamp&quot;);</span>
<span class="nc" id="L729">		columnNameBuffer.append(JournalBean.closeTagTd);</span>
<span class="nc" id="L730">		columnNameBuffer.append(JournalBean.openTagTd_selection);</span>
<span class="nc" id="L731">		columnNameBuffer.append(&quot;Returncode&quot;);</span>
<span class="nc" id="L732">		columnNameBuffer.append(JournalBean.closeTagTd);</span>
<span class="nc" id="L733">		columnNameBuffer.append(JournalBean.openTagTd_selection);</span>
<span class="nc" id="L734">		columnNameBuffer.append(JournalBean.backspace);</span>

<span class="nc" id="L736">		columnNameBuffer.append(JournalBean.closeTagTdTr);</span>

<span class="nc" id="L738">		return columnNameBuffer.toString();</span>
	}

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>