<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Vector.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">86_at-robots2-j</a> &gt; <a href="index.source.html" class="el_package">net.virtualinfinity.atrobots.measures</a> &gt; <span class="el_source">Vector.java</span></div><h1>Vector.java</h1><pre class="source lang-java linenums">package net.virtualinfinity.atrobots.measures;

import java.awt.geom.Point2D;

/**
 * This is a 2d vector class. Use {@link #createPolar(AbsoluteAngle, double)} or
 * {@link #createCartesian(double , double)} } to create an instance of this class.
 *
 * @author Daniel Pitts
 */
<span class="nc" id="L11">public abstract class Vector {</span>
    /**
     * Get the magnitude of his vector
     *
     * @return the magnitude of this vector
     */
    public abstract double getMagnitude();

    /**
     * Get the direction of this vector.
     *
     * @return the theta of this angle.
     */
    public abstract AbsoluteAngle getAngle();

    /**
     * Get the X component of this vector
     *
     * @return the x component.
     */
    public abstract double getX();

    /**
     * Get the Y component of this vector
     *
     * @return the y component.
     */
    public abstract double getY();

    /**
     * Create a new Vector instance based on polar coordinates
     *
     * @param angle     the direction of the vector
     * @param magnitude the magnitude of the vector
     * @return a vector with the given direction and magnitude
     */
    public static Vector createPolar(AbsoluteAngle angle, double magnitude) {
<span class="nc" id="L48">        return PolarVector.createPolar(angle, magnitude);</span>
    }

    /**
     * Create a new Vector instance based on cartesian (rectangular) coordinates
     *
     * @param x the x component of the vector
     * @param y the y component of the vector
     * @return a vector with the given &lt;x,y&gt; components
     */
    public static Vector createCartesian(double x, double y) {
<span class="nc" id="L59">        return CartesianVector.fromCartesian(x, y);</span>
    }

    /**
     * Add this vector with the given vector
     *
     * @param vector the summand.
     * @return a new vector which is the sum.
     */
    public Vector plus(Vector vector) {
<span class="nc" id="L69">        return createCartesian(getX() + (vector.getX()), getY() + (vector.getY()));</span>
    }

    public String toString() {
<span class="nc" id="L73">        return &quot;&lt;&quot; + getAngle() + &quot;, &quot; + getMagnitude() + &quot;&gt;:&lt;&quot; + getX() + &quot;, &quot; + getY() + &quot;&gt;&quot;;</span>
    }

    /**
     * Convert this vector to a {@link java.awt.geom.Point2D}
     *
     * @return a point.
     */
    public Point2D toPoint2D() {
<span class="nc" id="L82">        return new Point2D.Double(getX(), getY());</span>
    }

    /**
     * Subtract the given vector from this one.
     *
     * @param vector the vector to subtract.
     * @return the difference between the vectors.
     */
    public Vector minus(Vector vector) {
<span class="nc" id="L92">        return createCartesian(getX() - (vector.getX()), getY() - (vector.getY()));</span>
    }

    /**
     * Calculate the dot product of this vector with another vector.
     *
     * @param vector the other vector.
     * @return the dot product.
     */
    public double dot(Vector vector) {
<span class="nc" id="L102">        return getX() * (vector.getX()) + (getY() * (vector.getY()));</span>
    }

    /**
     * Find the intersection of the given line segment with the line that is perpendicular to the given line and goes
     * through the point represented by this vector.
     *
     * @param linePoint     the start of the line segment.
     * @param lineSlope     the angle of the line segment.
     * @param segmentLength the length of the segment
     * @return the point where the segment intersects the line.
     */
    public Vector perpendicularIntersectionFrom(Vector linePoint, AbsoluteAngle lineSlope, double segmentLength) {
<span class="nc" id="L115">        final Vector intersectionVector = lineSlope.projectAngle(minus(linePoint));</span>
<span class="nc bnc" id="L116" title="All 2 branches missed.">        if (intersectionVector.getMagnitude() &lt; (segmentLength))</span>
<span class="nc" id="L117">            return intersectionVector.plus(linePoint);</span>
        else {
<span class="nc" id="L119">            return null;</span>
        }
    }

    /**
     * Scale this vector.
     *
     * @param scalar the scale.
     * @return a vector who's direction is the same as this vector, but whos magnitude is scaled.
     */
    public abstract Vector times(double scalar);

    /**
     * Get the square of the magnitude of this.
     *
     * @return the square of the magnitude.
     */
    public abstract double getMagnitudeSquared();

    public boolean equals(Object o) {
<span class="nc bnc" id="L139" title="All 2 branches missed.">        if (!(o instanceof Vector)) {</span>
<span class="nc" id="L140">            return false;</span>
        }
<span class="nc" id="L142">        Vector vector = (Vector) o;</span>
<span class="nc bnc" id="L143" title="All 4 branches missed.">        return getX() == (vector.getX()) &amp;&amp; getY() == (vector.getY());</span>
    }

    /**
     * Project this vector onto the given vector.
     *
     * @param v the vector to be projected upon.
     * @return the vector projection.
     */
    public Vector projectOnto(Vector v) {
<span class="nc" id="L153">        return v.times(v.dot(this) / (v.getMagnitudeSquared()));</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>